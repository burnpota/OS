======================<br><b>생성계정 : 주호 이</b><br><b>생성날짜 : 2016-06-10T05:15:55Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2016-06-29T10:03:37Z</b><br><b>id : 500A000000Ua0J2IAJ</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][보험ERP][가동계] Steps to clone Storage LUN
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>########## 설명 ######### <br>1. RHEL7.2 시스템에 DATA가 저장되어 있는 SAN 스토리지 볼륨이 있음.<br>2.  A 데이터센터와 B 데이터센터 간 원격지 &quot;SAN 스토리지 볼륨 복제&quot;를 수행 하고자 함.<br>3. A 데이터센터의 시스템에 SAN 스토리지 볼륨을 A-S 라고하고,<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S1<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 한 번 더 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S2<br>    라고 지칭할 때,<br>    B-S1 은 사전운영용 DATA 스토리지 볼륨이며,<br>    B-S2는 DR 전환용 DATA 복제 스토리지 볼륨 임.<br>4. 구성상 B-S1과 B-S2를 하나의 시스템에 각각 경로가 다른 파일시스템에 마운트 하여야 함.<br>5. 각각 용도가 다른 SAN 스토리지 볼륨 B-S1과 B-S2를 경로가 다른 파일시스템으로 마운트하여도<br>    하나의 시스템에서 사용하는 경우,<br>    LVM 구성에서 UUID duplicate 문제가 발생할 것으로 예상 됨.<br><br>######### 최종목표 ######### <br>각각 용도가 다른 SAN 스토리지 볼륨 B-S1과 B-S2를 경로가 다른 파일시스템으로 마운트하여도<br>하나의 시스템에서 사용하는 경우,<br>LVM UUID를 변경하여 LVM 구성에서 UUID duplicate 문제가 발생하지 않게 함.<br><br>######### 문의 ######### <br>위 설명의 5항에서 발생하는 문제점을 회피하고자<br>B-S1의 PV와VG, 그리고 LV의 UUID를 바꾸는 절차를 문의 하고자 합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 4 (Low)</b><br><br><br><folderNumber>74173</folderNumber><br><comment id="a0aA000000HIgVMIA1"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-06-13T09:56:08Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-06-13T09:56:08Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>설명:<br>1. RHEL7.2 시스템에 DATA가 저장되어 있는 SAN 스토리지 볼륨이 있음.<br>2.  A 데이터센터와 B 데이터센터 간 원격지 &quot;SAN 스토리지 볼륨 복제&quot;를 수행 하고자 함.<br>3. A 데이터센터의 시스템에 SAN 스토리지 볼륨을 A-S 라고하고,<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S1<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 한 번 더 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S2<br>    라고 지칭할 때,<br>    B-S1 은 사전운영용 DATA 스토리지 볼륨이며,<br>    B-S2는 DR 전환용 DATA 복제 스토리지 볼륨 임.<br>문의사항:<br>4. 구성상 B-S1과 B-S2를 하나의 시스템에 각각 경로가 다른 파일시스템에 마운트 하여야 함.<br><br><br>상기 작업은 아래와 같은 절차로 실행 가능한것으로 보입니다.<br><br>1. 먼저, 두 스토리지를 연결 하시려는 서버에 B-S1 스토리지를 연결하십니다.<br><br>2. VG와 PV의 uuid 및 VG명을 변경합니다.<br><br># vgchange -an vgname<br># vgchange --uuid &lt;vgname&gt;<br># pvchange --uuid &lt;pvname&gt;<br># vgrename oldvgname newvgname<br><br>필요하실 경우 아래와 같은 명령어로 LV 명도 변경 가능하십니다.<br><br># lvrename vgname oldlvname newlvname<br><br>3. VG를 활성화하여 모든 LV 위에 있는 파일시스템의 uuid를 변경하세요.<br><br># vgchange -ay vgname<br># tune2fs -U random /dev/vgname/lvname<br><br>4. 마지막으로 B-S2 스토리지를 서버에 연결합니다.<br><br>상기와 같은 작업후 두 스토리지위의 LVM을 전부 사용 가능 하실 것이며<br>그 위에 있는 파일시스템들을 서로 다른 디렉토리에 마운트하여 사용하실수 있습니다.<br><br>감사합니다.<br><br><publishedDate>2016-06-13T09:56:08Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>1. RHEL7.2 시스템에 DATA가 저장되어 있는 SAN 스토리지 볼륨이 있음.<br>2.  A 데이터센터와 B 데이터센터 간 원격지 &quot;SAN 스토리지 볼륨 복제&quot;를 수행 하고자 함.<br>3. A 데이터센터의 시스템에 SAN 스토리지 볼륨을 A-S 라고하고,<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S1<br>    A-S로부터 &quot;SAN 스토리지 볼륨 복제&quot;를 한 번 더 수행한 B 데이터센터의 시스템에 SAN 스토리지 볼륨을 B-S2<br>    라고 지칭할 때,<br>    B-S1 은 사전운영용 DATA 스토리지 볼륨이며,<br>    B-S2는 DR 전환용 DATA 복제 스토리지 볼륨 임.<br>4. 구성상 B-S1과 B-S2를 하나의 시스템에 각각 경로가 다른 파일시스템에 마운트 하여야 함.<br>5. 각각 용도가 다른 SAN 스토리지 볼륨 B-S1과 B-S2를 경로가 다른 파일시스템으로 마운트하여도<br>    하나의 시스템에서 사용하는 경우,<br>    LVM 구성에서 UUID duplicate 문제가 발생할 것으로 예상 됨.<br><br>######### 최종목표 ######### <br>각각 용도가 다른 SAN 스토리지 볼륨 B-S1과 B-S2를 경로가 다른 파일시스템으로 마운트하여도<br>하나의 시스템에서 사용하는 경우,<br>LVM UUID를 변경하여 LVM 구성에서 UUID duplicate 문제가 발생하지 않게 함.<br><br>######### 문의 ######### <br>위 설명의 5항에서 발생하는 문제점을 회피하고자<br>B-S1의 PV와VG, 그리고 LV의 UUID를 바꾸는 절차를 문의 하고자 합니다.</issue><cep>false</cep><folderName>ERP-ALL</folderName></case>