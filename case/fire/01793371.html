======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2017-02-16T01:36:10Z</b><br><b>마지막 답변자 : Jake Jaewook Shin</b><br><b>마지막 수정 일자 : 2017-03-10T08:28:26Z</b><br><b>id : 500A000000WTmVgIAL</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][운영장비][splunksch01]&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>splunksch01 서버 /var/log/messages 파일이 <br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD 관련 로그 내용으로 꽉 차서 <br>rsyslog.conf 에서 예외 처리를 하였습니다.<br><br>이번에는 아래와 같은 메세지와 함께 커널 dump 발생하였습니다.<br><br>/var/log/messages 내용<br>Feb 14 19:47:47 splunksch01 kernel: bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks:<br><br> vmcore-dmesge.txt 내용 <br>&lt;3&gt;bnx2x: [bnx2x_attn_int_deasserted3:4317(p5p1)]LATCHED attention 0x80000000 (masked)<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br><br>해당 케이스는 <br><br>https://access.redhat.com/solutions/2262831  과 같이 솔류션이 있는것 같습니다.<br><br>해당 솔류션과 같이 처리 해도 되는지 문의 드립니다.<br>또한 해당 솔류션과 같이 할 경우에 대해 몇가지 질문을 드립니다.<br><br>1.해당 메세지는 단순이 warning 메세지 이기 때문에 무시해도 될것 같아서 rsyslog.conf 에서 예외 처리를 하였으나 kdump 가 발생하였습니다. <br><br>2. kmod-bnx2x-1.712.30_0-1.el6_7.x86_64   kmod-bnx2x--1.712.30_0-1.el6_7.x86_64 를 설치 하라고 하는데<br>해당 드라이버를 설치 하는 것으로 문제가 해결 되는지요?<br><br>3. 위의 2 번 을 안하는 대신 커널을 kernel-2.6.32-642.el6 으로 업데이트 하는 방법<br><br>이경우 kernel-2.6.32-642.el6 커널은 릴리즈가 2016-05-11 이며 EUS 버전의 커널이 아닙니다.<br>6.7 의 EUS 최신 커널은  kernel-2.6.32.573.38.1  이며 릴리즈 날짜는 2017-01-13 입니다.<br><br>저희는 EUS 기한이 남아 있는 버전의 경우 최대한 EUS 를 유지 하고 싶은데 만약 드라이버 설치를 안하고 <br>커널을 업데이트 할 경우 EUS 버전으로 설치해도 해결되는 문제 인지요?<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.7</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><br><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-03-10T08:28:25Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-03-10T08:28:25Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스는 마지막 안내 커멘트 이후, 추가 문의하신 내용없이 일정 시간이 경과되어<br>이상으로 close 처리하도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-03-10T08:28:25Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IvFIoIAN"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-24T07:06:12Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-24T07:06:12Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>현재 해당 케이스의 상황이 어떠신지 확인 부탁드립니다.<br>일정시간 업데이트가 없으실 경우, 해당 케이스는 close 처리 될 것입니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-24T07:06:12Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ItcFhIAJ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-17T00:18:41Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-17T00:18:41Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>커널 전문 그룹의 엔지니어로부터 vmcore 분석을 연계 받았기에<br>번역하여 업데이트 해드립니다.<br>~~~<br>해당 vmcore 는 시스템이 hard LOCKUP detected on CPU 1 때문에 크래쉬 되었음을 보여줍니다.<br><br>crash&gt; sys | grep PANIC<br>       PANIC: &quot;Kernel panic - not syncing: Watchdog detected hard LOCKUP on cpu 1&quot;<br><br>Looking at CPU 1:<br><br>crash&gt; set -c 1<br>    PID: 28790<br>COMMAND: &quot;service_process&quot;<br>   TASK: ffff88107015e040  [THREAD_INFO: ffff880d76d58000]<br>    CPU: 1<br>  STATE: TASK_RUNNING (PANIC)<br><br>Backtrace:<br><br>crash&gt; bt<br>PID: 28790  TASK: ffff88107015e040  CPU: 1   COMMAND: &quot;service_process&quot;<br> #0 [ffff88089c406b20] machine_kexec at ffffffff8103d1ab<br> #1 [ffff88089c406b80] crash_kexec at ffffffff810cc4f2<br> #2 [ffff88089c406c50] panic at ffffffff81537a8b<br> #3 [ffff88089c406cd0] watchdog_overflow_callback at ffffffff810ed4bd<br> #4 [ffff88089c406cf0] __perf_event_overflow at ffffffff81124037<br> #5 [ffff88089c406d70] perf_event_overflow at ffffffff81124684<br> #6 [ffff88089c406d80] intel_pmu_handle_irq at ffffffff81024a02<br> #7 [ffff88089c406e90] perf_event_nmi_handler at ffffffff8153cd89<br> #8 [ffff88089c406ea0] notifier_call_chain at ffffffff8153e845<br> #9 [ffff88089c406ee0] atomic_notifier_call_chain at ffffffff8153e8aa<br>#10 [ffff88089c406ef0] notify_die at ffffffff810a788e<br>#11 [ffff88089c406f20] do_nmi at ffffffff8153c503<br>#12 [ffff88089c406f50] nmi at ffffffff8153bdc0<br>    [exception RIP: vgacon_scroll+868]<br>    RIP: ffffffff812de004  RSP: ffff880d76d5baa8  RFLAGS: 00000083<br>    RAX: 0000000000000008  RBX: ffff88087febae00  RCX: ffff8800000baf80<br>    RDX: 0000000000000778  RSI: 00000000000000a0  RDI: 00000000000000a0<br>    RBP: ffff880d76d5bae8   R8: ffff88087fec5f00   R9: 0000000000005f00<br>    R10: 0000000000000000  R11: 0000000000000198  R12: ffff88087fec0000<br>    R13: 000000000000ffa0  R14: 0000000000000198  R15: 0000000000000000<br>    ORIG_RAX: ffffffffffffffff  CS: 0010  SS: 0018<br>--- &lt;NMI exception stack&gt; ---<br>#13 [ffff880d76d5baa8] vgacon_scroll at ffffffff812de004<br>#14 [ffff880d76d5baf0] scrup at ffffffff8134b868<br>#15 [ffff880d76d5bb20] lf at ffffffff8134b8dd<br>#16 [ffff880d76d5bb40] vt_console_print at ffffffff8134bab2<br>#17 [ffff880d76d5bba0] __call_console_drivers at ffffffff81077625<br>#18 [ffff880d76d5bbd0] _call_console_drivers at ffffffff8107768a<br>#19 [ffff880d76d5bbf0] release_console_sem at ffffffff81077cd8<br>#20 [ffff880d76d5bc30] vprintk at ffffffff810783d8<br>#21 [ffff880d76d5bcd0] printk at ffffffff81537b8d<br>#22 [ffff880d76d5bd30] snapapi3_ioctl at ffffffffa02f18f1 [snapapi26]<br>#23 [ffff880d76d5be60] vfs_ioctl at ffffffff811a7372<br>#24 [ffff880d76d5bea0] do_vfs_ioctl at ffffffff811a7514<br>#25 [ffff880d76d5bf30] sys_ioctl at ffffffff811a7a91<br>#26 [ffff880d76d5bf80] system_call_fastpath at ffffffff8100b0d2<br>    RIP: 0000003a044e0907  RSP: 00007f6493df8d08  RFLAGS: 00010246<br>    RAX: 0000000000000010  RBX: ffffffff8100b0d2  RCX: 0000000000000000<br>    RDX: 00007f6493dfa570  RSI: 00000000400c2a00  RDI: 0000000000000051<br>    RBP: 0000000000000012   R8: 0000000000e8bbe0   R9: 0000000000007076<br>    R10: 0000000000000010  R11: 0000000000000246  R12: 00007f6493dfa590<br>    R13: 00007f64e7a75e70  R14: 00007f648404a8b0  R15: 00007f6493dfa810<br>    ORIG_RAX: 0000000000000010  CS: 0033  SS: 002b<br><br>여기서 파일 포인터는 ffff88086cc78580 입니다.<br><br>crash&gt; struct file.f_path ffff88086cc78580<br>  f_path = {<br>    mnt = 0xffff881074dacc80, <br>    dentry = 0xffff8808686b9840<br>  }<br><br>해당 디바이스에 대해 ioctl 이 처리되고 있는 것이 확인됩니다.<br><br>crash&gt; files -d 0xffff8808686b9840<br>     DENTRY           INODE           SUPERBLK     TYPE PATH<br>ffff8808686b9840 ffff88086e617108 ffff88107418f000 CHR  /dev/snapctl<br><br>그후, third party kernel module 'snapapi26' 로부터 snapapi3_ioctl() 이 printk() 를 호출합니다.<br><br>crash&gt; mod -t <br>NAME       TAINTS<br>snapapi26  P(U)<br>snumbd26   P(U)<br>seos       P(U)<br><br>crash&gt; whatis printk<br>int printk(const char *, ...);<br><br>crash&gt; dis -r ffffffffa02f18f1|tail<br>0xffffffffa02f18c8 &lt;snapapi3_ioctl+3928&gt;:<br>mov    $0xffffffffa02f3e40,%rdi<br>0xffffffffa02f18cf &lt;snapapi3_ioctl+3935&gt;:<br>add    $0x678,%rdx<br>0xffffffffa02f18d6 &lt;snapapi3_ioctl+3942&gt;:<br>mov    %r8d,%r9d<br>0xffffffffa02f18d9 &lt;snapapi3_ioctl+3945&gt;:<br>mov    %eax,(%rsp)<br>0xffffffffa02f18dc &lt;snapapi3_ioctl+3948&gt;:<br>shr    $0x14,%r8d<br>0xffffffffa02f18e0 &lt;snapapi3_ioctl+3952&gt;:<br>and    $0xfffff,%r9d<br>0xffffffffa02f18e7 &lt;snapapi3_ioctl+3959&gt;:<br>xor    %eax,%eax<br>0xffffffffa02f18e9 &lt;snapapi3_ioctl+3961&gt;:<br>xor    %r12d,%r12d<br>0xffffffffa02f18ec &lt;snapapi3_ioctl+3964&gt;:<br>callq  0xffffffff81537b4c &lt;printk&gt;<br>0xffffffffa02f18f1 &lt;snapapi3_ioctl+3969&gt;:<br>jmpq   0xffffffffa02f1609<br><br>저희는 hard lockup 이 발생했을 때 콘솔상에 다음 메세지들이 로깅 되기 위해서 snapap13_ioctl() 이 printk() 를 호출하고 있었다는 것을 확인할 수 있습니다.<br><br>crash&gt; rd 0xffffffffa02f3e40 -a 256<br>ffffffffa02f3e40:  &lt;7&gt;%s(%s,%d): OK. kdev=%x:%x, bs=%d.<br>ffffffffa02f3e68:  &lt;4&gt;%s(%s,%d): Can't find super, device %x, freeze.<br>ffffffffa02f3ea0:  &lt;4&gt;%s(%s,%d): No superblock info for s=%p<br>ffffffffa02f3ed0:  &lt;4&gt;%s(%s,%d): block_map_init failed<br>ffffffffa02f3ef8:  &lt;4&gt;%s(%s,%d): reading bitmap: sa_cache_block(%llu)<br>ffffffffa02f3f30:  &lt;4&gt;%s(%s,%d): co<br><br>또한, 동시에 커널 링버퍼를 보면 다음 메세지들이 범람하고 있는 것이 확인됩니다.<br><br>1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x: [bnx2x_attn_int_deasserted3:4317(p5p1)]LATCHED attention 0x80000000 (masked)<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x: [bnx2x_attn_int_deasserted3:4317(p5p1)]LATCHED attention 0x80000000 (masked)<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>...<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x: [bnx2x_attn_int_deasserted3:4317(p5p1)]LATCHED attention 0x80000000 (masked)<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br><br>해당 메세지들은 앞서 언급하셨던 kbase 에 언급된 이슈로부터 발생하고 있습니다.<br><br>[Why does &quot;Parity errors detected in blocks: MCP SCPAD&quot; messages appears for broadcom BCM57800 based NICs in RHEL6.7?]<br><br> https://access.redhat.com/solutions/2262831<br><br> --&gt; 이를 해결 하기 위해서는 kernel-2.6.32-642.el6 or newer 로의 업데이트가 권장됩니다.<br><br>또한, 현재와 같이 어떤 메세지들이 범람할 경우, 로그레벨에 따라 이러한 하드 락업 현상이 유발될 수 있습니다.<br><br>crash&gt; pd console_printk[0]<br>$10 = 15<br><br>crash&gt; pd console_printk[1]<br>$11 = 4<br><br>crash&gt; pd console_printk[2]<br>$12 = 1<br><br>crash&gt; pd console_printk[3]<br>$13 = 7<br><br>Recommendation:<br><br>따라서, 이러한 로그 범람을 경감시키기 위하여 다음과 같이 콘솔 로그 레벨을 조정하는 것이 권장됩니다.<br><br>kernel.printk = 4<br>4<br>1<br>7<br><br>관련하여 다음 KCS 링크들을 확인하시기 바랍니다.<br><br>KCS doc:  https://access.redhat.com/solutions/1412503<br>          https://access.redhat.com/solutions/1412513<br>~~~<br><br>이상 업무 진행에 도움이 되시기 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-17T00:18:41Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ItJcbIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-16T05:20:32Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-16T05:20:32Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>vmcore 업데이트 및 연계 감사드립니다.<br><br>현재 해당 vmcore 파일에 대해 커널 전문 그룹에<br>분석을 요청 하였습니다.<br><br>연계 받는대로 바로 정리하여 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-16T05:20:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ItIk3IAF"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2017-02-16T03:48:23Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2017-02-16T03:48:23Z</b><br><br>vmcore 파일을 dropbox.redhat.com 에 올렸습니다. <br>파일이름은 <br>01793371-vmcore-splunksch01   입니다.<br><br><publishedDate>2017-02-16T03:48:23Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000ItHs1IAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-16T02:07:51Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-16T02:07:51Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>해당 건과 관련하여 서술하신 KBase 가 보고되어 있으며<br>문의하신 내용에 대하여 해당 문서를 기준으로 말씀드리면 다음과 같습니다.<br><br>&gt; 1.해당 메세지는 단순이 warning 메세지 이기 때문에 무시해도 될것 같아서 rsyslog.conf 에서 예외 처리를 하였으나 kdump 가 발생하였습니다. <br><br>해당 메세지의 발생이 원인이되어 kdump 가 발생했는지는 현 상태에서 정확히 알 수는 없습니다.<br>말씀하신 바와 같이 일반적으로 해당 메세지는 단순 warning 메시지로 보고되어 있어 무시하셔도 문제 없을 것으로 생각됩니다.<br>다만, vmcore 가 올라오는대로 해당 분석을 토대로 다시 업데이트 드리도록 하겠습니다.<br>vmcore 업로드 후, 파일명을 남겨주시기 바랍니다.<br><br>&gt; 2. kmod-bnx2x-1.712.30_0-1.el6_7.x86_64   kmod-bnx2x--1.712.30_0-1.el6_7.x86_64 를 설치 하라고 하는데<br>&gt; 해당 드라이버를 설치 하는 것으로 문제가 해결 되는지요?<br><br>예, 해당 문서에 기술되어 있듯이, RHEL6.7 의 경우에는 해당 모듈만 업데이트 하시면 됩니다.<br><br>&gt; 3. 위의 2 번 을 안하는 대신 커널을 kernel-2.6.32-642.el6 으로 업데이트 하는 방법<br>&gt; 이경우 kernel-2.6.32-642.el6 커널은 릴리즈가 2016-05-11 이며 EUS 버전의 커널이 아닙니다.<br>&gt; 6.7 의 EUS 최신 커널은  kernel-2.6.32.573.38.1  이며 릴리즈 날짜는 2017-01-13 입니다.<br>&gt; 저희는 EUS 기한이 남아 있는 버전의 경우 최대한 EUS 를 유지 하고 싶은데 만약 드라이버 설치를 안하고 <br>&gt; 커널을 업데이트 할 경우 EUS 버전으로 설치해도 해결되는 문제 인지요?<br><br>아닙니다. 관련 버그질라를 모두 살펴보았으나 EUS z스트림 커널 자체에 백포팅 된 흔적은 확인되지 않습니다.<br>RHEL6.7 EUS 유지를 위해서는 kmod-bnx2x 라는 별도 커널모듈 패키지로 백포팅되었으며 해당 모듈을 이용하실 필요가 있을 것입니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-16T02:07:51Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ItHcDIAV"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-16T01:46:37Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-16T01:46:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>저는 신재욱이라고 하며 앞으로 이 케이스를 담당하게 되었습니다.<br><br>현재 이 케이스의 내용을 살펴보는 중이며, 관련하여 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-16T01:46:36Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ItHY7IAN"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2017-02-16T01:37:16Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2017-02-16T01:37:16Z</b><br><br>해당서버의 sosreport 를 올려 보내드립니다.<br>dropbox.redhat.com 의 ftp 접속이 원활하지 않아 vmcore 파일은 추후 다시 올려 드리겠습니다.<br><br><publishedDate>2017-02-16T01:37:16Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD 관련 로그 내용으로 꽉 차서 <br>rsyslog.conf 에서 예외 처리를 하였습니다.<br><br>이번에는 아래와 같은 메세지와 함께 커널 dump 발생하였습니다.<br><br>/var/log/messages 내용<br>Feb 14 19:47:47 splunksch01 kernel: bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks:<br><br> vmcore-dmesge.txt 내용 <br>&lt;3&gt;bnx2x: [bnx2x_attn_int_deasserted3:4317(p5p1)]LATCHED attention 0x80000000 (masked)<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br>&lt;3&gt;bnx2x 0000:06:00.0: p5p1: Parity errors detected in blocks: MCP SCPAD<br><br>해당 케이스는 <br><br>https://access.redhat.com/solutions/2262831  과 같이 솔류션이 있는것 같습니다.<br><br>해당 솔류션과 같이 처리 해도 되는지 문의 드립니다.<br>또한 해당 솔류션과 같이 할 경우에 대해 몇가지 질문을 드립니다.<br><br>1.해당 메세지는 단순이 warning 메세지 이기 때문에 무시해도 될것 같아서 rsyslog.conf 에서 예외 처리를 하였으나 kdump 가 발생하였습니다. <br><br>2. kmod-bnx2x-1.712.30_0-1.el6_7.x86_64   kmod-bnx2x--1.712.30_0-1.el6_7.x86_64 를 설치 하라고 하는데<br>해당 드라이버를 설치 하는 것으로 문제가 해결 되는지요?<br><br>3. 위의 2 번 을 안하는 대신 커널을 kernel-2.6.32-642.el6 으로 업데이트 하는 방법<br><br>이경우 kernel-2.6.32-642.el6 커널은 릴리즈가 2016-05-11 이며 EUS 버전의 커널이 아닙니다.<br>6.7 의 EUS 최신 커널은  kernel-2.6.32.573.38.1  이며 릴리즈 날짜는 2017-01-13 입니다.<br><br>저희는 EUS 기한이 남아 있는 버전의 경우 최대한 EUS 를 유지 하고 싶은데 만약 드라이버 설치를 안하고 <br>커널을 업데이트 할 경우 EUS 버전으로 설치해도 해결되는 문제 인지요?</issue><cep>false</cep><folderName>ERP-ALL</folderName></case>