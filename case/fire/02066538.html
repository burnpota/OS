======================<br><b>생성계정 : hyangjun son</b><br><b>생성날짜 : 2018-03-30T02:17:45Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-04-14T10:13:11Z</b><br><b>id : 500A000000aADGzIAO</b><br>======================<br><br><b><font size=15>
제목  : 서버 내 nas디렉토리 접근 이슈
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>/sbatch/sys/day36쪽 접근 에러<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>같은 구성 서버 (pmsalp01~06 / pmsalp11~16/R930 )중에서, <br>01~06 서버에서는 접근 정상이었는데, 11~16 서버들은 /sbatch/sys/day36쪽 touch등 write가<br>불가했습니다(touch 커맨드 수행 후 10분 기다려봤으나 결국 Ctrl+C로 자름)<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>20180129 00:00 ~ 부터 발생했습니다.<br><br>해결 기간이나 업무에 미치는 영향에 대한 정보를 제공해 주시겠습니까?<br><br>배치 수행 및 지연<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><hostname>pmsalp15</hostname><br><br><folderNumber>74173</folderNumber><br><comment id="a0aA000000M6BTXIA3"><br>======================<br><b>생성계정 : Song, Chang-An</b><br><b>생성날짜 : 2018-03-30T08:00:47Z</b><br><b>마지막 답변자 : Song, Chang-An</b><br><b>마지막 수정 일자 : 2018-03-30T08:00:46Z</b><br><br>안녕하세요? Red Hat 송 창 안 입니다.<br><br>현재까지 제공 해주신 sosereport 에서는 nfs 이슈 및 추가적인 문제에 대해서는 발견 할 수 없었습니다.<br>따라서, 현재 두가지 가능한 이슈 내용에 대해서 확인이 필요하여, 다음 정보 수집에 대해서 공유 하도록 하겠습니다. <br><br>1. NFS 이슈 확인<br>만약 다음 이슈가 발생시에 nfs server와 client의 이슈를 판단하기 위해서는 다음과 같은 과정이 필요 합니다.<br>터미널이 두개가 필요 합니다.<br><br>(1) 첫번째 터미널<br>    만약 /sbatch/sys 에서 이슈가 발생시 tcpdump를 사용하게 되며, 서버와 client 간에 상황을 확인 하기 위한 목적 입니다.<br>    # tcpdump -s0 -i &lt;interface&gt;  host &lt;SERVER&gt; -w /tmp/02066538-nfs-client.pcap<br>    &lt;interface&gt;는 nfs client 와 nfs server의 연결된 인터페이스를 뜻하며, 기입을 해주셔야 합니다.<br>(2) 두번째 터미널<br>    터미널에서 nfs 서버로 현재의 client 시스템에 액세스 할 수 없다는 문제 시스템을 재현 진행 합니다.<br>(3) 두번째 터미널에서 접근 할수 없는 이슈가 발생하게 되면,  tcpdump가 실행중인 터미널에서 Ctrl-C를 누릅니다.<br>    cd /sbatch/sys/day36<br>(4) 분석을 위해서 수집된 파일을 업로드 부탁드립니다.<br>(5) 또한, 추가적으로 현재의 이슈 상태에서 sosreport 수집을 부탁드립니다. <br><br>2. seos 보안 모듈과 현재 이슈 확인<br>(1) 현재까지 판단으로는 커널 모듈로 동작 중인 seos 모듈에 대해 확인이 필요 할것으로 판단이 됩니다. <br>    이미 파악하고 계신 내용으로써 seos모듈은 대부분의 유저로 부터 발생되는 시스템 호출을 가로채며, 파일시스템으로 부터 파일을 읽고 해석에 관여하는 것으로 이해하고 있습니다.<br>    따라서 다음에 동일한 이슈가 발생되는 경우, 시스템의 재부팅 가능하다면, &quot;echo c &gt; /proc/sysrq-trigger&quot; 를 통한 vmcore 수집을 해주시면, 이슈를 확인 함에 있어서 많은 도움이 될 것으로 판단 됩니다.<br>    vmcore 수집 후에 시스템은 재부팅을 할것으로 판단하고 있습니다.<br><br>(2) 혹은, 시스템에서 이 seos 기능을 제외하고 batch 작업에 진행이 가능하시다면, 테스트를 부탁드립니다.<br>    그외에 다른 동일한 시스템에서도 이와 비슷한 call trace를 확인을 부탁드립니다.<br><br>감사합니다.<br>송 창 안 드림.<br><br><publishedDate>2018-03-30T08:00:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M69qZIAR"><br>======================<br><b>생성계정 : Song, Chang-An</b><br><b>생성날짜 : 2018-03-30T04:09:51Z</b><br><b>마지막 답변자 : Song, Chang-An</b><br><b>마지막 수정 일자 : 2018-03-30T04:09:51Z</b><br><br>안녕하세요? Red Hat Technical Account Manager 송 창 안 입니다.<br><br>문의 주신 내용에 대해서 확인 후 업데이트 하도록 하겠습니다.<br>감사합니다.<br><br>송 창 안 드림.<br><br><publishedDate>2018-03-30T04:09:51Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>