======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2016-10-24T05:32:54Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2016-11-15T11:04:47Z</b><br><b>id : 500A000000VXRV3IAP</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][레거시][SCLGAP01,SCLGAP03]  kernel update 후 initrd-kernel-version.kdump.img
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>    - 성함(직급) :손향준 사원<br>    - 회사명(부서명) :금융시스템그룹(금융/서비스)/삼성SDS<br>    - 전화번호 :+82-2-509-0318 <br>    - 메일주소 :h2014.son@samsung.com'<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>    - 성함(직급) :이승훈 수석보<br>    - 회사명(부서명) :타임게이트<br>    - 전화번호 :010-5493-0769<br>    - 메일주소 :sh.lee@time-gate.com'<br><br>커널 업데이트 이후 일부 서버에서 kdump  restart 시 특정모듈을 찾을수 없다고 하며 kdump 서비스가 시작하지 않습니다.<br>고객사의 보안모듈인 seos 모듈이 커널을 업데이트 한후 리부팅하게되면<br>kdump 서비스가 불가합니다.<br>sclgap01 서버는 정상적으로  initrd-kernelversion kdump.img 파일이 생성되고<br>sclgap03 서버는 initrd-kernelversion kdump.img 파일이 생성되지 않습니다.<br><br><br>sclgap03 서버에서  kdump.conf 파일에서 blacklist 에서  seos 모듈을 추가한후 <br>리부팅 시 자동으로 kdump.img 파일이 생성되지 않고<br>부팅 후 수동으로  kdump 서비스를 재기동해야만  kdump.img 가 생성됩니다.<br><br>동일한 조건에서 특정서버는 kdump.img 가 자동으로 생성이 되고 특정서버는 kdump.img 가 자동으로 생성되지 않습니다.  서로 어떤 부분이 틀린지 알고싶습니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.4</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><br><br><folderNumber>74173</folderNumber><br><comment id="a0aA000000I9P12IAF"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-10-31T06:35:38Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-10-31T06:35:38Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>sosreport를 자세히 살펴본 결과 아래와 같은 차이점이 발견 되었습니다. 즉 정상적으로 kdump 이미지가 생성되는 서버는<br>xinetd가 아닌 다른 방법으로 seos 모듈을 로딩하고 kdump 이미지 생성 실패되는 서버는 xinetd 서비스를 이용하여<br>seos 모듈을 로딩하는것으로 판단 됩니다.<br><br>&lt; etc/inetd.conf:# seosload added by CA ControlMinder installation<br>&lt; etc/inetd.conf:seosload<br>stream<br>tcp6<br>nowait<br>root<br>/usr/seos/lbin/rseloadd<br>/usr/seos/lbin/rseloadd<br><br>&gt; etc/xinetd.d/rseloadd:# description: rseloadd is the server for the seosload routine.  The server<br>&gt; etc/xinetd.d/rseloadd:service seosload<br>&gt; etc/xinetd.d/rseloadd:        server                  = /usr/seos/lbin/rseloadd<br>&gt; etc/xinetd.d/rseloadd:service seosload<br>&gt; etc/xinetd.d/rseloadd:{<br>&gt; etc/xinetd.d/rseloadd:       flags                   = REUSE IPv6<br>&gt; etc/xinetd.d/rseloadd:       disable = no<br>&gt; etc/xinetd.d/rseloadd:       socket_type             = stream<br>&gt; etc/xinetd.d/rseloadd:       wait                    = no<br>&gt; etc/xinetd.d/rseloadd:       user                    = root<br>&gt; etc/xinetd.d/rseloadd:       log_on_success          += USERID<br>&gt; etc/xinetd.d/rseloadd:       log_on_failure          += USERID<br>&gt; etc/xinetd.d/rseloadd:       server                  = /usr/seos/lbin/rseloadd<br>&gt; etc/xinetd.d/rseloadd:}<br><br>따라서 제 소견으로는 정상적인 서버에서도 kdump 이미지 파일에 seos 모듈이 추가되지 않는것으로 보입니다.<br>다만 sosreport 파일에는 kdump 이미지 파일이 수집되지 않기 때문에 확인이 필요하실시 /boot 디렉토리에<br>생성된 kdump 이미지를 케이스에 업로드 부탁 드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-10-31T06:35:38Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000I9Ls8IAF"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2016-10-30T12:40:58Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2016-10-30T12:40:58Z</b><br><br>네 그렇게 하도록 하겠습니다.<br><br>seos 모듈을 찾을수 없다는 메시지와 함께 kdump가 생성이 되지 않습니다.<br><br>중요한건 한 서버는 blacklist 처리를 하지 않아도 리부팅시 kdump 이미지가 생성이되고<br>다른서버는 blacklist를 처리 해야만 수동으로  kdump이미지가 생성이 된다는 점입니다.<br>blacklist 처리를 하지 않으면 수동으로도 kdump가 생성이 되지 않고요.<br>======================<br>고객사에서 설치한 모듈같은데   sosreport 에서 혹시 seos대한 정보를 확인 할수 있을까요?<br>두서버는 모두 동일한seos모듈이 설치되어 있는데 <br>이 모듈을 kdump 이미지 빌드때 한곳에는 찾고 한곳에는 차지 못하는것 같은데<br>잘 생성된 서버의 kdump 이미지에는  seos정보가 있는지요?<br><br><publishedDate>2016-10-30T12:40:58Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000I01FLIAZ"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-10-26T02:42:24Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-10-26T02:42:24Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>현재 올려주신 sosreport를 확인해 보았지만 아래와 같은 메시지 기록되어 있어<br>원인 분석에 어려움이 있습니다.<br><br>Oct 22 12:07:29 SCLGAP03 kdump: kexec: unloaded kdump kernel<br>Oct 22 12:07:29 SCLGAP03 kdump: stopped<br>Oct 22 12:07:29 SCLGAP03 kdump: mkdumprd: failed to make kdump initrd<br><br>다만 두 서버 차이점으로 이슈가 발생된 서버는 UEFI를 사용하고 있는것으로 확인됩니다.<br>혹시 이슈 재현이 가능하신지요?<br>가능하시다면 부팅시 커널 파라미터중 rhgb quiet 파라미터를 제거하시고<br>부팅시 kdump 이미지 생성시 추가적인 로그가 출력 되는지 확인해 보실수 있으십니다.<br><br>또한 다음 커널 업데이트시 이와 같은 이슈가 재현되는것으로 방지하기 위하여<br>리부팅전 kdump 서비스를 재기동해주시는것을 권장 드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-10-26T02:42:24Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HzmSQIAZ"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-10-25T03:17:46Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-10-25T03:17:46Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>현재 올려주신 sosreport를 비교하여 확인중에 있습니다.<br><br>혹시 이와 같은 이슈가 발생되는 서버들 에는 어떤 동일한 점이 있는지요?<br>이슈 발생전 커널 업데이트외에 다른 작업이 있었는지 확인 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-10-25T03:17:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>    - 성함(직급) :손향준 사원<br>    - 회사명(부서명) :금융시스템그룹(금융/서비스)/삼성SDS<br>    - 전화번호 :+82-2-509-0318 <br>    - 메일주소 :h2014.son@samsung.com'<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>    - 성함(직급) :이승훈 수석보<br>    - 회사명(부서명) :타임게이트<br>    - 전화번호 :010-5493-0769<br>    - 메일주소 :sh.lee@time-gate.com'<br><br>커널 업데이트 이후 일부 서버에서 kdump  restart 시 특정모듈을 찾을수 없다고 하며 kdump 서비스가 시작하지 않습니다.<br>고객사의 보안모듈인 seos 모듈이 커널을 업데이트 한후 리부팅하게되면<br>kdump 서비스가 불가합니다.<br>sclgap01 서버는 정상적으로  initrd-kernelversion kdump.img 파일이 생성되고<br>sclgap03 서버는 initrd-kernelversion kdump.img 파일이 생성되지 않습니다.<br><br><br>sclgap03 서버에서  kdump.conf 파일에서 blacklist 에서  seos 모듈을 추가한후 <br>리부팅 시 자동으로 kdump.img 파일이 생성되지 않고<br>부팅 후 수동으로  kdump 서비스를 재기동해야만  kdump.img 가 생성됩니다.<br><br>동일한 조건에서 특정서버는 kdump.img 가 자동으로 생성이 되고 특정서버는 kdump.img 가 자동으로 생성되지 않습니다.  서로 어떤 부분이 틀린지 알고싶습니다.</issue><cep>false</cep><folderName>ERP-ALL</folderName></case>