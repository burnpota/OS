======================<br><b>생성계정 : Seung-Pil Kim</b><br><b>생성날짜 : 2016-01-19T01:40:52Z</b><br><b>마지막 답변자 : JINKOO HAN</b><br><b>마지막 수정 일자 : 2016-01-21T01:16:11Z</b><br><b>id : 500A000000TQDm7IAH</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][SFMI] RHEL7 HA - pcs cluster auth failed - Error: Unable to communicate with cluster member
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>##################################################<br># Failed Info AND Messages<br>##################################################<br>요약 :<br>1) 하기의 명령으로 클러스터 멤버 인증을 시도하면, 하기와 같은 메세지가 발생하며 인증 실패<br>pcs cluster auth -u hacluster -p redhat pmsclp01_HB pmsclp02_HB<br><br>Error: Unable to communicate with pmsclp01_HB<br>Error: Unable to communicate with pmsclp02_HB<br><br>2) 네트워크 통신은 가능 함( ping test : OK )<br>ping pmsclp01_HB<br>ping pmsclp02_HB<br>##################################################<br><br><br>[root@pmsclp01 network-scripts]# netstat -nap |grep 2224<br>tcp6       0      0 :::2224                 :::*                    LISTEN      67361/ruby         <br><br><br>[root@pmsclp01 network-scripts]# pcs cluster auth -u hacluster -p redhat pmsclp01_HB pmsclp02_HB  --debug --force<br>Running: /usr/bin/ruby -I/usr/lib/pcsd/ /usr/lib/pcsd/pcsd-cli.rb auth<br>--Debug Input Start--<br>{&quot;username&quot;: &quot;hacluster&quot;, &quot;local&quot;: false, &quot;nodes&quot;: [&quot;pmsclp01_HB&quot;, &quot;pmsclp02_HB&quot;], &quot;password&quot;: &quot;redhat&quot;, &quot;force&quot;: true}<br>--Debug Input End--<br><br>Return Value: 0<br>--Debug Output Start--<br>{<br>  &quot;status&quot;: &quot;ok&quot;,<br>  &quot;data&quot;: {<br>    &quot;auth_responses&quot;: {<br>      &quot;pmsclp02_HB&quot;: {<br>        &quot;status&quot;: &quot;noresponse&quot;<br>      },<br>      &quot;pmsclp01_HB&quot;: {<br>        &quot;status&quot;: &quot;noresponse&quot;<br>      }<br>    },<br>    &quot;sync_successful&quot;: true,<br>    &quot;sync_nodes_err&quot;: [<br><br>    ],<br>    &quot;sync_responses&quot;: {<br>    }<br>  },<br>  &quot;log&quot;: [<br>    &quot;I, [2016-01-18T15:42:09.116195 #67089]  INFO -- : PCSD Debugging enabled\n&quot;,<br>    &quot;D, [2016-01-18T15:42:09.116258 #67089] DEBUG -- : Did not detect RHEL 6\n&quot;,<br>    &quot;I, [2016-01-18T15:42:09.116286 #67089]  INFO -- : Running: /usr/sbin/corosync-cmapctl totem.cluster_name\n&quot;,<br>    &quot;I, [2016-01-18T15:42:09.116312 #67089]  INFO -- : CIB USER: hacluster, groups: \n&quot;,<br>    &quot;D, [2016-01-18T15:42:09.118791 #67089] DEBUG -- : []\n&quot;,<br>    &quot;D, [2016-01-18T15:42:09.118842 #67089] DEBUG -- : Duration: 0.002468261s\n&quot;,<br>    &quot;I, [2016-01-18T15:42:09.118902 #67089]  INFO -- : Return Value: 1\n&quot;,<br>    &quot;W, [2016-01-18T15:42:09.118962 #67089]  WARN -- : Cannot read config 'corosync.conf' from '/etc/corosync/corosync.conf': No such file or directory - /etc/corosync/corosync.conf\n&quot;,<br>    &quot;I, [2016-01-18T15:42:09.120655 #67089]  INFO -- : No response from: pmsclp02_HB request: /auth, exception: the scheme https does not accept registry part: pmsclp02_HB:2224 (or bad hostname?)\n&quot;,<br>    &quot;I, [2016-01-18T15:42:09.120892 #67089]  INFO -- : No response from: pmsclp01_HB request: /auth, exception: the scheme https does not accept registry part: pmsclp01_HB:2224 (or bad hostname?)\n&quot;<br>  ]<br>}<br><br>--Debug Output End--<br><br>Error: Unable to communicate with pmsclp01_HB<br>Error: Unable to communicate with pmsclp02_HB<br><br> <br><br>[root@pmsclp01 network-scripts]# pcs cluster auth -u hacluster -p redhat pmsclp01_HB pmsclp02_HB  --debug<br>Running: /usr/bin/ruby -I/usr/lib/pcsd/ /usr/lib/pcsd/pcsd-cli.rb auth<br>--Debug Input Start--<br>{&quot;username&quot;: &quot;hacluster&quot;, &quot;local&quot;: false, &quot;nodes&quot;: [&quot;pmsclp01_HB&quot;, &quot;pmsclp02_HB&quot;], &quot;password&quot;: &quot;redhat&quot;, &quot;force&quot;: false}<br>--Debug Input End--<br><br>Return Value: 0<br>--Debug Output Start--<br>{<br>  &quot;status&quot;: &quot;ok&quot;,<br>  &quot;data&quot;: {<br>    &quot;auth_responses&quot;: {<br>      &quot;pmsclp01_HB&quot;: {<br>        &quot;status&quot;: &quot;noresponse&quot;<br>      },<br>      &quot;pmsclp02_HB&quot;: {<br>        &quot;status&quot;: &quot;noresponse&quot;<br>      }<br>    },<br>    &quot;sync_successful&quot;: true,<br>    &quot;sync_nodes_err&quot;: [<br><br>    ],<br>    &quot;sync_responses&quot;: {<br>    }<br>  },<br>  &quot;log&quot;: [<br>    &quot;I, [2016-01-18T15:43:23.943442 #67188]  INFO -- : PCSD Debugging enabled\n&quot;,<br>    &quot;D, [2016-01-18T15:43:23.943503 #67188] DEBUG -- : Did not detect RHEL 6\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.943532 #67188]  INFO -- : Running: /usr/sbin/corosync-cmapctl totem.cluster_name\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.943558 #67188]  INFO -- : CIB USER: hacluster, groups: \n&quot;,<br>    &quot;D, [2016-01-18T15:43:23.946154 #67188] DEBUG -- : []\n&quot;,<br>    &quot;D, [2016-01-18T15:43:23.946205 #67188] DEBUG -- : Duration: 0.002585922s\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.946266 #67188]  INFO -- : Return Value: 1\n&quot;,<br>    &quot;W, [2016-01-18T15:43:23.946326 #67188]  WARN -- : Cannot read config 'corosync.conf' from '/etc/corosync/corosync.conf': No such file or directory - /etc/corosync/corosync.conf\n&quot;,<br>    &quot;W, [2016-01-18T15:43:23.946712 #67188]  WARN -- : Cannot read config 'tokens' from '/var/lib/pcsd/tokens': No such file or directory - /var/lib/pcsd/tokens\n&quot;,<br>    &quot;E, [2016-01-18T15:43:23.946835 #67188] ERROR -- : Unable to parse tokens file: A JSON text must at least contain two octets!\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.946883 #67188]  INFO -- : SRWT Node: pmsclp01_HB Request: check_auth\n&quot;,<br>    &quot;E, [2016-01-18T15:43:23.946915 #67188] ERROR -- : Unable to connect to node pmsclp01_HB, no token available\n&quot;,<br>    &quot;W, [2016-01-18T15:43:23.947115 #67188]  WARN -- : Cannot read config 'tokens' from '/var/lib/pcsd/tokens': No such file or directory - /var/lib/pcsd/tokens\n&quot;,<br>    &quot;E, [2016-01-18T15:43:23.947220 #67188] ERROR -- : Unable to parse tokens file: A JSON text must at least contain two octets!\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.947263 #67188]  INFO -- : SRWT Node: pmsclp02_HB Request: check_auth\n&quot;,<br>    &quot;E, [2016-01-18T15:43:23.947292 #67188] ERROR -- : Unable to connect to node pmsclp02_HB, no token available\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.948255 #67188]  INFO -- : No response from: pmsclp01_HB request: /auth, exception: the scheme https does not accept registry part: pmsclp01_HB:2224 (or bad hostname?)\n&quot;,<br>    &quot;I, [2016-01-18T15:43:23.948508 #67188]  INFO -- : No response from: pmsclp02_HB request: /auth, exception: the scheme https does not accept registry part: pmsclp02_HB:2224 (or bad hostname?)\n&quot;<br>  ]<br>}<br><br>--Debug Output End--<br><br>Error: Unable to communicate with pmsclp01_HB<br>Error: Unable to communicate with pmsclp02_HB<br>[root@pmsclp01 network-scripts]#<br><br> <br><br> <br><br> <br><br><br> <br><br> <br><br>[root@pmsclp01 network-scripts]# grep ::  /usr/lib/pcsd/ssl.rb.bak<br>server_name = WEBrick::Utils::getservername<br>  ca   = OpenSSL::X509::Name.parse(name)<br>  key = OpenSSL::PKey::RSA.new(2048)<br>  crt = OpenSSL::X509::Certificate.new<br>  crt.sign(key, OpenSSL::Digest::SHA256.new)<br>  :BindAddress        ='::',<br>  :Host               ='::',<br>  :SSLVerifyClient    =OpenSSL::SSL::VERIFY_NONE,<br>  :SSLCertificate     =OpenSSL::X509::Certificate.new(crt),<br>  :SSLPrivateKey      =OpenSSL::PKey::RSA.new(key),<br>  :SSLOptions         =OpenSSL::SSL::OP_NO_SSLv2 | OpenSSL::SSL::OP_NO_SSLv3,<br>server = ::Rack::Handler::WEBrick<br>  server.run(Sinatra::Application, webrick_options)<br>rescue Errno::EAFNOSUPPORT<br>  server.run(Sinatra::Application, webrick_options)<br>[root@pmsclp01 network-scripts]#<br><br> <br><br><br> <br><br> <br><br> <br><br> <br><br><br>[root@pmsclp01 network-scripts]# pcs cluster auth -u hacluster -p redhat 192.168.25.31 192.168.25.32  --debug<br>Running: /usr/bin/ruby -I/usr/lib/pcsd/ /usr/lib/pcsd/pcsd-cli.rb auth<br>--Debug Input Start--<br>{&quot;username&quot;: &quot;hacluster&quot;, &quot;local&quot;: false, &quot;nodes&quot;: [&quot;192.168.25.31&quot;, &quot;192.168.25.32&quot;], &quot;password&quot;: &quot;redhat&quot;, &quot;force&quot;: false}<br>--Debug Input End--<br><br>Return Value: 0<br>--Debug Output Start--<br>{<br>  &quot;status&quot;: &quot;ok&quot;,<br>  &quot;data&quot;: {<br>    &quot;auth_responses&quot;: {<br>      &quot;192.168.25.31&quot;: {<br>        &quot;status&quot;: &quot;ok&quot;,<br>        &quot;token&quot;: &quot;16107fd4-f255-4845-a02d-60bd441a2e10&quot;<br>      },<br>      &quot;192.168.25.32&quot;: {<br>        &quot;status&quot;: &quot;ok&quot;,<br>        &quot;token&quot;: &quot;6bda279c-8690-4e9c-aa74-20b0d9d6f416&quot;<br>      }<br>    },<br>    &quot;sync_successful&quot;: true,<br>    &quot;sync_nodes_err&quot;: [<br><br>    ],<br>    &quot;sync_responses&quot;: {<br>    }<br>  },<br>  &quot;log&quot;: [<br>    &quot;I, [2016-01-18T15:51:26.515882 #67831]  INFO -- : PCSD Debugging enabled\n&quot;,<br>    &quot;D, [2016-01-18T15:51:26.515948 #67831] DEBUG -- : Did not detect RHEL 6\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.515978 #67831]  INFO -- : Running: /usr/sbin/corosync-cmapctl totem.cluster_name\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.516005 #67831]  INFO -- : CIB USER: hacluster, groups: \n&quot;,<br>    &quot;D, [2016-01-18T15:51:26.518946 #67831] DEBUG -- : []\n&quot;,<br>    &quot;D, [2016-01-18T15:51:26.518999 #67831] DEBUG -- : Duration: 0.002931839s\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.519058 #67831]  INFO -- : Return Value: 1\n&quot;,<br>    &quot;W, [2016-01-18T15:51:26.519116 #67831]  WARN -- : Cannot read config 'corosync.conf' from '/etc/corosync/corosync.conf': No such file or directory - /etc/corosync/corosync.conf\n&quot;,<br>    &quot;W, [2016-01-18T15:51:26.519476 #67831]  WARN -- : Cannot read config 'tokens' from '/var/lib/pcsd/tokens': No such file or directory - /var/lib/pcsd/tokens\n&quot;,<br>    &quot;E, [2016-01-18T15:51:26.519538 #67831] ERROR -- : Unable to parse tokens file: A JSON text must at least contain two octets!\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.519563 #67831]  INFO -- : SRWT Node: 192.168.25.32 Request: check_auth\n&quot;,<br>    &quot;E, [2016-01-18T15:51:26.519580 #67831] ERROR -- : Unable to connect to node 192.168.25.32, no token available\n&quot;,<br>    &quot;W, [2016-01-18T15:51:26.519712 #67831]  WARN -- : Cannot read config 'tokens' from '/var/lib/pcsd/tokens': No such file or directory - /var/lib/pcsd/tokens\n&quot;,<br>    &quot;E, [2016-01-18T15:51:26.519818 #67831] ERROR -- : Unable to parse tokens file: A JSON text must at least contain two octets!\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.519859 #67831]  INFO -- : SRWT Node: 192.168.25.31 Request: check_auth\n&quot;,<br>    &quot;E, [2016-01-18T15:51:26.519888 #67831] ERROR -- : Unable to connect to node 192.168.25.31, no token available\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.670865 #67831]  INFO -- : Running: /usr/sbin/pcs status nodes corosync\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.670944 #67831]  INFO -- : CIB USER: hacluster, groups: \n&quot;,<br>    &quot;D, [2016-01-18T15:51:26.783706 #67831] DEBUG -- : []\n&quot;,<br>    &quot;D, [2016-01-18T15:51:26.783851 #67831] DEBUG -- : Duration: 0.112746424s\n&quot;,<br>    &quot;I, [2016-01-18T15:51:26.783949 #67831]  INFO -- : Return Value: 1\n&quot;,<br>    &quot;W, [2016-01-18T15:51:26.784063 #67831]  WARN -- : Cannot read config 'tokens' from '/var/lib/pcsd/tokens': No such file or directory - /var/lib/pcsd/tokens\n&quot;,<br>    &quot;E, [2016-01-18T15:51:26.784147 #67831] ERROR -- : Unable to parse tokens file:<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>##################################################<br># Version Info<br>##################################################<br><br>[root@pmsclp01 network-scripts]# cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br><br><br>[root@pmsclp01 network-scripts]# rpm -q pcs pacemaker corosync kernel<br>pcs-0.9.143-15.el7.x86_64<br>pacemaker-1.1.13-10.el7.x86_64<br>corosync-2.3.4-7.el7.x86_64<br>kernel-3.10.0-327.el7.x86_64<br><br><br>[root@pmsclp01 network-scripts]# cat /etc/hosts<br>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4<br>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6<br><br># 2016.01.18 - Red Hat for HA ( HeartBeat )<br>192.168.25.31   pmsclp01_HB<br>192.168.25.32   pmsclp02_HB<br><br># 2016.01.18 - Red Hat for HA ( Service )<br>42.1.231.31     pmsclp01<br>42.1.231.32     pmsclp02<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>##################################################<br># Failed Info AND Messages<br>##################################################<br>요약 :<br>1) 하기의 명령으로 클러스터 멤버 인증을 시도하면, 하기와 같은 메세지가 발생하며 인증 실패<br>pcs cluster auth -u hacluster -p redhat pmsclp01_HB pmsclp02_HB<br><br>Error: Unable to communicate with pmsclp01_HB<br>Error: Unable to communicate with pmsclp02_HB<br><br>2) 네트워크 통신은 가능 함( ping test : OK )<br>ping pmsclp01_HB<br>ping pmsclp02_HB<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>clusterha</name></tag><tag><name>juddi</name></tag><tag><name>registration</name></tag><tag><name>rpm</name></tag></tags><br><comment id="a0aA000000G7TK6IAN"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-01-21T01:16:10Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-01-21T01:16:09Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>해결이 되어서 다행입니다. 본 케이스는 Close 하도록 하겠습니다.<br>======================<br><br>감사합니다.<br><br><publishedDate>2016-01-21T01:16:09Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G7TG9IAN"><br>======================<br><b>생성계정 : Kim, Seung-Pil</b><br><b>생성날짜 : 2016-01-21T01:02:00Z</b><br><b>마지막 답변자 : Kim, Seung-Pil</b><br><b>마지막 수정 일자 : 2016-01-21T01:01:59Z</b><br><br>안녕하세요.<br>pcs cluster auth가 정상적으로 수행되지 않는 본 이슈는 일부 디렉토리의 권한문제에 기인한 것으로 확인하여 조치 하였습니다.<br>확인 및 조치 내용은 하기와 같습니다.<br><br>1. 방화벽 상태 확인<br># systemctl status firewalld<br>-&gt; 비활성<br><br>2. pcsd 상태 확인<br># systemctl status pcsd<br>-&gt; 정상 실행<br><br>3. *** 디렉토리 권한 문제( others 의 r-x permission이 삭제 되어, 추가 )  ***<br>3-1) 확인한 결과, 하기의 대상 디렉토리에 others 의 r-x permission이 삭제 되었음<br>3-2) 대상 디렉토리<br>- pacemaker 패키지, pcs 패키지, resource-agents 패키지 파일 경로<br>- / 디렉토리, /sbin 디렉토리 등<br><br>4. 클러스터 auth 재수행( 정상 )<br># pcs cluster destroy --all<br># rm -f /etc/corosync/corosync.conf<br># pcs cluster auth  pmsclp01-HB  pmsclp02-HB<br>pmsclp01-HB  : Authorized<br>pmsclp02-HB : Authorized<br><br>본 케이스는 종료하여 주시기 바랍니다.<br><br><br>추가로 하기의 메세지가 발생하며, 클러스터 서비스 시작이 정상적으로 수행되지 않는 이슈가 있으며<br>케이스를 새로 열도록 하겠습니다.<br><br># pcs cluster start<br>... snip ...<br>Jan  20 14:09:15 pmsclp01 corosync[102268]: [QB    ] Invalid IPC credentials (102268-108546-2).<br>... snip ...<br>======================<br>&gt; 1. pcsd 데몬 확인<br><br>(HAN, JINKOO에 회신)<br>&gt; 안녕하세요,<br>&gt; Red Hat 한진구 입니다.<br>&gt; <br>&gt; 아래와 같이 수행 및 데이터를 수집하여 주시기 바랍니다.<br>&gt; <br>&gt; 0. 수집 데이터 임시저장<br>&gt; # mkdir mkdir /tmp/015-&quot;$(date)&quot;<br>&gt; <br>&gt; 1. pcsd 데몬 확인<br>&gt; # systemctl status pcsd &gt; &lt;tmp_dir&gt;/systemctl_status_pcsd.txt<br>&gt; # systemctl is-enabled pcsd &gt; &lt;tmp_dir&gt;/systemctl_is-enabled_pcsd.txt<br>&gt; # pcs cluster pcsd-status &gt; &lt;tmp_dir&gt;/pcs_cluster_pcsd-status.txt<br>&gt; <br>&gt; # systemctl enable pcsd<br>&gt; # systemctl restart pcsd<br>&gt; <br>&gt; 2. corosync.conf와 /var/lib/pcsd/tokens 파일 확인<br>&gt; # cp /etc/corosync/corosync.conf &gt; &lt;tmp_dir&gt;/.<br>&gt; # cp /var/lib/pcsd/tokens &gt; &lt;tmp_dir&gt;/.<br>&gt; <br>&gt; # touch /etc/corosync/corosync.conf<br>&gt; <br>&gt; 3. firewalld 확인<br>&gt; # systemctl status firewalld &gt; &lt;tmp_dir&gt;/systemctl_status_firewalld.txt<br>&gt; # systemctl is-enabled firewalld &gt; &lt;tmp_dir&gt;/systemctl_is-enabled_firewalld.txt<br>&gt; # firewall-cmd --list-all &gt; &lt;tmp_dir&gt;/firewall-cmd_--list-all.txt<br>&gt; <br>&gt; # systemctl stop firewalld<br>&gt; <br>&gt; <br>&gt; 4. pcs auth debug를 다시 수집<br>&gt; <br>&gt; [root@pmsclp01 network-scripts]# pcs cluster auth -u hacluster -p redhat pmsclp01_HB  --debug --force<br>&gt; <br>&gt; <br>&gt; <br>&gt; 위의 &lt;tmp_dir&gt;에 수집된 데이터 자료들과, 다시 auth를 실행했을때의 결과물을 수집하여 전달 바랍니다.<br>&gt; <br>&gt; <br>&gt;<br><br><publishedDate>2016-01-21T01:01:59Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000G72qsIAB"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-01-19T02:35:25Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-01-19T02:35:25Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>아래와 같이 수행 및 데이터를 수집하여 주시기 바랍니다.<br><br>0. 수집 데이터 임시저장<br># mkdir mkdir /tmp/015-&quot;$(date)&quot;<br><br>1. pcsd 데몬 확인<br># systemctl status pcsd &gt; &lt;tmp_dir&gt;/systemctl_status_pcsd.txt<br># systemctl is-enabled pcsd &gt; &lt;tmp_dir&gt;/systemctl_is-enabled_pcsd.txt<br># pcs cluster pcsd-status &gt; &lt;tmp_dir&gt;/pcs_cluster_pcsd-status.txt<br><br># systemctl enable pcsd<br># systemctl restart pcsd<br><br>2. corosync.conf와 /var/lib/pcsd/tokens 파일 확인<br># cp /etc/corosync/corosync.conf &gt; &lt;tmp_dir&gt;/.<br># cp /var/lib/pcsd/tokens &gt; &lt;tmp_dir&gt;/.<br><br># touch /etc/corosync/corosync.conf<br><br>3. firewalld 확인<br># systemctl status firewalld &gt; &lt;tmp_dir&gt;/systemctl_status_firewalld.txt<br># systemctl is-enabled firewalld &gt; &lt;tmp_dir&gt;/systemctl_is-enabled_firewalld.txt<br># firewall-cmd --list-all &gt; &lt;tmp_dir&gt;/firewall-cmd_--list-all.txt<br><br># systemctl stop firewalld<br><br><br>4. pcs auth debug를 다시 수집<br><br>[root@pmsclp01 network-scripts]# pcs cluster auth -u hacluster -p redhat pmsclp01_HB  --debug --force<br>======================<br>위의 &lt;tmp_dir&gt;에 수집된 데이터 자료들과, 다시 auth를 실행했을때의 결과물을 수집하여 전달 바랍니다.<br>======================<br>감사합니다.<br><br><publishedDate>2016-01-19T02:35:25Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G72fQIAR"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-01-19T01:54:56Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-01-19T01:54:55Z</b><br><br>안녕하세요,<br>Red Hat Technical Account Manager 한진구 입니다.<br><br>우선 firewalld daemon을 내리고 pcsd 데몬을 시작한 후, 다시 한번 테스트하여 그 결과를 공유 바랍니다.<br><br># systemctl stop firewalld.service ; systemctl disable firewalld.service<br># systemctl start pcsd.service ; systemctl enable pcsd.service<br>======================<br>업데이트 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2016-01-19T01:54:55Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>