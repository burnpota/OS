======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2018-09-28T04:47:56Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-10-13T10:12:18Z</b><br><b>id : 500A000000cCpdbIAC</b><br>======================<br><br><b><font size=15>
제목  : 보안권고사항 적용방법
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>보안권고사항에 의해 아래와 같이 설정을 필요합니다.<br>권고요청사항이 RHEL6.x 에 유효한 사항인것 같은데 RHEL7.x 대에서 아래와 같이 하면 되는지 또는<br>다른 방법으로 해야 하는지 알고싶습니다.<br><br>권고사항<br># cat  /etc/pam.d/system-auth<br><br>...<br><br>auth required       pam_tally.so    deny=4 unlock_time=1800 no_magic_root reset<br>password requisite  pam_cracklib.so lcredit=-1 dcredit=-1 ocredit=-1<br>password sufficient pam.unix.so     remember=2<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Configuration issue</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><hostname>[삼성화재][WEB/WAS]</hostname><br><br><br><comment id="a0aA000000NotDtIAJ"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2018-09-28T08:31:32Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2018-09-28T08:31:32Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>문의하신 질문에 대한 답변은 아래와 같습니다.<br><br>&gt; 그럼 아래와 같이 셋팅하면 되는건가요?  몇가지 추가 문의 드립니다.<br><br>네, 맞습니다.<br><br># cat  /etc/pam.d/system-auth<br>...<br>auth        required      pam_tally2.so deny=4 unlock_time=1800 <br>auth        sufficient    pam_unix.so nullok try_first_pass<br>...<br><br>account     required      pam_tally2.so    <br>account     required      pam_unix.so broken_shadow<br>...<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 lcredit=-1 dcredit=-1 ocredit=-1<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok remember=2<br><br>-------------------<br>&gt; 설정 경우 https://access.redhat.com/solutions/2808101 솔루션과 다른것 같은데 system-auth 에 적용해도 영향 없나요?<br><br>pam_cracklib 팜 모듈도 RHEL7에서 사용 가능하시기 때문에 상기와 같이 설정하셔도 되며<br>솔루션에서 안내된 모듈을 사용하셔도 됩니다. 두가지 방법중 하나를 선택하셔서 사용하시기 바랍니다.<br><br><br>감사합니다.<br><br><publishedDate>2018-09-28T08:31:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NoshqIAB"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2018-09-28T07:45:21Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2018-09-28T07:45:21Z</b><br><br>감사합니다.  root 계정은 로그인 실패시 잠그는것은 원하지 않습니다.<br><br>그럼 아래와 같이 셋팅하면 되는건가요?  몇가지 추가 문의 드립니다.<br># cat  /etc/pam.d/system-auth<br>...<br>auth        required      pam_tally2.so deny=4 unlock_time=1800 <br>auth        sufficient    pam_unix.so nullok try_first_pass<br>...<br><br>account     required      pam_tally2.so    <br>account     required      pam_unix.so broken_shadow<br>...<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 lcredit=-1 dcredit=-1 ocredit=-1<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok remember=2<br><br>----------------------------------------------------------------------------------------------------------------<br>password    requisite     pam_cracklib.so try_first_pass retry=3 lcredit=-1 dcredit=-1 ocredit=-1<br>설정 경우 https://access.redhat.com/solutions/2808101 솔루션과 다른것 같은데 system-auth 에 적용해도 영향 없나요?<br><br><publishedDate>2018-09-28T07:45:21Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Nos4wIAB"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2018-09-28T06:53:58Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2018-09-28T06:53:58Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Senior Technical Support Engineer 황 영 입니다.<br><br>RHEL6와 RHEL7 버전에서는 pam_tally 대신 pam_tally2를 사용하실수 있습니다.<br>또한 pam_tally2에는 no_magic_root와 reset 옵션이 존재하지 않으며 만일 root 계정로 로그인 실패시 잠기는것을 원하시면<br>even_deny_root와 root_unlock_time 옵션을 사용하실수 있습니다.<br>따라서 패스워드 정책을 아래와 같이 적용하실수 있습니다.<br><br># cat  /etc/pam.d/system-auth<br>...<br>auth        required      pam_tally2.so deny=4 unlock_time=1800 even_deny_root root_unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>...<br><br>account     required      pam_tally2.so    <br>account     required      pam_unix.so broken_shadow<br>...<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 lcredit=-1 dcredit=-1 ocredit=-1<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok remember=2<br>...<br><br>감사합니다.<br><br><publishedDate>2018-09-28T06:53:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>권고요청사항이 RHEL6.x 에 유효한 사항인것 같은데 RHEL7.x 대에서 아래와 같이 하면 되는지 또는<br>다른 방법으로 해야 하는지 알고싶습니다.<br><br>권고사항<br># cat  /etc/pam.d/system-auth<br><br>...<br><br>auth required       pam_tally.so    deny=4 unlock_time=1800 no_magic_root reset<br>password requisite  pam_cracklib.so lcredit=-1 dcredit=-1 ocredit=-1<br>password sufficient pam.unix.so     remember=2</issue><cep>false</cep></case>