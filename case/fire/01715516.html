======================<br><b>생성계정 : Seung-Pil Kim</b><br><b>생성날짜 : 2016-10-05T04:34:51Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2016-10-23T10:04:30Z</b><br><b>id : 500A000000VEHNWIA5</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][보험ERP][가동계]  NFS - Multiple processes listing a large directory over nfs concurrently takes a very long time - 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>하기의 케이스에 언급되어 있는 이슈 시스템 대상에 보험ERP 시스템의 RHEL버젼인 RHEL7.2 GA가 포함되는지 확인 문의 드립니다.<br><br><br>##################################################<br>https://access.redhat.com/solutions/2592711<br><br>환경<br><br>    Red Hat Enterprise Linux 7<br>        seen on kernel 3.10.0-327.10.1.el7<br>        seen on kernel 3.10.0-229.el7<br>    Red Hat Enterprise Linux 6<br>        seen on 2.6.32-573.8.1.el6<br>        seen on 2.6.32-642.el6.x86_64<br>    Upstream kernels<br>        seen on 4.8.0-rc2+<br>##################################################<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>##### 보험ERP SYSTEM INFO #####<br><br>RHEL Version : Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>Kernel Version : 3.10.0-327.el7.x86_64<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><br><br><folderNumber>74173</folderNumber><br><comment id="a0aA000000Hwu7pIAB"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-10-07T04:38:18Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-10-07T04:38:18Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>본 건과 관련되어 확인한 내용을 정리하여 드립니다.<br><br><br>* 이슈가 발생하는 환경<br>1. RHEL6.7 이상 <br>2. 그리고 하나의 디렉토리에 100,000개 이상의 파일을 가진 NFS v3 파일시스템 or 여러개의 프로세스가 동시에 하나의 디렉토레에 접근하여 operation이 존재하는 시스템 환경<br><br><br>* 이슈내용<br>위의 환경의 시스템에서 Performance regression 현상이 발생하나, 시스템이 hang이 되거나 panic이 되는 현상은 아님<br><br><br>* 현재 고객사의 시스템 환경<br>1. RHEL6.5  <br>2. RHEL6.7<br>3. RHEL7.2 (3.10.0-327.el7.x86_64)<br>======================<br>* 환경별 검토내용<br><br>1. RHEL6.5 : RHEL6.5는 현재 해당 이슈의 대상이 아닌 것으로 확인됨<br><br>2. RHEL6.7<br>- RHEL6.7은 performance regression이 발생될 수 있는 시스템 버젼이기는 하나, 시스템이 hang이 되거나 panic이 발생하는 이슈는 아님<br>- 현재 사용중인 시스템의 환경을 확인 해볼 필요가 있으며, 아래와 같은 항목들에 해당이 되지 않는다면 현재의 workload가 큰 performance regression의 영향을 받지 않음을 의미<br>- 다만, 해당 시스템은 performance regression이 발생될 수 있기 때문에 이러한 해당 디렉토리의 operation시에 성능 저하 현상이 언제든 발생은 할 수 있기때문에 이에 대한 지속적인 모니터링이 필요함.<br><br>&lt; 모니터링 필요 내용 &gt;<br>a. 하나의 디렉토리에 10만개의 파일을 가진 디렉토리가 있는지? <br>b. 그리고.. 동시에 여러개의 프로세스가 동시에 하나의 디렉토리에 접근하여 operation을 하는 것이 있는지?<br>c. 해당 이슈는 performance regression이슈로 위의 환경이라면 hung_tast_timout과 같은 warning 메시지들을 로그상에서 확인할 수 있음<br><br><br>3. RHEL7.2<br>- 현재 고객사에서는 RHEL7.2 GA버젼의 커널 버젼을 사용중에 있음. (3.10.0-327.el7.x86_64)<br>- 해당 이슈가 현재 확인된 kernel의 버젼은 3.10.0-327.10.1.el7  (February 16, 2016 / RHEL7.2) 으로 7.2 GA버젼에는 아직 영향을 받는다는 보고는 없음<br>- 다만, 유사한 이슈가 발생할 수 있음에 따라 이에 대한 모니터링이 필요하며, 특히 hung_task_timout 과 같은 warning 발생 여부에 대한 지속적인 모니터링은 필요할 것으로 사료됩니다.<br>======================<br>감사합니다.<br><br><publishedDate>2016-10-07T04:38:18Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Hwg5AIAR"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-10-06T05:04:23Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-10-06T05:04:23Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>몇 가지 확인중에 있으며 해당 내용을 확인하여 답변 드리도록 하겠습니다.<br>======================<br>감사합니다.<br><br><publishedDate>2016-10-06T05:04:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HwPmeIAF"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-10-05T05:18:11Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-10-05T05:18:11Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>본 케이스는 제가(한진구) 답변 드릴 수 있도록 하겠습니다.<br>======================<br>감사합니다.<br><br><publishedDate>2016-10-05T05:18:11Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HwPgbIAF"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-10-05T05:00:21Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-10-05T05:00:21Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>kcs 문서의 환경 부분에 seen on 이라고 표시되어있으며,<br>해당 문제를 보고한 고객의 시스템의 커널이 명시되어있습니다.<br><br>7.2GA 커널이 환경부분에 명시되어있지 않다고 하여, 해당 문제가 발생하지 않는다고 말씀드릴 수 없습니다.<br>다만, 아직 해당 문제를 겪고 있는 고객이 없을 뿐입니다.<br><br>사용 중인 3.10.0-327 커널에서 동일한 문제가 발생하고 있는지 확인이 필요하며,<br>만일 동일한 문제가 발생한다면, 발생 시점에 vmcore 를 수집해주시면 저희 파일시스템 엔지니어가<br>분석하여 해당 부분에 대한 원인과 해결책을 찾아 볼 수 있을 것입니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-10-05T05:00:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br><br>##################################################<br>https://access.redhat.com/solutions/2592711<br><br>환경<br><br>    Red Hat Enterprise Linux 7<br>        seen on kernel 3.10.0-327.10.1.el7<br>        seen on kernel 3.10.0-229.el7<br>    Red Hat Enterprise Linux 6<br>        seen on 2.6.32-573.8.1.el6<br>        seen on 2.6.32-642.el6.x86_64<br>    Upstream kernels<br>        seen on 4.8.0-rc2+<br>##################################################</issue><environment>##### 보험ERP SYSTEM INFO #####<br><br>RHEL Version : Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>Kernel Version : 3.10.0-327.el7.x86_64</environment><cep>false</cep><folderName>ERP-ALL</folderName></case>