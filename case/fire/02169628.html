======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2018-08-27T09:12:55Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2018-09-04T03:08:26Z</b><br><b>id : 500A000000bSPRvIAO</b><br>======================<br><br><b><font size=15>
제목  : 시스템 행 현상 발생
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>2018년 8월25일 14:02 전 후로 시스템에 행이 발생하여 원격으로 로그인은 되지만 아무 명령이 듣지 않아서 <br>강제종료했습니다.<br>행이 발생한 원인을 파악하고 있습니다.<br>sosreport 파일을 첨부합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><hostname>bdadatp17</hostname><br><br><br><comment id="a0aA000000NWaupIAD"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-04T03:08:23Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-04T03:08:23Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-04T03:08:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NVoLDIA1"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-08-30T06:00:00Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-08-30T06:00:00Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-08-30T06:00:00Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NVBdVIAX"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-08-27T23:44:07Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-08-27T23:44:07Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>올려주신 sosreport 에서 아래 행 로그를 확인하였습니다.<br>로그에서 확인한 정보는 애플리케이션들이 rwsemaphore 점유하기 위해 120초 이상 대기중인 것으로 확인되었으며,<br>이 증상으로 시스템 행 증상이 발생된 것으로 추정하고 있습니다.<br>시스템 콜(함수)가 seos 모듈에 의해서 후킹되어 seos 에서 제공하는 함수를 사용하게 변조된 만큼<br>해당 업체의 모듈에 의한 문제일 가능성이 높아보입니다.<br>따라서, 해당 모듈을 언로드하고도 문제가 지속되는지 확인이 필요하며, 해당 업체에도 분석 문의를 해 볼 필요가 있습니다.<br><br>Aug 25 10:41:44 bdadatp17 kernel: INFO: task oacore:9439 blocked for more than 120 seconds.<br>Aug 25 10:41:44 bdadatp17 kernel: &quot;echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs&quot; disables this message.<br>Aug 25 10:41:44 bdadatp17 kernel: oacore          D ffff881ff1e87da0     0  9439   5913 0x00000000<br>Aug 25 10:41:44 bdadatp17 kernel: ffff881ff1e87d78 0000000000000086 ffff881ff360af70 ffff881ff1e87fd8<br>Aug 25 10:41:44 bdadatp17 kernel: ffff881ff1e87fd8 ffff881ff1e87fd8 ffff881ff360af70 ffff881ff360af70<br>Aug 25 10:41:44 bdadatp17 kernel: ffff882a29aeb8b8 ffffffffffffffff ffff882a29aeb8c0 ffff881ff1e87da0<br>Aug 25 10:41:44 bdadatp17 kernel: Call Trace:<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816a94c9&gt;] schedule+0x29/0x70<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816aaafd&gt;] rwsem_down_read_failed+0x10d/0x1a0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81331ad8&gt;] call_rwsem_down_read_failed+0x18/0x30<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816a8760&gt;] down_read+0x20/0x40<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff812739d2&gt;] proc_pid_cmdline_read+0xb2/0x560<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff812b21f4&gt;] ? security_file_permission+0x84/0xa0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81200b9c&gt;] vfs_read+0x9c/0x170<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81201a5f&gt;] SyS_read+0x7f/0xe0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffffc06a7d4e&gt;] ? my_open+0xde/0x200 [seos]<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816b4fc9&gt;] system_call_fastpath+0x16/0x1b<br>Aug 25 10:41:44 bdadatp17 kernel: INFO: task hpsensor:9758 blocked for more than 120 seconds.<br>Aug 25 10:41:44 bdadatp17 kernel: &quot;echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs&quot; disables this message.<br>Aug 25 10:41:44 bdadatp17 kernel: hpsensor        D ffff881ff1adbda0     0  9758   7586 0x00000000<br>Aug 25 10:41:44 bdadatp17 kernel: ffff881ff1adbd78 0000000000000082 ffff881fefed4f10 ffff881ff1adbfd8<br>Aug 25 10:41:44 bdadatp17 kernel: ffff881ff1adbfd8 ffff881ff1adbfd8 ffff881fefed4f10 ffff881fefed4f10<br>Aug 25 10:41:44 bdadatp17 kernel: ffff882a29aeb8b8 ffffffffffffffff ffff882a29aeb8c0 ffff881ff1adbda0<br>Aug 25 10:41:44 bdadatp17 kernel: Call Trace:<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816a94c9&gt;] schedule+0x29/0x70<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816aaafd&gt;] rwsem_down_read_failed+0x10d/0x1a0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81331ad8&gt;] call_rwsem_down_read_failed+0x18/0x30<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816a8760&gt;] down_read+0x20/0x40<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff812739d2&gt;] proc_pid_cmdline_read+0xb2/0x560<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff812b21f4&gt;] ? security_file_permission+0x84/0xa0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81200b9c&gt;] vfs_read+0x9c/0x170<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff81201a5f&gt;] SyS_read+0x7f/0xe0<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffffc06a7d4e&gt;] ? my_open+0xde/0x200 [seos]<br>Aug 25 10:41:44 bdadatp17 kernel: [&lt;ffffffff816b4fc9&gt;] system_call_fastpath+0x16/0x1b<br><br>Aug 25 13:55:01 bdadatp17 systemd: Started Session 3477 of user root.<br>Aug 25 13:55:01 bdadatp17 systemd: Starting Session 3477 of user root.<br>--- 재시작 ---<br>Aug 25 14:02:16 bdadatp17 kernel: Initializing cgroup subsys cpuset<br><br>DMIDECODE<br>  BIOS:    Vend: HP    Vers: U19    Date: 10/25/2017    BIOS Rev: 2.52    FW Rev:   2.60<br>  System:    Prod: ProLiant XL420 Gen9<br>  CPU:<br>    2 of 2 CPU sockets populated, 10 cores/20 threads per CPU<br>    20 total cores, 40 total threads    Vers: Intel(R) Xeon(R) CPU E5-2640 v4 @ 2.40GHz<br>  Memory:<br>    Total: 262144 MiB (256 GiB)<br><br>OS<br>  Hostname: bdadatp17<br>  Distro:   [redhat-release] Red Hat Enterprise Linux Server release 7.4 (Maipo)<br>  Kernel:<br>    Booted kernel:  3.10.0-693.el7.x86_64<br>    Booted kernel cmdline:<br>      root=/dev/mapper/vg00-root ro transparent_hugepage=never crashkernel=auto<br>      rd.lvm.lv=vg00/root rd.lvm.lv=vg00/swap rhgb quiet<br>    Taint-check: 12289  (see https://access.redhat.com/solutions/40594)<br>       0  PROPRIETARY_MODULE: Proprietary module has been loaded<br>      12  OOT_MODULE: Out-of-tree module has been loaded<br>      13  UNSIGNED_MODULE: Unsigned module has been loaded<br>    - - - - - - - - - - - - - - - - - - -<br>  Sys time:  Mon Aug 27 15:26:03 KST 2018<br>  Boot time: Sat Aug 25 05:02:14 UTC 2018  (epoch: 1535173334)<br>  Uptime:    2 days,  1:23,  1 user<br>  LoadAvg:   [20 CPU] 1.41 (7%), 1.12 (6%), 0.70 (4%)<br>  /proc/stat:<br>    procs_running: 1   procs_blocked: 0    processes [Since boot]: 1777733<br>    cpu [Utilization since boot]:<br>      us 0%, ni 0%, sys 0%, idle 99%, iowait 0%, irq 0%, sftirq 0%, steal 0%<br><br>KDUMP CONFIG<br>  kexec-tools rpm version:<br>    kexec-tools-2.0.14-17.el7.x86_64<br>  Service enablement:<br>    UNIT  STATE<br>  kdump initrd/initramfs:<br>    18981615 Aug 18 11:18 initramfs-3.10.0-693.el7.x86_64kdump.img<br>  Memory reservation config:<br>    /proc/cmdline { crashkernel=auto }<br>  Actual memory reservation per /proc/iomem:<br>      2d000000-37ffffff : Crash kernel<br>  kdump.conf:<br>    path /var/crash<br>    core_collector makedumpfile -l --message-level 1 -d 31<br>  kdump.conf &quot;path&quot; available space:<br>    System MemTotal (uncompressed core size) { 251.49 GiB }<br>    Available free space on target path's fs { 127.72 GiB }  (fs=/var/crash)<br>  Panic sysctls:<br>    kernel.sysrq [bitmask] =  &quot;1&quot;  (all SysRqs allowed)<br>    kernel.panic [secs] =  0  (no autoreboot on panic)<br>    kernel.hung_task_panic =  0<br>    kernel.panic_on_oops =  0<br>    kernel.panic_on_io_nmi =  1<br>    kernel.panic_on_unrecovered_nmi =  1<br>    kernel.panic_on_stackoverflow =  0<br>    kernel.softlockup_panic =  0<br>    kernel.unknown_nmi_panic =  1<br>    kernel.nmi_watchdog =  1<br>    vm.panic_on_oom [0-2] =  0  (no panic)<br><br>kernel.hung_task_panic = 1 설정을 이용하여 행 발생시에 강제 패닉으로 vmcore 를 수집하여 <br>저희 레드햇으로 보내주시면 추가 분석이 가능합니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-08-27T23:44:07Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>강제종료했습니다.<br>행이 발생한 원인을 파악하고 있습니다.<br>sosreport 파일을 첨부합니다.</issue><cep>false</cep></case>