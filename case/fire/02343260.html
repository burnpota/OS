======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2019-03-21T04:16:41Z</b><br><b>마지막 답변자 : support os</b><br><b>마지막 수정 일자 : 2019-04-03T07:11:55Z</b><br><b>id : 5002K00000dPv2mQAC</b><br>======================<br><br><b><font size=15>
제목  : mutipath 구성에 따른 문의사항 및 권고 설정값 확인
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하십니까 타임게이트 오선우입니다<br><br>타임게이트 / 오선우 / 수석보 / 010-4630-3171 / sw.oh@time-gate.com<br><br>txt 파일 2개 첨부드립니다<br><br>1개는 현재 사용중인 설정들이고  1개는 설정하려고 하는 설정입니다<br><br>설정하려고 하는 설정이 아래와 같이 active enabled 형태로 되어 있는데요<br><br>|-+- policy='service-time 0' prio=50 status=active<br><br>| |- 1:0:0:0 sdd 8:48 active ready running<br><br>| `- 3:0:0:0 sdf 8:80 active ready running<br><br>`-+- policy='service-time 0' prio=10 status=enabled<br><br>  |- 1:0:1:0 sde 8:64 active ready running<br><br>  `- 3:0:1:0 sdg 8:96 active ready running<br><br>1. 이전설정들은 1개의 그룹으로 되었는데요 단지 multibus 형식이여서 차이가 있는건가요?<br><br>2. prio 값이 정해지는 기준이 있나요?<br><br>3. 아래와 같은 설정기준값은 권고하는 값이 따로 있나요? 아니면 스토리지밴더에 요청해서 얻어지는 값을 적용하는 것이 좋을까요?<br><br>                vendor &quot;NETAPP&quot;<br>                product &quot;LUN.*&quot;<br>                path_grouping_policy &quot;group_by_prio&quot;<br>                path_checker &quot;tur&quot;<br>                features &quot;3 queue_if_no_path pg_init_retries 50&quot;<br>                hardware_handler &quot;0&quot;<br>                prio &quot;ontap&quot;<br>                failback immediate<br>                rr_weight &quot;uniform&quot;<br>                rr_min_io 128<br>                flush_on_last_del &quot;yes&quot;<br>                dev_loss_tmo &quot;infinity&quot;<br>                user_friendly_names no<br>                retain_attached_hw_handler yes<br>                detect_prio yes<br><br>4. 이전설정들 처럼 active/enabled가 아닌 하나의 그룹으로 묶어서 사용할 경우 문제가 되나요?<br>설정을 바꾸려면 구성이 가능할까요?<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><hostname>-</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>multipath</name></tag></tags><br><comment id="a0a2K00000PpCoJQAV"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2019-04-03T07:11:41Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2019-04-03T07:11:41Z</b><br><br>안녕하십니까 타임게이트 오선우입니다<br><br>도움주셔서 모두 잘 해결되었습니다<br><br>케이스는 종료하도록 하겠습니다<br><br>감사합니다<br><br><publishedDate>2019-04-03T07:11:41Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PmuNIQAZ"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2019-03-25T01:52:31Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2019-03-25T01:52:31Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Senior Technical Support Engineer 황 영 입니다.<br><br>패스를 다중화하는(멀티패스) 환경에서 disk array를 구성하는 방식은 크게 두 가지 타입이 있습니다.<br>Type 1. Active/Active<br>Type 2. Active/Passive<br><br>참고 URL<br>- Active/Active and Active/Passive Disk Arrays<br>https://pubs.vmware.com/vi3/sanconfig/wwhelp/wwhimpl/common/html/wwhelp.htm?context=sanconfig&amp;file=esx_san_cfg_SANconcepts.4.12.html<br><br><br>이와 같은 설정은 서버에 연결된 disk array(Storage)는 Active/Active, Active/Passive 로 구성 가능한지에<br>대하여서도 확인이 필요합니다.<br><br>보내주신 정보에 의하면 현재 OPEN-V와 3PARdata는 Active/Active로 NETAPP는 Active/Passive로 <br>구성된 것으로 확인됩니다.<br><br>path_grouping_policy &quot;multibus&quot;<br>prio &quot;const&quot;<br><br>path_grouping_policy &quot;group_by_prio&quot;<br>prio alua<br><br>path_grouping_policy &quot;group_by_prio&quot;<br>prio ontap<br><br>문의하신 질문에 대한 답변은 아래와 같이 별도로 안내해 드립니다.<br><br>1. 이전설정들은 1개의 그룹으로 되었는데요 단지 multibus 형식이여서 차이가 있는건가요?<br><br>아닙니다. path_grouping_policy와 prio 등 옵션에 의하여 결정되며 이는 또한 스토리지측의<br>지원이 필요합니다. 예를 들어 일부 스토리지는 &quot;alua&quot;를 지원하지 않기 때문에 &quot;prio alua&quot;으로<br>설정시 에러가 발생됩니다.<br><br>2. prio 값이 정해지는 기준이 있나요?<br><br>디폴트로는 prio에 지정한 방법으로 읽어온 값에 의하여 결정 됩니다.<br>수동으로 지정하는 방법은 아래의 문서를 참고하시기 바랍니다.<br><br>참고문서:<br>How to configure custom prio values in dm-multipath for RHEL7?<br>https://access.redhat.com/solutions/1330493<br><br>3. 아래와 같은 설정기준값은 권고하는 값이 따로 있나요? 아니면 스토리지밴더에 요청해서 얻어지는 값을 적용하는 것이 좋을까요?<br><br>레드햇에서는 디퐅트값을 제공하고 있습니다. 따라서 일반적으로 하드웨어 벤더사측의 안내대로 설정하시는것이 좋습니다.<br>                vendor &quot;NETAPP&quot;<br>                product &quot;LUN.*&quot;<br>                path_grouping_policy &quot;group_by_prio&quot;<br>                path_checker &quot;tur&quot;<br>                features &quot;3 queue_if_no_path pg_init_retries 50&quot;<br>                hardware_handler &quot;0&quot;<br>                prio &quot;ontap&quot;<br>                failback immediate<br>                rr_weight &quot;uniform&quot;<br>                rr_min_io 128<br>                flush_on_last_del &quot;yes&quot;<br>                dev_loss_tmo &quot;infinity&quot;<br>                user_friendly_names no<br>                retain_attached_hw_handler yes<br>                detect_prio yes<br><br>4. 이전설정들 처럼 active/enabled가 아닌 하나의 그룹으로 묶어서 사용할 경우 문제가 되나요?<br>설정을 바꾸려면 구성이 가능할까요?<br><br>이는 스토리지측에서 Active/Active 방식을 지원하는지 현재 이와 같이 구성되어 있는지를 확인해 보셔야 합니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-25T01:52:31Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>