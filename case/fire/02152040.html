======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2018-07-31T07:00:55Z</b><br><b>마지막 답변자 : Chang-An Song</b><br><b>마지막 수정 일자 : 2018-08-06T00:02:52Z</b><br><b>id : 500A000000bVHzKIAW</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][U2L] linux 에서 lv 생성시   aix 에서 주는 옵션과 동일한 기능을 지원하는지요?
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>현재 고객사이트에서 용 lvm 를 생성하는데 기존에 aix 에서 <br>mklv -e x <br>옵션을 사용하여 lv 를 생성했다고 합니다.<br>리눅스에서 스트라이프를 사용하지 않고  이러한 옵션과 동일한 기능을 제공하는지요?<br><br>해결 기간이나 업무에 미치는 영향에 대한 정보를 제공해 주시겠습니까?<br><br>볼륨생성작업이 시간이 소요되어 일정상 급하게 요청합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Usage / Documentation Help</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 2 (High)</b><br><hostname>[삼성화재][U2L]</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000NKLMoIAP"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2018-08-04T15:07:28Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2018-08-04T15:07:28Z</b><br><br>급한일정에 대응 잘해 주셔서 감사합니다.<br>종료하도록 하겠습니다.<br><br><publishedDate>2018-08-04T15:07:28Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NJmOgIAL"><br>======================<br><b>생성계정 : Song, Chang-An</b><br><b>생성날짜 : 2018-08-02T01:12:28Z</b><br><b>마지막 답변자 : Song, Chang-An</b><br><b>마지막 수정 일자 : 2018-08-02T01:12:28Z</b><br><br>안녕하세요? Red Hat 송 창 안 입니다.<br><br>문의 주신 내용에 대해서 답변 하도록 하겠습니다.<br>현재 아래와 같은 디스크 구성 에서 문제가 발생할 만한 요소가 있는지 여부에 대해서 저희 전문 엔지니어에게 질문을 하였으며,<br><br>        PV           VG     LV<br>+------------------+------+------+<br>|1:/dev/sda1(500G) |      |      |<br>|..................| myvg | mylv |<br>|20:/dev/sgf1(500G)|      |      |<br>+------------------+------+------+<br>| 10 TB            |10 TB |10 TB |<br>+------------------+------+------+<br><br>단지 현재의 구성에 대해서 씬 프로비저닝, 스트리핑, 레이드를 염두하지 않고 linear LV만 디스크를 구성한다면, 다른 특별한 이슈는 없을 것으로 판단 됩니다.<br> <br>주의 사항은 고객이 LV 를 기본 장치를 파티션에 대해 결정한 경우, 이 처럼 큰 크기의 장치를 지원하려면 gpt 레이블이 필요할 것을 유념해야 하며, msdos 레이블은 지원 하지 않습니다. <br>또한 소프트웨어 수준의 데이터 중복성(data redundancy)이 없으 므로, 데이터가 중요 할 경우 고객은 백업의 대한 계획이 필요한 것으로 판단 됩니다.<br>만약 고객이 LV의 스냅샷을 만들거나 스트라이핑 또는 RAID (스트라이프, raid0, raid10)에 대한 이점을 원할 경우 다른 유형에 대한 고려가 필요합니다.<br><br>아래는 저희 엔지니어가 답변한 내용입니다.<br><br>A)<br>So, you want to just create a linear LV, with no thin provisioning, striping, or raid.  If this assumption is correct, then there are really no issues.  Linear LVs are very easy to create, maintain, extend, etc.<br><br>The only caveat you have to think of is if the customer decides to partition the underlying device... remember that a gpt label will be needed to support a device this large, a msdos label will not work.  Also, as you'll have no software level data redundancy, if the data is important, the customer will want to make sure there are backups taken.<br><br>Other than that you should be able to create and use the LV with no problems.  That said, and as Nikhil mentioned, you will need to keep other types in mind if you plan to make snapshots (thin snaps would be better) of the LV or if you want the benefits of striping or raid (stripe, raid0, raid10).<br><br>송 창 안 드림.<br><br><publishedDate>2018-08-02T01:12:28Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NJVkVIAX"><br>======================<br><b>생성계정 : Song, Chang-An</b><br><b>생성날짜 : 2018-08-01T04:56:33Z</b><br><b>마지막 답변자 : Song, Chang-An</b><br><b>마지막 수정 일자 : 2018-08-01T04:56:33Z</b><br><br>안녕하세요? Red Hat 송 창 안 입니다.<br><br>문의 주신 내용에 대해서 답변 하도록 하겠습니다.<br>스트라이프 없이는 기존에 AIX에서의 mklv 같은 내용은 구성하기는 어려운 것으로 판단 됩니다.<br><br>유선상으로 문의 주신 사례에 대해서는 확인 후 업데이트 하도록 하겠습니다.<br><br>lvm은 기본적인 striping을 지원하고 있으며, 예를 들어, striped LV 3개,  stripe 크기는 8Kib 그리고 사이즈는 100MiB로 하였으며, LV 이름은 lvcreate에 의해 선택됩니다.<br># lvcreate -i 3 -I 8 -L 100m vg00<br><br>아래는 테스트 된 내용에 대한 내용입니다.<br><br># pvs /dev/sd[bcd]<br>  PV         VG Fmt  Attr PSize PFree<br>  /dev/sdb      lvm2 ---  1.00g 1.00g<br>  /dev/sdc      lvm2 ---  1.00g 1.00g<br>  /dev/sdd      lvm2 ---  1.00g 1.00g<br><br># vgcreate stripevg /dev/sd[bcd]<br>  Volume group &quot;stripevg&quot; successfully created<br><br># lvcreate --type striped -n stripelv --stripes 3 -l 100%FREE stripevg<br>  Using default stripesize 64.00 KiB.<br>  Logical volume &quot;stripelv&quot; created.<br><br># lvs -o +devices<br>  LV       VG       Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices                            <br>  root     rhel     -wi-ao---- &lt;8.00g                                                     /dev/vda2(256)                     <br>  swap     rhel     -wi-ao----  1.00g                                                     /dev/vda2(0)                       <br>  stripelv stripevg -wi-a----- &lt;2.99g                                                     /dev/sdb(0),/dev/sdc(0),/dev/sdd(0)  &lt;==== 3 개의 striped 이며, 세그먼트 0부터 시작하는 각 장치가 있습니다.<br><br>감사합니다.<br>송 창 안 드림.<br><br><publishedDate>2018-08-01T04:56:33Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>mklv -e x <br>옵션을 사용하여 lv 를 생성했다고 합니다.<br>리눅스에서 스트라이프를 사용하지 않고  이러한 옵션과 동일한 기능을 제공하는지요?</issue><timeFramesAndUrgency>볼륨생성작업이 시간이 소요되어 일정상 급하게 요청합니다.</timeFramesAndUrgency><cep>false</cep></case>