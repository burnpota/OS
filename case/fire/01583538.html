======================<br><b>생성계정 : Seung-Pil Kim</b><br><b>생성날짜 : 2016-02-15T13:40:28Z</b><br><b>마지막 답변자 : JINKOO HAN</b><br><b>마지막 수정 일자 : 2016-11-02T00:42:58Z</b><br><b>id : 500A000000TcJhaIAF</b><br>======================<br><br><b><font size=15>
제목  : &quot;Substituting action 'metadata' for requested operation 'monitor'&quot; error on corosync.log
</font></b><br><br>======================<br><b>사전문의<br></b><br>What problem/issue/behavior are you having trouble with?  What do you expect to see?<br><br>Please provide reason why corosync.log is keep filling with error below for every single minute.<br>refer to attached file for more information.<br><br>&quot;<br>Feb 15 18:50:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:51:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:52:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:53:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:54:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:55:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>&quot;<br><br>What information can you provide around timeframes and urgency?<br><br>if additional information is required, please specify exact command or file name.<br>Due to security reason, it's difficult to get sosreport.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000GkgooIAB"><br>======================<br><b>생성계정 : Ram Jeon, Ja</b><br><b>생성날짜 : 2016-03-22T13:27:40Z</b><br><b>마지막 답변자 : Ram Jeon, Ja</b><br><b>마지막 수정 일자 : 2016-03-22T13:27:40Z</b><br><br>Hi Zimek,<br><br>I apology for the late response.<br>Thanks for the help and please close the case.<br><br>Thanks, jaram<br><br><publishedDate>2016-03-22T13:27:40Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GdJMNIA3"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-03-07T13:56:22Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-03-07T13:56:22Z</b><br><br>Hi Jaram,<br><br>The command is correct. However in RHEL 7.2 you don't even need to set pcmk_monitor_action='metadata' pcmk_status_action='metadata' but there is no harm if you set it.<br><br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-03-07T13:56:22Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GdBU1IAN"><br>======================<br><b>생성계정 : Ram Jeon, Ja</b><br><b>생성날짜 : 2016-03-07T01:14:49Z</b><br><b>마지막 답변자 : Ram Jeon, Ja</b><br><b>마지막 수정 일자 : 2016-03-07T01:14:48Z</b><br><br>Hi Zimek,<br><br>Currently, I have configured fence_kdump using syntax below:<br>&quot;<br>pcs stonith create kdump_stonith fence_kdump \<br>pcmk_host_check='static-list' \<br>pcmk_monitor_action='metadata' \<br>pcmk_status_action='metadata' \<br>pcmk_reboot_action='off' \<br>pcmk_host_list='node1 node2' --force<br>&quot;<br><br>Can you advise this to correct syntax to configure fence_kdump?<br>Thanks, jaram<br><br><publishedDate>2016-03-07T01:14:48Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GcKfUIAV"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-03-03T11:49:58Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-03-03T11:49:58Z</b><br><br>Hi Jaram,<br><br>You have created the fence device based on this article:<br><br>https://access.redhat.com/solutions/875883<br><br>If you check it carefully you can see that suggested command:<br><br># pcs stonith create kdump fence_kdump pcmk_status_action=&quot;metadata&quot; pcmk_monitor_action=&quot;metadata&quot; pcmk_reboot_action=&quot;off&quot; pcmk_host_list=&quot;rhel6-node1-pcmk.example.com rhel6-node2-pcmk.exmaple.com&quot; --force<br><br>is in WORKAROUND section. This is to workaround the proble described in the article as the fence_kdump agent did not support the &quot;monitor&quot; action, which stonith-ng calls when trying to start a device. Similarly, fence_kdump did not offer a &quot;status&quot; action. By specifying pcmk_monitor_action=&quot;metadata&quot; and pcmk_status_action=&quot;metadata&quot; we force the status and monitor operation to always succeed. This workaround will cause that message &quot;Substituting action 'metadata' for requested operation 'monitor'&quot; This is harmful informational message - no action is needed.<br><br>However the workaround is intended for releases prior fence-agents-kdump-4.0.11-10.el7. As you are using RHEL 7.2 which should use already fixed version you don't have to specify the &quot;metadata&quot; actions when creating the fence_kdump stonith resource.<br><br>Please let me know if anything is unclear.<br> <br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-03-03T11:49:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GbwqsIAB"><br>======================<br><b>생성계정 : Ram Jeon, Ja</b><br><b>생성날짜 : 2016-03-03T01:26:12Z</b><br><b>마지막 답변자 : Ram Jeon, Ja</b><br><b>마지막 수정 일자 : 2016-03-03T01:26:12Z</b><br><br>Hi,<br><br>Do you have any further update?<br>I haven't heard from you for a long time.<br>Please provide some update on current status.<br>Thanks, jaram<br><br><publishedDate>2016-03-03T01:26:12Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Ga0HIIAZ"><br>======================<br><b>생성계정 : Ram Jeon, Ja</b><br><b>생성날짜 : 2016-02-23T14:50:44Z</b><br><b>마지막 답변자 : Ram Jeon, Ja</b><br><b>마지막 수정 일자 : 2016-02-23T14:50:44Z</b><br><br>Hi Zimek,<br><br>Again, &quot;--force&quot; option was used since redhat KB advise to do it.<br>If fence_kdump create syntax need to be changed, I need to do the test again, hence please do check this from your side first.<br>Thanks, jaram<br><br><publishedDate>2016-02-23T14:50:44Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GZw2EIAT"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-02-23T08:41:40Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-02-23T08:41:40Z</b><br><br>Hi Jaram,<br><br>The command is ok. If you don't use --force you will get error if you use some unsupported parameter:<br><br># pcs stonith create kdump_stonith fence_kdump pcmk_host_check='static-list' pcmk_monitor_action='metadata' pcmk_reboot_action='off' pcmk_host_list='node1 node2' <br><br>Did removing the status operation help?<br><br>Thank you.<br><br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-02-23T08:41:40Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GYxkWIAT"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-02-18T16:19:53Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-02-18T16:19:53Z</b><br><br>Hi Jaram,<br><br>That is valid point, I will double-check this and let you know.<br><br>Thank you.<br><br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-02-18T16:19:53Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GYwI8IAL"><br>======================<br><b>생성계정 : Ram Jeon, Ja</b><br><b>생성날짜 : 2016-02-18T16:06:51Z</b><br><b>마지막 답변자 : Ram Jeon, Ja</b><br><b>마지막 수정 일자 : 2016-02-18T16:06:51Z</b><br><br>Hi Josef,<br><br>I created fence_kdump based on redhat kb article below:<br>https://access.redhat.com/solutions/875883<br><br>Based on your response, above kb is incorrect? or outdated?<br><br>Please confirm that creating fence_kdump using syntax below is valid or not.<br>pcs stonith create kdump_stonith fence_kdump pcmk_host_check='static-list' pcmk_monitor_action='metadata' pcmk_reboot_action='off' pcmk_host_list='node1 node2' --force<br><br>Thanks, jaram<br><br><publishedDate>2016-02-18T16:06:51Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GYB6JIAX"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-02-16T15:28:53Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-02-16T15:28:53Z</b><br><br>Dear Customer,<br><br>The messages &quot;Substituting action 'metadata' for requested operation 'monitor'&quot; are coming from fence_kdump stonith agent which doesn't support action status but monitor. Please remove following action parameter from stonith fence_kdump:<br><br>          &lt;nvpair id=&quot;posc_fence_kdump-instance_attributes-pcmk_status_action&quot; name=&quot;pcmk_status_action&quot; value=&quot;metadata&quot;/&gt;<br><br><br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-02-16T15:28:53Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GXy49IAD"><br>======================<br><b>생성계정 : Zimek, Pepa</b><br><b>생성날짜 : 2016-02-15T15:45:22Z</b><br><b>마지막 답변자 : Zimek, Pepa</b><br><b>마지막 수정 일자 : 2016-02-15T15:45:22Z</b><br><br>Dear Customer,                                                                                                                           <br><br>Thank you for contacting Red Hat Technical Support.<br>My name is Josef Zimek and I will help you to solve your issue.<br><br>I am checking the data and will let you know my findings.<br><br>Kind Regards,<br>Josef Zimek<br>Red Hat Global Support Services<br><br><publishedDate>2016-02-15T15:45:22Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>refer to attached file for more information.<br><br>&quot;<br>Feb 15 18:50:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:51:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:52:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:53:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:54:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>Feb 15 18:55:42 [5836] posclp01 stonith-ng:     info: make_args:        Substituting action 'metadata' for requested operation 'monitor'<br>&quot;</issue><timeFramesAndUrgency>if additional information is required, please specify exact command or file name.<br>Due to security reason, it's difficult to get sosreport.</timeFramesAndUrgency><cep>false</cep></case>