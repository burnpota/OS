======================<br><b>생성계정 : support os</b><br><b>생성날짜 : 2018-11-26T06:12:09Z</b><br><b>마지막 답변자 : Xingbin Li</b><br><b>마지막 수정 일자 : 2018-12-10T03:22:32Z</b><br><b>id : 5002K00000ctidSQAQ</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재][WEB/WAS]  ifconfig  bond0  조회 중 bond0 dropped 패킷이 보이고 slave 디바이스에서는 dropped  패킷이 보이지 않습니다.
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>RHEL7 에서 알려진 버그 같은데   ifconfig 명령어시 <br>bonding 디바이스에만 dropped가 존재<br>bond의 slave는 깨끗함<br>분당 1000 정도 증가<br>이런 현상이 발생합니다.<br><br>ethtool -S bond0  은 no status device  메세지가 나옵니다.<br>ethtool   로는 bond0 은 조회가 되지 않는지요?<br>ifconfig bond0 에서 dropped  는 정상인가요?<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 1596892</b><br><b>심각도  : 3 (Normal)</b><br><hostname>shdwlep1</hostname><br><br><br><comment id="a0a2K00000OhdanQAB"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-12-10T03:22:31Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-12-10T03:22:31Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service입니다.<br><br>마지막 안내후 일정기간동안 답변이 없으셔서 본 케이스를 close 처리 하려고 합니다.<br>만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재오픈하실 수 있습니다.  <br>  <br>케이스가 처리 완료되면 가능하게 고객 설문조사 메일이 발생됩니다. <br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다. <br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.  <br>  <br>감사합니다.<br><br><publishedDate>2018-12-10T03:22:31Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000OQCvIQAX"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-12-06T01:23:47Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-12-06T01:23:47Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 추가적으로 문의하실 사항이 있으신가요?<br><br>본 안내 후 일정기간 답변이 없다면 본 케이스는 자동으로 종료 상태가 됨을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하시다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-12-06T01:23:47Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000OO7R0QAL"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-11-27T02:23:56Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-11-27T02:23:56Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>확인 감사드립니다.<br>bond 인터페이스는 logical 인터페이스므로 직접 ethtool 명령으로 조회가 불가능한 것은 정상현상입니다.<br>따라서 슬레이브 인터페이스의 값을 확인하시면 됩니다.<br><br>감사합니다.<br><br><publishedDate>2018-11-27T02:23:56Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000OO7N8QAL"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2018-11-27T02:17:15Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2018-11-27T02:17:14Z</b><br><br>담당자:  김수진 책임 (삼성SDS)<br><br>김수진 Kim, Soojin <br>책임 / 금융시스템1그룹 <br>Senior Engineer / Finance System Group 1 <br>T +82-70-7111-2357 <br>M +82-10-9179-2782 <br>sj9.kim@samsung.com<br><br>협력업체: 타임게이트 <br>이승훈 수석  010-5493-0769<br>sh.lee@time-gate.com<br><br><publishedDate>2018-11-27T02:17:14Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000OO7MFQA1"><br>======================<br><b>생성계정 : os, support</b><br><b>생성날짜 : 2018-11-27T02:15:44Z</b><br><b>마지막 답변자 : os, support</b><br><b>마지막 수정 일자 : 2018-11-27T02:15:43Z</b><br><br>네 감사합니다.<br>ethtool 로  bond 디바이스로 조회는 되지 않는지요?<br><br>no status device  라고만 나옵니다.<br><br>ifconfig  조희시  bonding 장치만 drop이  나옵니다.<br><br>root@shdwlep1:~]#ifconfig<br>bond0: flags=5187&lt;UP,BROADCAST,RUNNING,MASTER,MULTICAST&gt;  mtu 1500<br>        inet 42.1.11.73  netmask 255.255.255.0  broadcast 42.1.11.255<br>        ether b4:96:91:26:48:d8  txqueuelen 1000  (Ethernet)<br>        RX packets 1370165281  bytes 1554158994662 (1.4 TiB)<br>        RX errors 0  dropped 19468846  overruns 0  frame 0<br>        TX packets 941378268  bytes 1021171586610 (951.0 GiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>bond1: flags=5187&lt;UP,BROADCAST,RUNNING,MASTER,MULTICAST&gt;  mtu 1500<br>        inet 112.108.14.73  netmask 255.255.255.0  broadcast 112.108.14.255<br>        ether b4:96:91:26:48:da  txqueuelen 1000  (Ethernet)<br>        RX packets 136874568  bytes 35834717455 (33.3 GiB)<br>        RX errors 0  dropped 13412201  overruns 0  frame 0<br>        TX packets 158608553  bytes 200740003449 (186.9 GiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>  <br>p2p1: flags=6211&lt;UP,BROADCAST,RUNNING,SLAVE,MULTICAST&gt;  mtu 1500<br>        ether b4:96:91:26:48:d8  txqueuelen 1000  (Ethernet)<br>        RX packets 1348497317  bytes 1552503340244 (1.4 TiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 941378268  bytes 1021171586610 (951.0 GiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>p2p2: flags=6211&lt;UP,BROADCAST,RUNNING,SLAVE,MULTICAST&gt;  mtu 1500<br>        ether b4:96:91:26:48:da  txqueuelen 1000  (Ethernet)<br>        RX packets 121568632  bytes 34862170980 (32.4 GiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 158608552  bytes 200740003407 (186.9 GiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>p7p1: flags=6211&lt;UP,BROADCAST,RUNNING,SLAVE,MULTICAST&gt;  mtu 1500<br>        ether b4:96:91:26:48:d8  txqueuelen 1000  (Ethernet)<br>        RX packets 21667964  bytes 1655654418 (1.5 GiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 0  bytes 0 (0.0 B)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br>p7p2: flags=6211&lt;UP,BROADCAST,RUNNING,SLAVE,MULTICAST&gt;  mtu 1500<br>        ether b4:96:91:26:48:da  txqueuelen 1000  (Ethernet)<br>        RX packets 15305936  bytes 972546475 (927.4 MiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 1  bytes 42 (42.0 B)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><br><publishedDate>2018-11-27T02:15:43Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000OO78rQAD"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-11-27T01:51:10Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-11-27T01:51:10Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>답변이 다소 지연되어 죄송합니다.<br>패킷 드롭은 ifconfig 명령보다 ethtool -S 명령을 참조하시는 것이 옳바른 방법입니다.<br><br>$ egrep -i &quot;error|fail|drop|disc|bufs&quot; sos_commands/networking/ethtool_-S_*<br>sos_commands/networking/ethtool_-S_em1:     rx_fcs_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_align_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_frame_too_long_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_in_length_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_out_length_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     tx_mac_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     tx_carrier_sense_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     tx_discards: 0<br>sos_commands/networking/ethtool_-S_em1:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_discards: 0<br>sos_commands/networking/ethtool_-S_em1:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_fcs_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_align_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_frame_too_long_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_in_length_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_out_length_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     tx_mac_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     tx_carrier_sense_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     tx_discards: 0<br>sos_commands/networking/ethtool_-S_em2:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_discards: 0<br>sos_commands/networking/ethtool_-S_em2:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_fcs_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_align_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_frame_too_long_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_in_length_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_out_length_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     tx_mac_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     tx_carrier_sense_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     tx_discards: 0<br>sos_commands/networking/ethtool_-S_em3:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_discards: 0<br>sos_commands/networking/ethtool_-S_em3:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_fcs_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_align_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_frame_too_long_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_in_length_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_out_length_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     tx_mac_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     tx_carrier_sense_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     tx_discards: 0<br>sos_commands/networking/ethtool_-S_em4:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_discards: 0<br>sos_commands/networking/ethtool_-S_em4:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_dropped: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_dropped: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_over_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_crc_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_frame_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_missed_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_aborted_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_carrier_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     tx_heartbeat_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_long_length_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_short_length_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_csum_offload_errors: 0<br>sos_commands/networking/ethtool_-S_p2p1:     alloc_rx_page_failed: 0<br>sos_commands/networking/ethtool_-S_p2p1:     alloc_rx_buff_failed: 0<br>sos_commands/networking/ethtool_-S_p2p1:     rx_fcoe_dropped: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_dropped: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_dropped: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_over_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_crc_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_frame_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_missed_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_aborted_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_carrier_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     tx_heartbeat_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_long_length_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_short_length_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_csum_offload_errors: 0<br>sos_commands/networking/ethtool_-S_p2p2:     alloc_rx_page_failed: 0<br>sos_commands/networking/ethtool_-S_p2p2:     alloc_rx_buff_failed: 0<br>sos_commands/networking/ethtool_-S_p2p2:     rx_fcoe_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_over_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_crc_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_frame_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_missed_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_aborted_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_carrier_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     tx_heartbeat_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_long_length_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_short_length_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_csum_offload_errors: 0<br>sos_commands/networking/ethtool_-S_p7p1:     alloc_rx_page_failed: 0<br>sos_commands/networking/ethtool_-S_p7p1:     alloc_rx_buff_failed: 0<br>sos_commands/networking/ethtool_-S_p7p1:     rx_fcoe_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_dropped: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_over_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_crc_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_frame_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_missed_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_aborted_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_carrier_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_fifo_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     tx_heartbeat_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_long_length_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_short_length_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_csum_offload_errors: 0<br>sos_commands/networking/ethtool_-S_p7p2:     alloc_rx_page_failed: 0<br>sos_commands/networking/ethtool_-S_p7p2:     alloc_rx_buff_failed: 0<br>sos_commands/networking/ethtool_-S_p7p2:     rx_fcoe_dropped: 0<br><br>즉 올려주신 sosreport만 본다면 문제점을 발견할수는 없었습니다.<br>현재 시스템에서 ifconfig의 drop 값 증가와 함께 어떤 이슈가 발생하고 있나요? <br>확인해주시면 감사드리겠습니다.<br><br>또한 케이스 진행과정에 유선상으로 통화가 필요한 경우가 있으니 본 케이스 담당자분의 성함과 <br>연락처를 남겨주시면 감사드리겠습니다.<br><br>------------------------<br>참고로 네트워크 단에 이슈가 없다면, RHEL7 에서 RHEL 6과 다르게 ifconfig 명령에서 drop 카운트가 증가하는 것은 정상현상일 수 있습니다.<br>패킷 드롭은 ethtool 를 참조하시면 됩니다.<br><br>[참고자료]<br>ifconfig packet drops reported after upgrading to RHEL7 <br>https://access.redhat.com/solutions/2073223<br><br>감사합니다.<br><br><publishedDate>2018-11-27T01:51:10Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000ONskHQAT"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-11-26T08:01:40Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-11-26T08:01:40Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Technical Support Engineer 이성빈입니다.<br>올려주신 문의내용은 현재 자세히 살펴보고 있는중이며, 관련된 내용이 확인이 되는대로 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-11-26T08:01:40Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>bonding 디바이스에만 dropped가 존재<br>bond의 slave는 깨끗함<br>분당 1000 정도 증가<br>이런 현상이 발생합니다.<br><br>ethtool -S bond0  은 no status device  메세지가 나옵니다.<br>ethtool   로는 bond0 은 조회가 되지 않는지요?<br>ifconfig bond0 에서 dropped  는 정상인가요?</issue><cep>false</cep></case>