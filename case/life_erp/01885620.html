======================<br><b>생성계정 : 타임 게이트</b><br><b>생성날짜 : 2017-07-07T02:39:05Z</b><br><b>마지막 답변자 : Workflow Integration</b><br><b>마지막 수정 일자 : 2017-07-17T01:46:40Z</b><br><b>id : 500A000000XUX9iIAH</b><br>======================<br><br><b><font size=15>
제목  : The reason why connection reset occurred on app logs(connetction reset관련 tcpdump 분석 요청)
</font></b><br><br>======================<br><actionPlan>## Issue<br><br>SAP application running on server port 50000 receives a TCP Reset.<br><br>## Environment<br><br>RHEL 7.2 with 3.10.0-327.44.2.el7.x86_64<br><br>/lib/modules/3.10.0-327.44.2.el7.x86_64/weak-updates/hp-ixgbe/ixgbe.ko<br>/lib/modules/3.10.0-327.44.2.el7.x86_64/weak-updates/tg3/tg3.ko<br><br>TZ=&quot;Asia/Seoul&quot;<br><br>### Source<br><br>PPOSAL01SL - 100.254.143.141/24<br>PPOSAL02SL - 100.254.143.142/24<br><br>### Load Balancer<br><br>100.253.142.40:8080<br><br>### Destination - TCP port 50000<br><br>DQUOAL01SL - 100.253.142.41/24<br>DQUOAL02SL - 100.253.142.42/24<br><br>#### Traffic Pattern<br><br>Clients connect to LB which performs DNAT to real server IP<br><br>Client perspective:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.40:8080<br><br>Server perspective:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.4[12]:50000</actionPlan><b>사전문의<br></b><br>이전에 SR 진행 했었던 기술 문의 01855076 관련하여<br>추가 테스트를 진행하였습니다  connection reset을 날린 주체를 확인중에 있는데요 정보는 아래와 같습니다 해당 환경에서 reset 을 발생시간  주체 확인 분석 부탁드립니다<br>---------------------------------<br> 안녕하십니까? 금융시스템1그룹 장요한 입니다.<br> <br> 보험ERP Connection reset 관련 tcpdump 분석요청 드립니다.<br> <br> 1. 소스 정보<br> - AP01 : xxx.yyy.143.141<br> - AP02 : xxx.yyy.143.142<br> 2. 타겟 정보 (tcp port 정보 포함)<br> - AP01 : xxx.zzz.142.41:50000<br> - AP02 : xxx.zzz.142.42:50000<br> - L7 : xxx.zzz.142.40<br> 3. 발생 시간 : 아래 메일 참조<br> 4. 요청 사항 : reset 날린 주체 확인 필요<br> ---------------------------------------------<br> tcpdump, sosreport는 추가 업로드 또는 dropbox에 업로드후에 정보공유하도록 하겠습니다<br><br>감사합니다<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>삼성생명ERP</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>networking</name></tag><tag><name>packet_loss</name></tag><tag><name>pcap</name></tag><tag><name>tcp</name></tag></tags><br><comment id="a0aA000000JvKPlIAN"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-17T01:46:40Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-17T01:46:39Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스에 대하여 직접 close 처리해주셔서 정말 감사합니다!<br><br>케이스가 처리 완료되면 고객 설문조사 메일이 발송됩니다.<br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해,<br>소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-17T01:46:39Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JvKOxIAN"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-07-17T01:42:22Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-07-17T01:42:21Z</b><br><br>추가 문제 발생시 케이스 다시 오픈하도록 하겠씁니다.<br>감사합니다.<br><br><publishedDate>2017-07-17T01:42:21Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Ju000IAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-10T08:03:39Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-11T05:55:10Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스는 저희 네트워크 그룹의 전문 엔지니어인 Jamie 의 협력을 받아<br>함께 처리중입니다.<br><br>## 이슈<br><br>서버상에 어플리케이션(50000 포트)이 TCP Reset 을 받는다.<br><br>## 환경<br><br>RHEL 7.2 with 3.10.0-327.44.2.el7.x86_64<br><br>/lib/modules/3.10.0-327.44.2.el7.x86_64/weak-updates/hp-ixgbe/ixgbe.ko<br>/lib/modules/3.10.0-327.44.2.el7.x86_64/weak-updates/tg3/tg3.ko<br><br>TZ=&quot;Asia/Seoul&quot;<br><br>### 소스<br><br>PPOSAL01SL - 100.254.143.141/24<br>PPOSAL02SL - 100.254.143.142/24<br><br>### L7(로드 밸런스로 추정)<br><br>100.253.142.40:8080<br><br>### 목적지 - TCP port 50000<br><br>DQUOAL01SL - 100.253.142.41/24<br>DQUOAL02SL - 100.253.142.42/24<br><br>### 트래픽 패턴<br><br>클라이언트들이 L7(LB)에 접속하고 LB 는 리얼 서버 IP 로 DNAT 을 수행한다.<br><br>클라이언트 관점:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.40:8080<br>* 141 또는 142 를 말함, 이하 동일 표기<br><br>서버 관점:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.4[12]:50000<br><br>### 상세 조사<br><br>----<br><br>모든 패킷 캡쳐는 동일 시간대를 커버하고 있습니다: <br><br>File name:           source_PPOSAL01SL_tcpdump_log/20170707_1000_result0000<br>First packet time:   2017-07-07 10:20:15.346520<br>Last packet time:    2017-07-07 10:21:55.602405<br><br>File name:           source_PPOSAL01SL_tcpdump_log/20170707_1000_result0028<br>First packet time:   2017-07-07 10:27:15.394693<br>Last packet time:    2017-07-07 10:27:20.876054<br><br>----<br><br>File name:           source_PPOSAL02SL_tcpdump_log/20170707_1000_result0000<br>First packet time:   2017-07-07 10:21:25.734672<br>Last packet time:    2017-07-07 10:22:31.016725<br><br>File name:           source_PPOSAL02SL_tcpdump_log/20170707_1000_result0024<br>First packet time:   2017-07-07 10:26:56.318804<br>Last packet time:    2017-07-07 10:27:04.080942<br><br>----<br><br>File name:           target_DQUOAL01SL_tcpdump_log/20170707_1000_result0000<br>First packet time:   2017-07-07 10:20:15.376353<br>Last packet time:    2017-07-07 10:22:19.506521<br><br>File name:           target_DQUOAL01SL_tcpdump_log/20170707_1000_result0071<br>First packet time:   2017-07-07 10:26:45.683015<br>Last packet time:    2017-07-07 10:26:47.684680<br><br>----<br><br>File name:           target_DQUOAL02SL_tcpdump_log/20170707_1000_result0000<br>First packet time:   2017-07-07 10:20:15.379038<br>Last packet time:    2017-07-07 10:22:24.487229<br><br>File name:           target_DQUOAL02SL_tcpdump_log/20170707_1000_result0063<br>First packet time:   2017-07-07 10:26:21.579611<br>Last packet time:    2017-07-07 10:26:22.859741<br><br>----<br><br>서버가 수신한 클라이언트로부터의 RST 의 패킷들:<br><br> $ for FILE in *tcpdump*/*; do echo &quot;==== $FILE ====&quot;; TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;$FILE&quot; &quot;(tcp.port == 50000) &amp;&amp; (ip.addr == 100.254.143.141 || ip.addr == 100.254.143.142) &amp;&amp; (ip.addr == 100.253.142.41 || ip.addr == 100.253.142.241 || ip.addr == 100.253.142.42 || ip.addr == 100.253.142.242) &amp;&amp; (tcp.flags.reset == 1)&quot;; done | egrep --no-group-separator -B1 RST<br><br>==== target_DQUOAL01SL_tcpdump_log/20170707_1000_result0029 ====<br>17926 10:24:26.950845 100.254.143.142 → 100.253.142.41 TCP 60 57054 → 50000 [RST] Seq=4853 Win=9700 Len=0<br>==== target_DQUOAL01SL_tcpdump_log/20170707_1000_result0069 ====<br>21332 10:26:41.022164 100.254.143.141 → 100.253.142.41 TCP 60 25428 → 50000 [RST] Seq=9557 Win=9700 Len=0<br><br>==== target_DQUOAL02SL_tcpdump_log/20170707_1000_result0006 ====<br> 5154 10:23:02.945858 100.254.143.142 → 100.253.142.42 TCP 60 52327 → 50000 [RST] Seq=4853 Win=9700 Len=0<br>==== target_DQUOAL02SL_tcpdump_log/20170707_1000_result0023 ====<br>26353 10:24:09.848931 100.254.143.141 → 100.253.142.42 TCP 60 62703 → 50000 [RST] Seq=4853 Win=9700 Len=0<br>==== target_DQUOAL02SL_tcpdump_log/20170707_1000_result0034 ====<br>18743 10:24:50.394000 100.254.143.142 → 100.253.142.42 TCP 60 57942 → 50000 [RST] Seq=4853 Win=9700 Len=0<br><br>----<br><br>서버 관점으로부터의 첫번째 스트림:<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;target_DQUOAL01SL_tcpdump_log/20170707_1000_result0029&quot; &quot;tcp.port == 57054&quot;<br>17911 10:24:26.948996 100.254.143.142 → 100.253.142.41 TCP 60 57054 → 50000 [SYN] Seq=0 Win=8190 Len=0 MSS=1460<br>17912 10:24:26.949031 100.253.142.41 → 100.254.143.142 TCP 58 50000 → 57054 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460<br>17913 10:24:26.949082 100.254.143.142 → 100.253.142.41 TCP 91 57054 → 50000 [PSH, ACK] Seq=1 Ack=1 Win=29200 Len=37<br>17914 10:24:26.949111 100.253.142.41 → 100.254.143.142 TCP 54 50000 → 57054 [ACK] Seq=1 Ack=38 Win=29200 Len=0<br>17915 10:24:26.949123 100.254.143.142 → 100.253.142.41 TCP 489 57054 → 50000 [PSH, ACK] Seq=38 Ack=1 Win=29200 Len=435<br>17916 10:24:26.949129 100.253.142.41 → 100.254.143.142 TCP 54 50000 → 57054 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br>17917 10:24:26.949136 100.254.143.142 → 100.253.142.41 TCP 4434 57054 → 50000 [ACK] Seq=473 Ack=1 Win=29200 Len=4380<br>17918 10:24:26.949142 100.253.142.41 → 100.254.143.142 TCP 54 50000 → 57054 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>17926 10:24:26.950845 100.254.143.142 → 100.253.142.41 TCP 60 57054 → 50000 [RST] Seq=4853 Win=9700 Len=0<br><br>이는 클라이언트 관점의 다음 스트림에 부합:<br><br>File name:           source_PPOSAL02SL_tcpdump_log/20170707_1000_result0010<br>First packet time:   2017-07-07 10:24:26.349906<br>Last packet time:    2017-07-07 10:24:39.013766<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr source_PPOSAL02SL_tcpdump_log/20170707_1000_result0010 &quot;tcp.port == 57054&quot;<br> 2275 10:24:26.945474 100.254.143.142 → 100.253.142.40 TCP 74 57054 → 8080 [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=2998393323 TSecr=0 WS=128<br> 2282 10:24:26.946814 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [SYN, ACK] Seq=0 Ack=1 Win=8190 Len=0 MSS=1460<br> 2283 10:24:26.946822 100.254.143.142 → 100.253.142.40 TCP 54 57054 → 8080 [ACK] Seq=1 Ack=1 Win=29200 Len=0<br> 2284 10:24:26.946873 100.254.143.142 → 100.253.142.40 TCP 91 [TCP segment of a reassembled PDU]<br> 2286 10:24:26.947274 100.254.143.142 → 100.253.142.40 TCP 489 [TCP segment of a reassembled PDU]<br> 2287 10:24:26.947289 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br> 2288 10:24:26.947294 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br> 2289 10:24:26.948120 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [ACK] Seq=1 Ack=38 Win=27703 Len=0<br> 2290 10:24:26.948128 100.254.143.142 → 100.253.142.40 HTTP/XML 2430 POST /quo/cbo/F1PQL0001.ws HTTP/1.0 <br> 2291 10:24:26.948230 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [ACK] Seq=1 Ack=473 Win=27268 Len=0<br> 2292 10:24:26.948235 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [ACK] Seq=1 Ack=3393 Win=24348 Len=0<br> 2293 10:24:26.948430 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Window Update] 8080 → 57054 [ACK] Seq=1 Ack=3393 Win=30016 Len=0<br> 2294 10:24:26.948434 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br> 2295 10:24:26.948778 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [RST] Seq=1 Win=8201 Len=0<br> 2296 10:24:26.948857 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57054 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br> 2297 10:24:26.948866 100.254.143.142 → 100.253.142.40 TCP 54 57054 → 8080 [RST] Seq=4853 Win=0 Len=0<br> 2298 10:24:26.948959 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Dup ACK 2296#1] 8080 → 57054 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br> 2299 10:24:26.948963 100.254.143.142 → 100.253.142.40 TCP 54 57054 → 8080 [RST] Seq=4853 Win=0 Len=0<br><br>클라이언트는 8689 의 ACK 를 기대하면서 data 를 보내지만, 서버측 관점에서는 L7(LB) 가 포워드한 바이트에 해당하는 4853 을 ACK 합니다.<br>그다음에 L7 은 양단에 RST 를 보내면서 스트림을 끝냅니다.<br><br>따라서, 해당 스트림의 문제는 L7(LB)가 데이터를 포워딩하지 않은 것입니다.<br><br>----<br><br>저희는 현재 여기서 트래픽 flow 를 이해할 수 있습니다. 클라이언트는 L7(LB) 100.253.142.40:8080 에 연결합니다. 그 후, L7(LB) 는 DNAT 처리를 하고<br>실제 서버인 100.253.142.4[12]:50000 로 연결합니다. 클라이언트 소스 IP 와 소스 포트는 서버의 관점에서 유지되어 있는 것입니다.<br><br>클라이언트 관점:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.40:8080<br><br>서버 관점:<br>100.254.143.14[12]:xxxxx ---&gt; 100.253.142.4[12]:50000<br><br>TCP Reset 을 가진 클라이언트 스트림을 보면 너무 많은 결과가 보여지고 있습니다. <br>그것은 RST 가 해당 L7(LB) 에 의해 굉장히 많이 사용되고 있다는 것을 보여줍니다.<br><br> $ for FILE in source*/*; do echo &quot;==== $FILE ====&quot;; TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;$FILE&quot; &quot;(tcp.port == 8080) &amp;&amp; (ip.addr == 100.254.143.141 || ip.addr == 100.254.143.142) &amp;&amp; (ip.addr == 100.253.142.40) &amp;&amp; (tcp.flags.reset == 1)&quot;; done | egrep --no-group-separator -B1 RST<br><br>따라서, 저희는 서버로부터 소스 포트 넘버를 찾아보는 것이 좋을 것입니다. 그것은 저희가 상기에 설명한바와 같이 결과를 잘 보여줍니다.<br><br>RST 를 가진 다른 스트림들:<br><br>----<br><br>Server:<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;target_DQUOAL01SL_tcpdump_log/20170707_1000_result0069&quot; &quot;tcp.port == 25428&quot;<br>21300 10:26:41.018973 100.254.143.141 → 100.253.142.41 TCP 60 25428 → 50000 [SYN] Seq=0 Win=8190 Len=0 MSS=1460<br>21301 10:26:41.019000 100.253.142.41 → 100.254.143.141 TCP 58 50000 → 25428 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460<br>21302 10:26:41.019042 100.254.143.141 → 100.253.142.41 TCP 91 25428 → 50000 [PSH, ACK] Seq=1 Ack=1 Win=29200 Len=37<br>21303 10:26:41.019061 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=38 Win=29200 Len=0<br>21304 10:26:41.019067 100.254.143.141 → 100.253.142.41 TCP 489 25428 → 50000 [PSH, ACK] Seq=38 Ack=1 Win=29200 Len=435<br>21305 10:26:41.019071 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br>21306 10:26:41.019082 100.254.143.141 → 100.253.142.41 TCP 2974 25428 → 50000 [ACK] Seq=473 Ack=1 Win=29200 Len=2920<br>21307 10:26:41.019087 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=3393 Win=35040 Len=0<br>21308 10:26:41.019088 100.254.143.141 → 100.253.142.41 TCP 60 [TCP Keep-Alive] 25428 → 50000 [ACK] Seq=3392 Ack=1 Win=29200 Len=0<br>21309 10:26:41.019090 100.253.142.41 → 100.254.143.141 TCP 54 [TCP Keep-Alive ACK] 50000 → 25428 [ACK] Seq=1 Ack=3393 Win=35040 Len=0<br>21310 10:26:41.019091 100.254.143.141 → 100.253.142.41 TCP 1514 25428 → 50000 [ACK] Seq=3393 Ack=1 Win=29200 Len=1460<br>21311 10:26:41.019093 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>21312 10:26:41.019095 100.254.143.141 → 100.253.142.41 TCP 60 [TCP Keep-Alive] 25428 → 50000 [ACK] Seq=4852 Ack=1 Win=29200 Len=0<br>21317 10:26:41.020699 100.254.143.141 → 100.253.142.41 TCP 1514 25428 → 50000 [PSH, ACK] Seq=4853 Ack=1 Win=29200 Len=1460<br>21318 10:26:41.020703 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=6313 Win=40880 Len=0<br>21319 10:26:41.020708 100.254.143.141 → 100.253.142.41 TCP 1932 25428 → 50000 [ACK] Seq=6313 Ack=1 Win=29200 Len=1878<br>21320 10:26:41.020710 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=8191 Win=45260 Len=0<br>21321 10:26:41.020712 100.254.143.141 → 100.253.142.41 TCP 1420 25428 → 50000 [PSH, ACK] Seq=8191 Ack=1 Win=29200 Len=1366<br>21322 10:26:41.020719 100.253.142.41 → 100.254.143.141 TCP 54 50000 → 25428 [ACK] Seq=1 Ack=9557 Win=48180 Len=0<br>21323 10:26:41.020721 100.254.143.141 → 100.253.142.41 TCP 60 [TCP Keep-Alive] 25428 → 50000 [ACK] Seq=9556 Ack=1 Win=29200 Len=0<br>21332 10:26:41.022164 100.254.143.141 → 100.253.142.41 TCP 60 25428 → 50000 [RST] Seq=9557 Win=9700 Len=0<br><br>Client:<br><br>File name:           source_PPOSAL01SL_tcpdump_log/20170707_1000_result0024<br>First packet time:   2017-07-07 10:26:32.211706<br>Last packet time:    2017-07-07 10:26:42.726790<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr source_PPOSAL01SL_tcpdump_log/20170707_1000_result0024 &quot;tcp.port == 25428&quot;<br>33368 10:26:41.015142 100.254.143.141 → 100.253.142.40 TCP 74 25428 → 8080 [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=2998527700 TSecr=0 WS=128<br>33369 10:26:41.016695 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [SYN, ACK] Seq=0 Ack=1 Win=8190 Len=0 MSS=1460<br>33370 10:26:41.016706 100.254.143.141 → 100.253.142.40 TCP 54 25428 → 8080 [ACK] Seq=1 Ack=1 Win=29200 Len=0<br>33371 10:26:41.016779 100.254.143.141 → 100.253.142.40 TCP 91 [TCP segment of a reassembled PDU]<br>33372 10:26:41.017243 100.254.143.141 → 100.253.142.40 TCP 489 [TCP segment of a reassembled PDU]<br>33373 10:26:41.017259 100.254.143.141 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>33374 10:26:41.017272 100.254.143.141 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>33375 10:26:41.017280 100.254.143.141 → 100.253.142.40 TCP 1932 [TCP Window Full] [TCP segment of a reassembled PDU]<br>33376 10:26:41.018247 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [ACK] Seq=1 Ack=38 Win=27703 Len=0<br>33377 10:26:41.018255 100.254.143.141 → 100.253.142.40 HTTP/XML 1420 POST /quo/cbo/F1PQL0001.ws HTTP/1.0 <br>33378 10:26:41.018260 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [ACK] Seq=1 Ack=473 Win=27268 Len=0<br>33379 10:26:41.018440 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Window Update] 8080 → 25428 [ACK] Seq=1 Ack=473 Win=29200 Len=0<br>33380 10:26:41.018443 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Window Update] 8080 → 25428 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br>33381 10:26:41.018445 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [ACK] Seq=1 Ack=3393 Win=35040 Len=0<br>33382 10:26:41.018446 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>33383 10:26:41.018448 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Dup ACK 33382#1] 8080 → 25428 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>33384 10:26:41.018451 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Dup ACK 33382#2] 8080 → 25428 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>33385 10:26:41.019077 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Dup ACK 33382#3] 8080 → 25428 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>33386 10:26:41.019082 100.254.143.141 → 100.253.142.40 TCP 1514 [TCP Fast Retransmission] 25428 → 8080 [PSH, ACK] Seq=4853 Ack=1 Win=29200 Len=1460[Reassembly error, protocol TCP: New fragment overlaps old data (retransmission?)]<br>33387 10:26:41.019154 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [RST] Seq=1 Win=8201 Len=0<br>33388 10:26:41.020125 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 25428 [ACK] Seq=1 Ack=9557 Win=37960 Len=0<br>33389 10:26:41.020141 100.254.143.141 → 100.253.142.40 TCP 54 25428 → 8080 [RST] Seq=9557 Win=0 Len=0<br><br>Client expects ACK 9557. Server receives data and ACKs 9557, however the Load Balancer asks for a Fast Retransmit and then closes the client session with a RST (33387) before sending on the final ACK (33388).<br><br>----<br><br>Server:<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;target_DQUOAL02SL_tcpdump_log/20170707_1000_result0006&quot; &quot;tcp.port == 52327&quot;<br> 5138 10:23:02.943545 100.254.143.142 → 100.253.142.42 TCP 60 52327 → 50000 [SYN] Seq=0 Win=8190 Len=0 MSS=1460<br> 5139 10:23:02.943566 100.253.142.42 → 100.254.143.142 TCP 58 50000 → 52327 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460<br> 5140 10:23:02.943612 100.254.143.142 → 100.253.142.42 TCP 91 52327 → 50000 [PSH, ACK] Seq=1 Ack=1 Win=29200 Len=37<br> 5142 10:23:02.943640 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 52327 [ACK] Seq=1 Ack=38 Win=29200 Len=0<br> 5144 10:23:02.943650 100.254.143.142 → 100.253.142.42 TCP 489 52327 → 50000 [PSH, ACK] Seq=38 Ack=1 Win=29200 Len=435<br> 5145 10:23:02.943655 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 52327 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br> 5146 10:23:02.943662 100.254.143.142 → 100.253.142.42 TCP 4434 52327 → 50000 [ACK] Seq=473 Ack=1 Win=29200 Len=4380<br> 5147 10:23:02.943668 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 52327 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br> 5154 10:23:02.945858 100.254.143.142 → 100.253.142.42 TCP 60 52327 → 50000 [RST] Seq=4853 Win=9700 Len=0<br><br>Client:<br><br>File name:           source_PPOSAL02SL_tcpdump_log/20170707_1000_result0002<br>First packet time:   2017-07-07 10:22:55.531050<br>Last packet time:    2017-07-07 10:23:09.018430<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr source_PPOSAL02SL_tcpdump_log/20170707_1000_result0002 &quot;tcp.port == 52327&quot;<br>26621 10:23:02.939432 100.254.143.142 → 100.253.142.40 TCP 74 52327 → 8080 [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=2998309317 TSecr=0 WS=128<br>26624 10:23:02.941477 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [SYN, ACK] Seq=0 Ack=1 Win=8190 Len=0 MSS=1460<br>26625 10:23:02.941488 100.254.143.142 → 100.253.142.40 TCP 54 52327 → 8080 [ACK] Seq=1 Ack=1 Win=29200 Len=0<br>26626 10:23:02.941540 100.254.143.142 → 100.253.142.40 TCP 91 [TCP segment of a reassembled PDU]<br>26627 10:23:02.941924 100.254.143.142 → 100.253.142.40 TCP 489 [TCP segment of a reassembled PDU]<br>26628 10:23:02.941942 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>26629 10:23:02.941951 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>26637 10:23:02.942994 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [ACK] Seq=1 Ack=38 Win=27703 Len=0<br>26638 10:23:02.943001 100.254.143.142 → 100.253.142.40 HTTP/XML 2430 POST /quo/cbo/F1PQL0001.ws HTTP/1.0 <br>26639 10:23:02.943007 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [ACK] Seq=1 Ack=473 Win=27268 Len=0<br>26640 10:23:02.943008 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [ACK] Seq=1 Ack=3393 Win=24348 Len=0<br>26641 10:23:02.943270 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Window Update] 8080 → 52327 [ACK] Seq=1 Ack=3393 Win=30016 Len=0<br>26642 10:23:02.943274 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>26643 10:23:02.943444 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [RST] Seq=1 Win=8201 Len=0<br>26651 10:23:02.943921 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 52327 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>26652 10:23:02.943930 100.254.143.142 → 100.253.142.40 TCP 54 52327 → 8080 [RST] Seq=4853 Win=0 Len=0<br>26653 10:23:02.943936 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Dup ACK 26651#1] 8080 → 52327 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>26654 10:23:02.943940 100.254.143.142 → 100.253.142.40 TCP 54 52327 → 8080 [RST] Seq=4853 Win=0 Len=0<br><br>Client expects ACK 8689. Server only receives enough data to ACK 4853.<br><br>----<br><br>Server:<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;target_DQUOAL02SL_tcpdump_log/20170707_1000_result0023&quot; &quot;tcp.port == 62703&quot;<br>26341 10:24:09.847222 100.254.143.141 → 100.253.142.42 TCP 60 62703 → 50000 [SYN] Seq=0 Win=8190 Len=0 MSS=1460<br>26342 10:24:09.847242 100.253.142.42 → 100.254.143.141 TCP 58 50000 → 62703 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460<br>26343 10:24:09.847325 100.254.143.141 → 100.253.142.42 TCP 91 62703 → 50000 [PSH, ACK] Seq=1 Ack=1 Win=29200 Len=37<br>26344 10:24:09.847344 100.253.142.42 → 100.254.143.141 TCP 54 50000 → 62703 [ACK] Seq=1 Ack=38 Win=29200 Len=0<br>26345 10:24:09.847351 100.254.143.141 → 100.253.142.42 TCP 489 62703 → 50000 [PSH, ACK] Seq=38 Ack=1 Win=29200 Len=435<br>26346 10:24:09.847354 100.253.142.42 → 100.254.143.141 TCP 54 50000 → 62703 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br>26347 10:24:09.847358 100.254.143.141 → 100.253.142.42 TCP 4434 62703 → 50000 [ACK] Seq=473 Ack=1 Win=29200 Len=4380<br>26348 10:24:09.847362 100.253.142.42 → 100.254.143.141 TCP 54 50000 → 62703 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>26353 10:24:09.848931 100.254.143.141 → 100.253.142.42 TCP 60 62703 → 50000 [RST] Seq=4853 Win=9700 Len=0<br><br>Client:<br><br>File name:           source_PPOSAL01SL_tcpdump_log/20170707_1000_result0010<br>First packet time:   2017-07-07 10:24:09.528324<br>Last packet time:    2017-07-07 10:24:18.678968<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr source_PPOSAL01SL_tcpdump_log/20170707_1000_result0010 &quot;tcp.port == 62703&quot;<br>  908 10:24:09.843329 100.254.143.141 → 100.253.142.40 TCP 74 62703 → 8080 [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=2998376529 TSecr=0 WS=128<br>  909 10:24:09.845071 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [SYN, ACK] Seq=0 Ack=1 Win=8190 Len=0 MSS=1460<br>  910 10:24:09.845082 100.254.143.141 → 100.253.142.40 TCP 54 62703 → 8080 [ACK] Seq=1 Ack=1 Win=29200 Len=0<br>  911 10:24:09.845133 100.254.143.141 → 100.253.142.40 TCP 91 [TCP segment of a reassembled PDU]<br>  912 10:24:09.845541 100.254.143.141 → 100.253.142.40 TCP 489 [TCP segment of a reassembled PDU]<br>  913 10:24:09.845562 100.254.143.141 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>  914 10:24:09.845571 100.254.143.141 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>  935 10:24:09.846637 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [ACK] Seq=1 Ack=38 Win=27703 Len=0<br>  936 10:24:09.846645 100.254.143.141 → 100.253.142.40 HTTP/XML 2430 POST /quo/cbo/F1PQL0001.ws HTTP/1.0 <br>  937 10:24:09.846650 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [ACK] Seq=1 Ack=473 Win=27268 Len=0<br>  938 10:24:09.846652 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [ACK] Seq=1 Ack=3393 Win=24348 Len=0<br>  939 10:24:09.846782 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [RST] Seq=1 Win=8201 Len=0<br>  940 10:24:09.846872 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [ACK] Seq=1 Ack=3393 Win=30016 Len=0<br>  941 10:24:09.846882 100.254.143.141 → 100.253.142.40 TCP 54 62703 → 8080 [RST] Seq=3393 Win=0 Len=0<br>  942 10:24:09.846888 100.253.142.40 → 100.254.143.141 TCP 60 8080 → 62703 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>  943 10:24:09.846892 100.254.143.141 → 100.253.142.40 TCP 54 62703 → 8080 [RST] Seq=4853 Win=0 Len=0<br>  968 10:24:09.847617 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Dup ACK 942#1] 8080 → 62703 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>  969 10:24:09.847624 100.254.143.141 → 100.253.142.40 TCP 54 62703 → 8080 [RST] Seq=4853 Win=0 Len=0<br>  976 10:24:09.847673 100.253.142.40 → 100.254.143.141 TCP 60 [TCP Dup ACK 942#2] 8080 → 62703 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>  977 10:24:09.847679 100.254.143.141 → 100.253.142.40 TCP 54 62703 → 8080 [RST] Seq=4853 Win=0 Len=0<br><br>Client expects ACK 8689. Server only receives enough data to ACK 4853.<br><br>----<br><br>Server:<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr &quot;target_DQUOAL02SL_tcpdump_log/20170707_1000_result0034&quot; &quot;tcp.port == 57942&quot;<br>18734 10:24:50.392415 100.254.143.142 → 100.253.142.42 TCP 60 57942 → 50000 [SYN] Seq=0 Win=8190 Len=0 MSS=1460<br>18735 10:24:50.392444 100.253.142.42 → 100.254.143.142 TCP 58 50000 → 57942 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460<br>18736 10:24:50.392498 100.254.143.142 → 100.253.142.42 TCP 91 57942 → 50000 [PSH, ACK] Seq=1 Ack=1 Win=29200 Len=37<br>18737 10:24:50.392520 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 57942 [ACK] Seq=1 Ack=38 Win=29200 Len=0<br>18738 10:24:50.392526 100.254.143.142 → 100.253.142.42 TCP 489 57942 → 50000 [PSH, ACK] Seq=38 Ack=1 Win=29200 Len=435<br>18739 10:24:50.392530 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 57942 [ACK] Seq=1 Ack=473 Win=30016 Len=0<br>18740 10:24:50.392535 100.254.143.142 → 100.253.142.42 TCP 4434 57942 → 50000 [ACK] Seq=473 Ack=1 Win=29200 Len=4380<br>18741 10:24:50.392538 100.253.142.42 → 100.254.143.142 TCP 54 50000 → 57942 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>18743 10:24:50.394000 100.254.143.142 → 100.253.142.42 TCP 60 57942 → 50000 [RST] Seq=4853 Win=9700 Len=0<br><br>Client:<br><br>File name:           source_PPOSAL02SL_tcpdump_log/20170707_1000_result0011<br>First packet time:   2017-07-07 10:24:39.013872<br>Last packet time:    2017-07-07 10:24:52.457810<br><br> $ TZ=&quot;Asia/Seoul&quot; tshark -ta -nr source_PPOSAL02SL_tcpdump_log/20170707_1000_result0011 &quot;tcp.port == 57942&quot;<br>42536 10:24:50.389052 100.254.143.142 → 100.253.142.40 TCP 74 57942 → 8080 [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=2998416767 TSecr=0 WS=128<br>42539 10:24:50.390257 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [SYN, ACK] Seq=0 Ack=1 Win=8190 Len=0 MSS=1460<br>42540 10:24:50.390273 100.254.143.142 → 100.253.142.40 TCP 54 57942 → 8080 [ACK] Seq=1 Ack=1 Win=29200 Len=0<br>42541 10:24:50.390323 100.254.143.142 → 100.253.142.40 TCP 91 [TCP segment of a reassembled PDU]<br>42542 10:24:50.390743 100.254.143.142 → 100.253.142.40 TCP 489 [TCP segment of a reassembled PDU]<br>42543 10:24:50.390759 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>42544 10:24:50.390765 100.254.143.142 → 100.253.142.40 TCP 2974 [TCP segment of a reassembled PDU]<br>42545 10:24:50.390771 100.254.143.142 → 100.253.142.40 TCP 1932 [TCP Window Full] [TCP segment of a reassembled PDU]<br>42547 10:24:50.391725 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [ACK] Seq=1 Ack=38 Win=27703 Len=0<br>42548 10:24:50.391733 100.254.143.142 → 100.253.142.40 HTTP/XML 1418 POST /quo/cbo/F1PQL0001.ws HTTP/1.0 <br>42549 10:24:50.391847 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [ACK] Seq=1 Ack=473 Win=27268 Len=0<br>42550 10:24:50.391852 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [ACK] Seq=1 Ack=3393 Win=24348 Len=0<br>42551 10:24:50.391854 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [ACK] Seq=1 Ack=4853 Win=22888 Len=0<br>42552 10:24:50.391855 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Dup ACK 42551#1] 8080 → 57942 [ACK] Seq=1 Ack=4853 Win=22888 Len=0<br>42553 10:24:50.391857 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Dup ACK 42551#2] 8080 → 57942 [ACK] Seq=1 Ack=4853 Win=22888 Len=0<br>42554 10:24:50.391968 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [RST] Seq=1 Win=8201 Len=0<br>42555 10:24:50.392113 100.253.142.40 → 100.254.143.142 TCP 60 8080 → 57942 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>42556 10:24:50.392120 100.254.143.142 → 100.253.142.40 TCP 54 57942 → 8080 [RST] Seq=4853 Win=0 Len=0<br>42557 10:24:50.392564 100.253.142.40 → 100.254.143.142 TCP 60 [TCP Dup ACK 42555#1] 8080 → 57942 [ACK] Seq=1 Ack=4853 Win=37960 Len=0<br>42558 10:24:50.392568 100.254.143.142 → 100.253.142.40 TCP 54 57942 → 8080 [RST] Seq=4853 Win=0 Len=0<br><br>Client expects ACK 9555, server only receives enough data to ACK 4853.<br><br>----<br><br>결국 이 모든 것들은 L7(LB) 과 관련된 이슈를 나타냅니다.<br>따라서, 해당 장치와 관련된 기술 지원을 통해 트러블 슈팅을 해보시기 바랍니다.<br><br>감사합니다.<br><br>Jaewook &amp; Jamie<br><br><publishedDate>2017-07-10T08:03:39Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JuDuIIAV"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-07-11T02:29:06Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-07-11T02:29:05Z</b><br><br>서버 위에 L2가 있고 그 위에 L7 이 있는 일반적인 형태입니다 연락 부탁드립니다<br><br><publishedDate>2017-07-11T02:29:05Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Jtz0yIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-10T06:27:20Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-10T06:30:04Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>유선상으로 말씀나눈바와 같이<br>2번째 패킷덤프(PPOSAL02SL, DQUOAL02SL호스트)에서도 유용한 정보가 있는지 확인한 후 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-10T06:27:20Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JtyTbIAJ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-10T05:15:28Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-10T06:25:45Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>첨부 gif 의 메세지와 관련해서 다음 내용은 혹시 보셨나요?<br><br>Failed to call the endpoint: HTTP 0 null:<br>https://archive.sap.com/discussions/message/186575#186575<br><br>해당 메세지에 대해 SAP 페이지에 있는 내용입니다만, 파이어월 수정을 통해<br>해결한 것으로 언급하고 있습니다.<br><br>기타 메세지도 다음과 같이 확인이 되는데요,<br><br>SOAP: call failed: java.net.SocketException: Connection reset by peer:<br>https://archive.sap.com/discussions/thread/3344952<br><br>이러한 메세지들에 대한 내용을 SAP 에 확인 및 문의해 보셨나요?<br>기타 에러 메세지들도 어플리케이션 측에서 받은 조사결과 및 정보가 있으시면 연계 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-10T05:15:28Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JtxgPIAR"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-07-10T02:40:31Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-07-10T02:40:31Z</b><br><br>답변 감사합니다<br><br>분석에 도움이 되실꺼 같아서 이미지 파일 첨부드립니다<br><br>소스와  타겟을 기준으로 해당 시점에 RST  패킷 발생하면서 어플리케이션에 영향을 주는 상황입니다<br><br>tcpdump를  분석하여 해당 시점에 RST패킷을 어느곳에서 보냈는지 그 주체를 찾는것이 목적입니다<br><br>이전에 열었던 케이스 01885620,  케이스  01855076 의 건으로 추가 테스트 진행된 상황입니다<br><br>추가로 필요하신 부분 있으시면 언제든지 연락( 010-4630-3171 )  부탁드립니다<br><br>감사합니다<br><br><publishedDate>2017-07-10T02:40:31Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JtxeiIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-10T02:36:30Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-10T02:36:30Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>올려주신 gif 는 어플리케이션 로그로 보이는데요,<br>상황 설명 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-10T02:36:30Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jtn29IAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-07T15:16:02Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-07T15:16:02Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>현재 1번 대 호스트들의 패킷만 우선적으로 확인해보았는데요, <br><br>~~~<br>* 소스 패킷<br><br>33387 2017-07-07 10:26:41 100.253.142.40 -&gt; 100.254.143.141 TCP 60 8080 &gt; 25428 [RST] Seq=1 Win=8201 Len=0<br>33389 2017-07-07 10:26:41 100.254.143.141 -&gt; 100.253.142.40 TCP 54 25428 &gt; 8080 [RST] Seq=9557 Win=0 Len=0<br><br>* 타겟 패킷<br><br>21332 2017-07-07 10:26:41 100.254.143.141 -&gt; 100.253.142.41 TCP 60 25428 &gt; 50000 [RST] Seq=9557 Win=9700 Len=0<br>~~~<br><br>2017년 7월 7일 10:26:41 경 말씀하신 L7(xxx.zzz.142.40)의 8080 포트 서비스에서 먼저 RST 패킷을 소스 쪽으로 보낸 것으로 보입니다.<br>이와 관련해서 짐작 가는 부분이 있으신지요?<br><br>감사합니다.<br><br><publishedDate>2017-07-07T15:16:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JtgwXIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-07T06:42:10Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-07T06:42:10Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>문의하신 내용을 보면 다음과 같은 기술이 있습니다만,<br>---------------------------------<br> 안녕하십니까? 금융시스템1그룹 장요한 입니다.<br> <br> 보험ERP Connection reset 관련 tcpdump 분석요청 드립니다.<br> <br> 1. 소스 정보<br> - AP01 : xxx.yyy.143.141<br> - AP02 : xxx.yyy.143.142<br> 2. 타겟 정보 (tcp port 정보 포함)<br> - AP01 : xxx.zzz.142.41:50000<br> - AP02 : xxx.zzz.142.42:50000<br> - L7 : xxx.zzz.142.40<br> 3. 발생 시간 : 아래 메일 참조<br> 4. 요청 사항 : reset 날린 주체 확인 필요<br> ---------------------------------------------<br><br>정확히 어떤 소스에서 어떤 타겟으로 패킷을 전송시에 rst 이 발생한 것인가요?<br>확인 바랍니다.<br><br>네트워크 토폴로지가 있으시면 해당 파일을 올려주시면 좋습니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-07T06:42:10Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JtgsYIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-07-07T06:37:51Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-07-07T06:37:51Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>저는 신재욱이라고 하며 앞으로 이 케이스를 담당하게 되었습니다.<br><br>현재 이 케이스의 내용을 살펴보는 중이며, 정리되는대로 업데이트 하도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-07-07T06:37:51Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JtfVMIAZ"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-07-07T02:42:35Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-07-07T02:42:35Z</b><br><br>dropbox 사이트에 아래 파일 올렸습니다.<br><br>확인 부탁드립니다<br><br>감사합니다<br> <br> sosreport-DQUOAL01SL-20170707103017.tar.xz<br> sosreport-DQUOAL02SL-20170707103017.tar.xz<br> sosreport-PPOSAL01SL-20170707103017.tar.xz<br> sosreport-PPOSAL02SL-20170707103017.tar.xz<br> source_PPOSAL01SL_tcpdump_log.zip<br> source_PPOSAL02SL_tcpdump_log.zip<br> target_DQUOAL01SL_tcpdump_log.zip<br> target_DQUOAL02SL_tcpdump_log.zip<br><br><publishedDate>2017-07-07T02:42:35Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>