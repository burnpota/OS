======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-03-26T02:36:52Z</b><br><b>마지막 답변자 : Jake Jaewook Shin</b><br><b>마지막 수정 일자 : 2018-03-29T00:40:59Z</b><br><b>id : 500A000000a9YrjIAE</b><br>======================<br><br><b><font size=15>
제목  : rootfs 파일시스템 마운트 포인트 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>서버의 마운트 포인트 관련해서 문의를 드리려고 합니다.<br><br>서버에 rootfs로 / 파일시스템이 보이기는 2개 마운트 되어있는 것 처럼 보여서 문의드립니다.<br><br>root@tiashl01sl /root # df -PH<br>Filesystem                     Size  Used Avail Use% Mounted on<br>rootfs                         212G   22G  180G  11% /<br>devtmpfs                       271G  185k  271G   1% /dev<br>tmpfs                          271G   13k  271G   1% /dev/shm<br>/dev/sda1                      212G   22G  180G  11% /<br>/dev/mapper/vgHANA-lv_log      551G  2.4G  549G   1% /hana/log<br>/dev/mapper/vgHANA-lv_data     1.8T   41G  1.7T   3% /hana/data<br>/dev/mapper/vgHANA-lv_shared   1.7T  118G  1.6T   8% /hana/shared<br>/dev/mapper/vgHANA-lv_usr_sap   48G  424M   45G   1% /usr/sap<br>/dev/mapper/vgHANA-lv_egmon     33G   11G   22G  34% /APP<br><br>root@tiashl01sl /root # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 6.7 (Santiago)<br><br>root@tiashl01sl /root # uname -a<br>Linux tiashl01sl 2.6.32-573.42.1.el6.x86_64 #1 SMP Wed Apr 12 11:20:33 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br><br>root@tiashl01sl /root # cat /proc/cmdline<br>root=/dev/sda1 disk=/dev/sda  vga=0x314 resume=/dev/sda2 nosoftlockup intel_idle.max_cstate=0 processor.max_cstate=0 mce=ignore_ce elevator=noop biosdevname=1 kiwidebug=1 transparent_hugepage=never quiet showopts crashkernel=161M@0M<br><br>redhat kb에서 확인해보기는 하였는데 현재 tiashl01sl 서버에서 <br>정확히 어떤 설정 때문에 rootfs가 마운트가 되는지 문의드리려고 합니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.7</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>tiashl01sl</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000M5sLnIAJ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-03-29T00:40:58Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-03-29T00:40:58Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>종료 연락 감사드립니다.<br>이상으로 해당 케이스는 close 처리 하도록 하겠습니다.<br><br>케이스가 처리 완료되면 고객 설문조사 메일이 발송됩니다.<br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해,<br>소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-03-29T00:40:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M5cz7IAB"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-28T05:39:46Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-28T05:39:46Z</b><br><br>안녕하세요<br><br>네 종료해주셔도 될 것 같습니다.<br><br>감사합니다.<br><br><publishedDate>2018-03-28T05:39:46Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M5crAIAR"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-28T05:24:17Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-28T05:24:17Z</b><br><br>안녕하세요? 허경입니다.<br><br>궁금한 점이 해소되셨으면 케이스 종료해도 될까요?<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-28T05:24:17Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M5Jd7IAF"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-27T05:05:20Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-27T05:05:20Z</b><br><br>안녕하세요<br><br>빠른 답변 감사드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-03-27T05:05:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M5IwSIAV"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-27T03:30:36Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-27T03:30:35Z</b><br><br>안녕하세요? 허경입니다.<br><br>앞서 알려드린 KCS 문서에 아래와 같은 언급이 있습니다.<br>mount나 df 명령이 /etc/mtab을 참조하는 경우 나타나지 않을 수 있다고 합니다.<br><br>Some times mount does not report this because mount command reads /etc/mtab which isn't always updated, Always refer /proc/mounts instead.<br><br>같은 VG에 있는 LV들이 파일시스템을 다양하게 사용하시는 것은 문제가 되지 않습니다.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><br>(In reply to kim, jimin)<br>&gt; 안녕하세요<br>&gt; <br>&gt; 답변 감사드립니다.<br>&gt; <br>&gt; 혹시 다른 동일한 버전의 6.7 OS에서 보면 해당 rootfs가 마운트되어있지 않은 경우도 있는데요.<br>&gt; 어떤 설정의 차이가 있기 때문인지 문의드리려고 합니다. <br>&gt; <br>&gt; root@DDOCAL01SL /root # cat /etc/redhat-release<br>&gt; Red Hat Enterprise Linux Server release 6.7 (Santiago)<br>&gt; root@DDOCAL01SL /root # uname -a<br>&gt; Linux DDOCAL01SL 2.6.32-573.42.1.el6.x86_64 #1 SMP Wed Apr 12 11:20:33 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br>&gt; root@DDOCAL01SL /root # df -Ph<br>&gt; Filesystem                           Size  Used Avail Use% Mounted on<br>&gt; /dev/sda2                             30G  8.9G   20G  32% /<br>&gt; tmpfs                                 95G     0   95G   0% /dev/shm<br>&gt; /dev/sda1                            976M  186M  740M  21% /boot<br>&gt; /dev/sda3                             20G  2.4G   17G  13% /var<br>&gt; /dev/mapper/vg0-home                 9.8G  149M  9.1G   2% /home<br>&gt; /dev/mapper/vg0-sysadmin              20G  8.8G  9.8G  48% /sysadmin<br>&gt; /dev/mapper/vg9-CRASH                194G  3.6G  181G   2% /CRASH<br>&gt; /dev/mapper/LLDDOCAPPVG-OPENTEXT      30G  1.4G   27G   5% /OPENTEXT<br>&gt; /dev/mapper/LLD<br><br><publishedDate>2018-03-27T03:30:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M52ixIAB"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-26T07:37:57Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-26T07:37:57Z</b><br><br>안녕하세요<br><br>답변 감사드립니다.<br><br>혹시 다른 동일한 버전의 6.7 OS에서 보면 해당 rootfs가 마운트되어있지 않은 경우도 있는데요.<br>어떤 설정의 차이가 있기 때문인지 문의드리려고 합니다. <br><br>root@DDOCAL01SL /root # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 6.7 (Santiago)<br>root@DDOCAL01SL /root # uname -a<br>Linux DDOCAL01SL 2.6.32-573.42.1.el6.x86_64 #1 SMP Wed Apr 12 11:20:33 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br>root@DDOCAL01SL /root # df -Ph<br>Filesystem                           Size  Used Avail Use% Mounted on<br>/dev/sda2                             30G  8.9G   20G  32% /<br>tmpfs                                 95G     0   95G   0% /dev/shm<br>/dev/sda1                            976M  186M  740M  21% /boot<br>/dev/sda3                             20G  2.4G   17G  13% /var<br>/dev/mapper/vg0-home                 9.8G  149M  9.1G   2% /home<br>/dev/mapper/vg0-sysadmin              20G  8.8G  9.8G  48% /sysadmin<br>/dev/mapper/vg9-CRASH                194G  3.6G  181G   2% /CRASH<br>/dev/mapper/LLDDOCAPPVG-OPENTEXT      30G  1.4G   27G   5% /OPENTEXT<br>/dev/mapper/LLDDOCAPPVG-OPENTEXTLOG   20G  5.5G   14G  30% /OPENTEXTLOG<br>/dev/mapper/LLDDOCAPPVG-DISKBUFFER1   30G   45M   28G   1% /DISKBUFFER1<br>/dev/mapper/LLDDOCAPPVG-DISKBUFFER2   30G   45M   28G   1% /DISKBUFFER2<br>/dev/mapper/LLDDOCAPPVG-BURNBUFFER   9.8G   23M  9.2G   1% /BURNBUFFER<br>/dev/mapper/LLDDOCAPPVG-DP           4.8G   10M  4.6G   1% /DP<br>/dev/mapper/LLDDOCAPPVG-TOMCAT       9.8G   31M  9.2G   1% /TOMCAT<br>/dev/mapper/LLDDOCAPPVG-FileStore     30G  6.1G   22G  22% /FileStore<br>/dev/mapper/LLDDOCAPPVG-APP           30G   15G   14G  54% /APP<br>/dev/mapper/LLDDOCAPPVG-LOG           20G  243M   19G   2% /LOG<br><br>제가 문의를 잘못드렸던 것 같은데요. <br><br>/dev/sdb (PV)를 이용해서 vgHANA(vg)를 만든 것 같고<br>해당 vg에 lv_data(xfs) / lv_egmon(xfs) / lv_log(xfs) / lv_shared(ext3) / lv_usr_sap(ext3) 5개의 lvol을 만들고 format해서 사용하고 있는 것 <br>같은데 혹시 이러한 구성이 아닌가요? 문의 드리려고 했던 점은 vgHANA라는 vg에 xfs나 ext3 등 lvol을 여러가지 타입으로 생성하였을 때 혹시 문제가 있을 수 있는지 문의드리려고 하였습니다.<br><br>pvs와 vgs, lvs 정보 보내드립니다.<br><br>root@tiashl01sl /root # pvs<br>  PV         VG     Fmt  Attr PSize PFree<br>  /dev/sdb   vgHANA lvm2 a--  3.82t 203.17g<br><br>root@tiashl01sl /root # vgs<br>  VG     #PV #LV #SN Attr   VSize VFree<br>  vgHANA   1   5   0 wz--n- 3.82t 203.17g<br><br>root@tiashl01sl /root # lvs<br>  LV         VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert<br>  lv_data    vgHANA -wi-ao----   1.55t<br>  lv_egmon   vgHANA -wi-ao----  29.98g<br>  lv_log     vgHANA -wi-ao---- 513.00g<br>  lv_shared  vgHANA -wi-ao----   1.49t<br>  lv_usr_sap vgHANA -wi-ao----  50.00g<br><br><publishedDate>2018-03-26T07:37:57Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M52bSIAR"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-26T07:26:42Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-26T07:26:42Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>rootfs가 마운트되어 있는 것은 원래 그렇게 동작하도록 되어 있는 것입니다.<br>정상적인 것이기 때문에 문제가 되지 않습니다. 아래 KCS 문서를 참고하시기 바랍니다.<br><br>https://access.redhat.com/solutions/2186351<br><br>vg에는 파일시스템이 존재할 수 없습니다. 물리 디스크인 pv에 vg 이름만 기록되어 있을 뿐입니다.<br>보여주신 이름을 보면 vg가 lv입니다. LVM이 device-mapper를 사용하기 때문에 이름이 그렇게 보일 뿐입니다.<br>/dev/mapper/vgHANA-lv_log는 /dev/vgHANA/lv_log와 동일한 것입니다.<br><br>고맙습니다.<br>허 경 드림.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-26T07:26:42Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M519BIAR"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-26T04:55:08Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-26T04:55:08Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>추가로 한가지 더 문의드릴 점은 아래와 같이 <br>한개의 vg에  fs type이 ext3 / xfs 존재하고 있을 경우 문제가 발생할 가능성이 있는지 문의드립니다.<br><br>RHEL 6.7 버전입니다.<br><br>root@tiashl01sl /root # df -Ph<br>Filesystem                     Size  Used Avail Use% Mounted on<br>rootfs                         197G   21G  167G  11% /<br>devtmpfs                       253G  180K  253G   1% /dev<br>tmpfs                          253G   12K  253G   1% /dev/shm<br>/dev/sda1                      197G   21G  167G  11% /<br>/dev/mapper/vgHANA-lv_log      513G  2.2G  511G   1% /hana/log<br>/dev/mapper/vgHANA-lv_data     1.6T   38G  1.6T   3% /hana/data<br>/dev/mapper/vgHANA-lv_shared   1.5T  110G  1.4T   8% /hana/shared<br>/dev/mapper/vgHANA-lv_usr_sap   44G  404M   41G   1% /usr/sap<br>/dev/mapper/vgHANA-lv_egmon     30G   11G   20G  34% /APP<br>root@tiashl01sl /root # lvs<br>  LV         VG     Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert<br>  lv_data    vgHANA -wi-ao----   1.55t<br>  lv_egmon   vgHANA -wi-ao----  29.98g<br>  lv_log     vgHANA -wi-ao---- 513.00g<br>  lv_shared  vgHANA -wi-ao----   1.49t<br>  lv_usr_sap vgHANA -wi-ao----  50.00g<br>root@tiashl01sl /root # blkid | grep HANA<br>/dev/mapper/vgHANA-lv_log: UUID=&quot;557ff83d-a032-4451-a58d-ca9740359aae&quot; TYPE=&quot;xfs&quot;<br>/dev/mapper/vgHANA-lv_data: UUID=&quot;cf3e6cfa-65a8-4d1f-bdd1-b190d611a63a&quot; TYPE=&quot;xfs&quot;<br>/dev/mapper/vgHANA-lv_shared: UUID=&quot;1c55357d-d0d1-46f0-89dd-67fa267e5d5d&quot; TYPE=&quot;ext3&quot;<br>/dev/mapper/vgHANA-lv_usr_sap: UUID=&quot;a9e28338-2d00-49d9-bcef-dfc1fb1fd609&quot; TYPE=&quot;ext3&quot;<br>/dev/mapper/vgHANA-lv_egmon: UUID=&quot;b7064de0-bb30-444b-acaa-6fcffca52ea9&quot; TYPE=&quot;xfs&quot;<br><br><publishedDate>2018-03-26T04:55:08Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>