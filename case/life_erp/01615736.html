======================<br><b>생성계정 : 우택 심</b><br><b>생성날짜 : 2016-04-12T05:07:37Z</b><br><b>마지막 답변자 : 우택 심</b><br><b>마지막 수정 일자 : 2016-04-25T13:40:30Z</b><br><b>id : 500A000000U27L3IAJ</b><br>======================<br><br><b><font size=15>
제목  : Pacemaker Resource ethmonitor 비교 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>현재 삼성생명 보험ERP Pacemaker 클러스터 중 IP 주소에 대한 Fail 감시자로 pingd 를 사용하고 있으나,<br><br>Ethmonitor 와의 리소스 적합성 비교 확인이 필요한 상황입니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>ethmonitor 를 pcs resource describe ethmonitor 를 보면 아래와 같은 항목이 있습니다.<br><br>The ethmonitor works in 3 different modes to test the interface vitality.<br>1. call ip to see if the link status is up (if link is down -&gt; error)<br>2. call ip and watch the RX counter (if packages come around in a certain time -&gt; success)<br>3. call arping to check whether any of the IPs found in the local ARP cache answers an ARP REQUEST (one answer -&gt; success)<br>4. return error<br><br>그렇다면 위 조건에 하나라도 충족이 안될 경우 Fail 이 되는 것인지 확인 부탁 드립니다.<br><br>그리고 위 조건에서 의미하는  ARP cache answers an ARP REQUEST 항목이 필수 조건 여부와<br><br>ethmonitor 설정 사용되는 interface 장치 명에 bonding Device 사용이 가능한 지 확인 부탁 드립니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>pacemaker</name></tag></tags><br><comment id="a0aA000000Gxpy0IAB"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-04-25T13:40:19Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-04-25T13:40:19Z</b><br><br>감사합니다.<br><br>본 케이스는 Closed 하겠습니다.<br><br><publishedDate>2016-04-25T13:40:19Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GvJRCIA3"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-04-14T05:30:35Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-04-14T05:30:35Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>우선 pingd는 Pacemaker의 일부라기 보다는 서비스와 같은 개념으로 보시면 되나 Ethmonitor는 Pacemaker의 일부의 기능으로 구분하시면 될 듯 합니다.<br><br>또한, 두개는 동시에 사용이 가능합니다.<br><br>pingd는 ICMP 프로토콜을 통한 IP에 대한 확인을 하는 반면, Ethmonitor는 실제 device단에서의 문제여부를 확인한는 차이점을 가지고 있습니다.<br>또한 문의주셧던 모든 조건을 확인하는 것이라 보시면 됩니다.<br><br>추가적으로 저희 Pacemaker 전문 엔지니어가 ethmonitor가 어떻게 동작하는지에 대한 설명을 아래 첨부해드립니다.<br><br><br>~~~<br>The logic behind ethmonitor checks is following:<br><br>1) Link status is checked by running `ip link &lt;parameters&gt;` command. If link is reported DOWN no further check is done and link is considered down. If result is UP proceed with #2<br><br>2) If #1 is up check if packet counter is changing. If it is changing (packets are being transmitted due to ongoing traffic) the link is considered UP and no further check is done. If packet counter is not changing proceed with check #3 (because counter not changing doesn't necessarily mean the link is down - this can simply be because there is no ongoing traffic but link is up)<br><br>3) Check arping_ip_list and arping ARP cache entries. If no ARP cache entries found to arping the ethernet device is considered not running.<br>~~~<br>======================<br>감사합니다.<br><br><publishedDate>2016-04-14T05:30:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000DjZpoIAF"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-04-12T07:27:09Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-04-12T07:27:09Z</b><br><br>안녕하세요,<br>Red Hat Technical Account Manager 한진구 입니다.<br><br>문의주신 내용에 대해서 확인후, 업데이트 드리도록 하겠습니다.<br>======================<br>감사합니다.<br><br><publishedDate>2016-04-12T07:27:09Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>현재 삼성생명 보험ERP Pacemaker 클러스터 중 IP 주소에 대한 Fail 감시자로 pingd 를 사용하고 있으나,<br><br>Ethmonitor 와의 리소스 적합성 비교 확인이 필요한 상황입니다.</issue><environment>ethmonitor 를 pcs resource describe ethmonitor 를 보면 아래와 같은 항목이 있습니다.<br><br>The ethmonitor works in 3 different modes to test the interface vitality.<br>1. call ip to see if the link status is up (if link is down -&gt; error)<br>2. call ip and watch the RX counter (if packages come around in a certain time -&gt; success)<br>3. call arping to check whether any of the IPs found in the local ARP cache answers an ARP REQUEST (one answer -&gt; success)<br>4. return error<br><br>그렇다면 위 조건에 하나라도 충족이 안될 경우 Fail 이 되는 것인지 확인 부탁 드립니다.<br><br>그리고 위 조건에서 의미하는  ARP cache answers an ARP REQUEST 항목이 필수 조건 여부와<br><br>ethmonitor 설정 사용되는 interface 장치 명에 bonding Device 사용이 가능한 지 확인 부탁 드립니다.<br><br>감사합니다.</environment><cep>false</cep></case>