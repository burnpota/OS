======================<br><b>생성계정 : 타임 게이트</b><br><b>생성날짜 : 2017-02-20T11:20:36Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2017-03-09T11:04:59Z</b><br><b>id : 500A000000WUA96IAH</b><br>======================<br><br><b><font size=15>
제목  : 커널 파라메터값에 대한 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요?<br><br>가상시스템(vm)에 설치된 rhel7.2  커널 업데이트 후 (3.10.0-327<br> -&gt; 3.10.0-327.44.2)<br><br>kernel.panic_on_oops 의 값이 0에서 1로 변경되어 있습니다.<br><br>원래 값이 0인지? 1인지 궁금하고 이 파라메터의 의미는 무엇입니까?<br><br>기존 os에서는 물리머신은 1이고 가상머신은 0이었습니다.<br><br>/etc/sysctl.conf , /etc/rc.d/rc.local 설정 안되어 있는 상태입니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br>======================<br><comment id="a0aA000000Iubh5IAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-22T02:55:04Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-22T02:55:04Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>kvm 상의 가상 머신상에 RHEL7.1 을 클린인스톨 한 결과 RHEL7.2 과 동일하게 panic_on_oops 값은 여전이 1로 확인됩니다. <br>~~~<br>[root@localhost ~]# uname -a<br>Linux localhost.localdomain 3.10.0-229.el7.x86_64 #1 SMP Thu Jan 29 18:37:38 EST 2015 x86_64 x86_64 x86_64 GNU/Linux<br>[root@localhost ~]# <br>[root@localhost ~]# sysctl -a | grep panic_on_oops<br>kernel.panic_on_oops = 1<br>[root@localhost ~]# <br>[root@localhost ~]# virt-what <br>kvm<br>[root@localhost ~]# <br>~~~<br><br>즉, 현재로서는 동일 이슈가 재현이 되지 않고 있습니다.<br>따라서, 현재로는 다음과 같이 확인하실 필요가 있어 보입니다.<br><br>- 사용하시는 vmware 환경상에 RHEL7.2 를 클린인스톨하여 해당 파라메터 확인<br>- 만약 클린인스톨시 해당 파라메터가 1이라면 sosreport 에는 포함되지 않는 유저 스크립트 등에 의해 해당 값이 변경되고 있는지 확인<br>- 기타, 사용하시는 템플릿 기동 후, 확인 등<br><br>감사합니다.<br><br><publishedDate>2017-02-22T02:55:04Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IuaqvIAB"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-02-22T00:54:13Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-02-22T00:54:13Z</b><br><br>재부팅한 이후로도 값은 0입니다 <br>저희쪽 점검 스크립트에 리부팅이후에도 값은 변화가 없습니다 에코 명령도 없었습니다.<br>이 값을 1로 바꾼것이 open-vm 업데이트 영향이 있지 않을까하는 생각이 드네요 가상화쪽만 0이라 그런 의구심이 드네요<br><br><publishedDate>2017-02-22T00:54:13Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000IuPx3IAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-21T13:21:09Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-21T13:21:09Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>혹시 커널 업데이트 없이 지금 상태에서 재부팅하셔도 해당 값이 0으로 설정되어 있나요?<br>echo 등을 이용해 메뉴얼로 변경하셨을 가능성도 있어 보여 확인 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-21T13:21:09Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IuIkgIAF"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-02-21T09:10:59Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-02-21T09:10:59Z</b><br><br>드롭박스에 PMDGAL02SL_sos_170221.tar.gz 파일로 업로드하였습니다<br><br>해당 시스템은 이전부터 하기 파라미터값이 0이였던것으로 현재도 0으로 표현되고 있습니다<br><br>해당 시스템에 별도의 설정은 없는것으로 보이는데요<br><br>해당 시스템이 어떠한 이유로 0값을 가지고 있는지 확인 부탁드립니다<br><br>참고적으로 저희가 사용하는 시스템에 가상화 환경에서는 0이고 물리장비에는 1로 확인이 되는데요<br><br>분석 부탁드립니다<br><br>감사합니다<br><br><publishedDate>2017-02-21T09:10:59Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000IuFPYIA3"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-21T01:22:02Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-21T01:22:01Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>일단 재현을 위해 가상환경상에서 RHEL7.2 를 설치하여 해당 파라메터 값을 확인해보았습니다.<br><br>~~~<br>[root@localhost /]# uname -a <br>Linux localhost.localdomain 3.10.0-327.el7.x86_64 #1 SMP Thu Oct 29 17:29:29 EDT 2015 x86_64 x86_64 x86_64 GNU/Linux<br>[root@localhost /]# <br>[root@localhost /]# sysctl -a | grep panic_on_oops<br>kernel.panic_on_oops = 1<br>[root@localhost /]# <br>[root@localhost /]# virt-what <br>kvm<br>~~~<br><br>테스트 결과, 업데이트 전의 커널임에도 불구하고 해당 파라메터의 디폴트 값이 1로 확인됩니다.<br><br>&gt; 원래 값이 0인지? 1인지 궁금하고 이 파라메터의 의미는 무엇입니까?<br><br>테스트 결과 및 기존 관련 문서를 보면 디폴트는 1로 보입니다.<br><br>Has the kernel parameter 'kernel.panic_on_oops' always default been set to 1 in Red Hat Enterprise Linux? <br>- https://access.redhat.com/solutions/768363<br><br>커널 문서(kernel-doc)상의 의미는 다음과 같습니다.<br>~~~<br>panic_on_oops:<br><br>Controls the kernel's behaviour when an oops or BUG is encountered.<br><br>0: try to continue operation<br><br>1: panic immediately.  If the `panic' sysctl is also non-zero then the<br>   machine will be rebooted.<br>~~~<br><br>즉, 커널이 oops 상태나 버그에 직면했을 때 패닉을 발생시켜, 분석을 위한 vmcore 를 수집하거나 재부팅을 통한 시스템 복구에 이용될 수 있습니다.<br><br>참고 외부 자료:<br>리눅스 커널 웁스란?<br>- https://ko.wikipedia.org/wiki/%EB%A6%AC%EB%88%85%EC%8A%A4_%EC%BB%A4%EB%84%90_%EC%9B%81%EC%8A%A4<br><br>이상 업무에 도움이 되시기 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-21T01:22:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IuEznIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-02-21T00:12:18Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-02-21T00:12:18Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>저는 신재욱이라고 하며 앞으로 이 케이스를 담당하게 되었습니다.<br><br>현재 이 케이스의 내용을 살펴보는 중이며, 관련하여 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-02-21T00:12:18Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>