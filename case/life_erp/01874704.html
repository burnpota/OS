======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2017-06-21T06:04:52Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2017-07-16T10:03:03Z</b><br><b>id : 500A000000XOangIAD</b><br>======================<br><br><b><font size=15>
제목  : cpufreq 하위에 있는 파일을 통해서 cpu 관련 설정을 조정하려고 하는데  존재하지 않는 서버에서는 어떻게 설정을 조정할수있는지 문의드리려고 합니다.
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요<br><br>Linux CPU 설정 관련해서 문의드리려고 합니다.<br><br>아래는 두대의 redhat 7.2 OS가 설치된 물리서버 입니다.<br> <br>/sys/devices/system/cpu/cpu0 디렉토리에 1개 서버는 cpufreq디렉토리가 있는 상황인데 1개 서버는 없는 상황입니다.<br><br>cpufreq 하위에 있는 파일을 통해서 cpu 관련 설정을 조정하려고 하는데  존재하지 않는 서버에서는 어떻게 설정을 조정할수있는지 문의드리려고 합니다.<br><br><br>root@PNLSDL01SL /sys/devices/system/cpu/cpu0/cpufreq # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>root@PNLSDL01SL /sys/devices/system/cpu/cpu0/cpufreq # ls -al<br>total 0<br>drwxr-xr-x 2 root root    0 May 11 09:56 .<br>drwxr-xr-x 9 root root    0 May 11 09:56 ..<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 affected_cpus<br>-r-------- 1 root root 4096 Jun 21 10:56 cpuinfo_cur_freq<br>-r--r--r-- 1 root root 4096 May 11 10:59 cpuinfo_max_freq<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 cpuinfo_min_freq<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 cpuinfo_transition_latency<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 related_cpus<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 scaling_available_governors<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 scaling_driver<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_governor<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_max_freq<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_min_freq<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_setspeed<br><br>root@PECCAL01SL /sys/devices/system/cpu/cpu0 # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>root@PECCAL01SL /sys/devices/system/cpu/cpu0 # ls -al<br>total 0<br>drwxr-xr-x  8 root root    0 Jun  1 17:25 .<br>drwxr-xr-x 85 root root    0 Jun  1 17:25 ..<br>drwxr-xr-x  6 root root    0 Jun  1 17:25 cache<br>drwxr-xr-x  7 root root    0 Jun  1 22:04 cpuidle<br>-r--------  1 root root 4096 Jun  1 17:26 crash_notes<br>-r--------  1 root root 4096 Jun  1 17:26 crash_notes_size<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 driver -&gt; ../../../../bus/cpu/drivers/processor<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 firmware_node -&gt; ../../../LNXSYSTM:00/device:00/ACPI0004:00/ACPI0007:00<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 microcode<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 node0 -&gt; ../../node/node0<br>-rw-r--r--  1 root root 4096 Jun  1 17:25 online<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 power<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 subsystem -&gt; ../../../../bus/cpu<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 thermal_throttle<br>drwxr-xr-x  2 root root    0 Jun  1 17:25 topology<br>-rw-r--r--  1 root root 4096 Jun  1 17:25 uevent<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Configuration issue</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>PNLSDL01SL</hostname><br><br><br><comment id="a0aA000000Jo1UTIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-30T10:15:22Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-30T10:15:22Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>네, scaling_governor 항목을 참조하시면 됩니다.<br><br>When and how does cpuspeed adjust the cpu frequency? <br>- https://access.redhat.com/solutions/43600<br><br>감사합니다.<br><br><publishedDate>2017-06-30T10:15:22Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jo1PwIAJ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-06-30T10:09:24Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-06-30T10:09:24Z</b><br><br>안녕하세요<br><br>현재 DELL 서버의 경우 아래와 같은 설정 처럼보이는데 <br>현재 그럼 CPU가 powersave 상태로 운영중인 상태로 보면되나요?<br><br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # ls<br>affected_cpus     cpuinfo_min_freq            scaling_available_governors  scaling_max_freq<br>cpuinfo_cur_freq  cpuinfo_transition_latency  scaling_driver               scaling_min_freq<br>cpuinfo_max_freq  related_cpus                scaling_governor             scaling_setspeed<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq #<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq #<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat cpuinfo_cur_freq<br>1200164<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat cpuinfo_max_freq<br>3600000<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat scaling_governor<br>powersave<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat scaling_max_freq<br>3600000<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat cpuinfo_min_freq<br>1200000<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat cpuinfo_cur_freq<br>1200062<br>root@PNLSDL01SL /sys/bus/cpu/devices/cpu0/cpufreq # cat cpuinfo_max_freq<br>3600000<br><br><publishedDate>2017-06-30T10:09:24Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Jo1MEIAZ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-06-30T10:03:50Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-06-30T10:03:49Z</b><br><br>안녕하세요<br><br>현재 그럼 HP 서버의 경우에는 OS에서<br>CPU 절약 옵션 등이 적용되어있는지 안되어있는지 확인하는 방법이 혹시 있을까요?<br><br>감사합니다.<br><br><publishedDate>2017-06-30T10:03:49Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Jni25IAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-29T04:52:58Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-29T04:52:58Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>말씀하신 sosreport 파일은 해당 케이스에 업로드되었음을<br>전달드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-29T04:52:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jni1kIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-29T04:51:32Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-29T04:51:32Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>OS 차원에서 조정이 불가능한 상태라면<br>하드웨어의 BIOS 등에 의해 제한되거나 컨트롤 되고 있을 것으로 보이며<br><br>&gt; lscpu 했을때 CPU MHz항목이 cpu 용량만큼 full로 잡고 있다면 p-state 기능을 안쓰고 있다고 보면 될런지요?<br><br>단편적 정보로 상기와 같이 단정적으로 말씀드리기는 어려울 것 같습니다.<br><br>OS 차원에서 말씀드릴 수 있는 것은 BIOS 조정 및 OS 의 governor 설정, 옵션 설정 등을 통해<br>명시적으로 지정하는 방법입니다.<br><br>만약 OS 측면이 아닌 하드웨어 측면에서 제한이 있거나 그 결과, 고객의 서비스에 운영에 문제 없고 고객이 만족하는 상태라면<br>이는 고객의 선택하실 사항으로 보입니다. <br><br>감사합니다.<br><br><publishedDate>2017-06-29T04:51:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JnhmVIAR"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-06-29T04:17:49Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-06-29T04:17:49Z</b><br><br>해당 sosreport  링크 부탁드립니다. 감사합니다.<br><br><publishedDate>2017-06-29T04:17:49Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JnhmLIAR"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-06-29T04:17:05Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-06-29T04:17:05Z</b><br><br>lscpu 했을때 CPU MHz항목이 cpu 용량만큼 full로 잡고 있다면 p-state 기능을 안쓰고 있다고 보면 될런지요?<br><br>Model name:            Intel(R) Xeon(R) CPU E7-8891 v3 @ 2.80GHz<br>Stepping:              4<br>CPU MHz:               2793.109<br><br>Architecture:          x86_64<br>CPU op-mode(s):        32-bit, 64-bit<br>Byte Order:            Little Endian<br>CPU(s):                80<br>On-line CPU(s) list:   0-79<br>Thread(s) per core:    2<br>Core(s) per socket:    10<br>Socket(s):             4<br>NUMA node(s):          4<br>Vendor ID:             GenuineIntel<br>CPU family:            6<br>Model:                 63<br>Model name:            Intel(R) Xeon(R) CPU E7-8891 v3 @ 2.80GHz<br>Stepping:              4<br>CPU MHz:               2793.109<br>BogoMIPS:              5609.48<br>Virtualization:        VT-x<br>L1d cache:             32K<br>L1i cache:             32K<br>L2 cache:              256K<br>L3 cache:              46080K<br>NUMA node0 CPU(s):     0-9,40-49<br>NUMA node1 CPU(s):     10-19,50-59<br>NUMA node2 CPU(s):     20-29,60-69<br>NUMA node3 CPU(s):     30-39,70-79<br><br><publishedDate>2017-06-29T04:17:05Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JnhHVIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-29T02:48:21Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-29T02:48:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>내부에서 추가적으로 조사한 결과,<br><br>역시, 해당 디렉토리가 없는 경우는 BIOS 설정에서 EIST 를 유효화하거나 <br>C 나 P 의 status 를 변경할 필요가 있는 것으로 보고되어 있습니다.<br><br>상기와 관련해서는 하드웨어에 의존하므로<br>하드웨어 벤더에 문의하시는 것이 보다 도움이 되실 것으로 보입니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-29T02:48:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jn83QIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-27T00:41:21Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-27T00:41:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>올려주신 sosreport 를 보니 DELL 서버는 문제 없는데 HP 서버에서 cpufreq 가 표시되지 않는 것으로 보입니다.<br>HP BIOS 설정에서 관련있어 보이는 내용이 다음과 같이 보고되어 있는데요,<br>BIOS 설정 및 테스트 가능하실지요?<br><br>What are the recommended HP Power Regulator settings to achieve maximum performance? <br>- https://access.redhat.com/solutions/633563<br><br>또는, HP 사에도 문의하셨는지 궁금합니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-27T00:41:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jmw7OIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-26T07:51:17Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-26T07:51:17Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>현재 올려주신 파일을 토대로 조사를 진행중에 있습니다.<br>분석이 완료되는대로 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-26T07:51:17Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JmrAkIAJ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-06-25T01:16:22Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-06-25T01:16:22Z</b><br><br>안녕하세요<br><br>업로드 파일명은 <br>sosreport-PECCAL01SL-20170621171808.tar.xz<br>sosreport-PNLSDL01SL-20170621171824.tar.xz<br>입니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-25T01:16:22Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JmcPUIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-23T06:52:38Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-23T06:52:38Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>업로드하신 파일명도 남겨주시기 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-23T06:52:38Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JmcINIAZ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-06-23T06:41:51Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-06-23T06:41:51Z</b><br><br>안녕하세요<br><br>요청하신 sosreport 관련 ftp dropbox.redhat.com 의 incoming 디렉토리에 anonymous 계정으로 update 하였습니다.<br><br>확인 부탁드리겠습니다.<br><br><publishedDate>2017-06-23T06:41:51Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Jm4Q0IAJ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-21T07:29:14Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-21T07:29:14Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>두 시스템의 상황비교를 위해<br>두 시스템의 sosreport 수집 및 업로드 바랍니다.<br><br>또는, 다음과 같이 시스템의 BIOS &amp; Firmware 업데이트 후 유사 증상이 해소된 사례가 있으므로<br>해당 부분에 대해 확인해보실 수도 있을 것입니다.<br><br>Kernel cpufreq control not created for all cores in Red Hat Enterprise Linux system <br>- https://access.redhat.com/solutions/39785<br><br>감사합니다.<br><br><publishedDate>2017-06-21T07:29:14Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Jm4GTIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2017-06-21T07:17:20Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2017-06-21T07:17:20Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>저는 신재욱이라고 하며 앞으로 이 케이스를 담당하게 되었습니다.<br><br>현재 이 케이스의 내용을 살펴보는 중이며, 관련하여 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-06-21T07:17:20Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>Linux CPU 설정 관련해서 문의드리려고 합니다.<br><br>아래는 두대의 redhat 7.2 OS가 설치된 물리서버 입니다.<br> <br>/sys/devices/system/cpu/cpu0 디렉토리에 1개 서버는 cpufreq디렉토리가 있는 상황인데 1개 서버는 없는 상황입니다.<br><br>cpufreq 하위에 있는 파일을 통해서 cpu 관련 설정을 조정하려고 하는데  존재하지 않는 서버에서는 어떻게 설정을 조정할수있는지 문의드리려고 합니다.<br><br><br>root@PNLSDL01SL /sys/devices/system/cpu/cpu0/cpufreq # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>root@PNLSDL01SL /sys/devices/system/cpu/cpu0/cpufreq # ls -al<br>total 0<br>drwxr-xr-x 2 root root    0 May 11 09:56 .<br>drwxr-xr-x 9 root root    0 May 11 09:56 ..<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 affected_cpus<br>-r-------- 1 root root 4096 Jun 21 10:56 cpuinfo_cur_freq<br>-r--r--r-- 1 root root 4096 May 11 10:59 cpuinfo_max_freq<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 cpuinfo_min_freq<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 cpuinfo_transition_latency<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 related_cpus<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 scaling_available_governors<br>-r--r--r-- 1 root root 4096 Jun 21 10:56 scaling_driver<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_governor<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_max_freq<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_min_freq<br>-rw-r--r-- 1 root root 4096 Jun 21 10:56 scaling_setspeed<br><br>root@PECCAL01SL /sys/devices/system/cpu/cpu0 # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br>root@PECCAL01SL /sys/devices/system/cpu/cpu0 # ls -al<br>total 0<br>drwxr-xr-x  8 root root    0 Jun  1 17:25 .<br>drwxr-xr-x 85 root root    0 Jun  1 17:25 ..<br>drwxr-xr-x  6 root root    0 Jun  1 17:25 cache<br>drwxr-xr-x  7 root root    0 Jun  1 22:04 cpuidle<br>-r--------  1 root root 4096 Jun  1 17:26 crash_notes<br>-r--------  1 root root 4096 Jun  1 17:26 crash_notes_size<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 driver -&gt; ../../../../bus/cpu/drivers/processor<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 firmware_node -&gt; ../../../LNXSYSTM:00/device:00/ACPI0004:00/ACPI0007:00<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 microcode<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 node0 -&gt; ../../node/node0<br>-rw-r--r--  1 root root 4096 Jun  1 17:25 online<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 power<br>lrwxrwxrwx  1 root root    0 Jun  1 22:04 subsystem -&gt; ../../../../bus/cpu<br>drwxr-xr-x  2 root root    0 Jun  1 22:04 thermal_throttle<br>drwxr-xr-x  2 root root    0 Jun  1 17:25 topology<br>-rw-r--r--  1 root root 4096 Jun  1 17:25 uevent</issue><cep>false</cep></case>