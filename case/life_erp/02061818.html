======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-03-23T06:20:26Z</b><br><b>마지막 답변자 : Kyung Huh</b><br><b>마지막 수정 일자 : 2018-04-11T02:16:25Z</b><br><b>id : 500A000000a9LKhIAM</b><br>======================<br><br><b><font size=15>
제목  : glibc-common update 시 fail 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>glibc-common-2.17-106.el7_2.6.x86_64.rpm packge update 과정에서 에러가 발생해서 <br>혹시 어떤 부분을 확인해야하는 지 문의드리려고 합니다.<br><br><br>[root@SLQAFIEL01:/etc/yum.repos.d] yum install nss-softokn-freebl.i686<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Resolving Dependencies<br>--&gt; Running transaction check<br>---&gt; Package nss-softokn-freebl.i686 0:3.16.2.3-13.el7_1 will be installed<br>--&gt; Processing Dependency: libdl.so.2 for package: nss-softokn-freebl-3.16.2.3-13.el7_1.i686<br>--&gt; Processing Dependency: libdl.so.2(GLIBC_2.0) for package: nss-softokn-freebl-3.16.2.3-13.el7_1.i686<br>--&gt; Processing Dependency: libdl.so.2(GLIBC_2.1) for package: nss-softokn-freebl-3.16.2.3-13.el7_1.i686<br>--&gt; Processing Dependency: libc.so.6(GLIBC_2.4) for package: nss-softokn-freebl-3.16.2.3-13.el7_1.i686<br>--&gt; Running transaction check<br>---&gt; Package glibc.x86_64 0:2.17-106.el7_2.4 will be updated<br>--&gt; Processing Dependency: glibc = 2.17-106.el7_2.4 for package: glibc-devel-2.17-106.el7_2.4.x86_64<br>--&gt; Processing Dependency: glibc = 2.17-106.el7_2.4 for package: glibc-headers-2.17-106.el7_2.4.x86_64<br>--&gt; Processing Dependency: glibc = 2.17-106.el7_2.4 for package: glibc-common-2.17-106.el7_2.4.x86_64<br>---&gt; Package glibc.i686 0:2.17-106.el7_2.6 will be installed<br>---&gt; Package glibc.x86_64 0:2.17-106.el7_2.6 will be an update<br>--&gt; Running transaction check<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.4 will be updated<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.6 will be an update<br>---&gt; Package glibc-devel.x86_64 0:2.17-106.el7_2.4 will be updated<br>---&gt; Package glibc-devel.x86_64 0:2.17-106.el7_2.6 will be an update<br>---&gt; Package glibc-headers.x86_64 0:2.17-106.el7_2.4 will be updated<br>---&gt; Package glibc-headers.x86_64 0:2.17-106.el7_2.6 will be an update<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>================================================================================================================<br> Package                        Arch               Version                        Repository               Size<br>================================================================================================================<br>Installing:<br> nss-softokn-freebl             i686               3.16.2.3-13.el7_1              iso-rhel7.2             187 k<br>Installing for dependencies:<br> glibc                          i686               2.17-106.el7_2.6               glibc                   4.2 M<br>Updating for dependencies:<br> glibc                          x86_64             2.17-106.el7_2.6               glibc                   3.6 M<br> glibc-common                   x86_64             2.17-106.el7_2.6               glibc                    11 M<br> glibc-devel                    x86_64             2.17-106.el7_2.6               glibc                   1.0 M<br> glibc-headers                  x86_64             2.17-106.el7_2.6               glibc                   662 k<br><br>Transaction Summary<br>================================================================================================================<br>Install  1 Package  (+1 Dependent package)<br>Upgrade             ( 4 Dependent packages)<br><br>Total download size: 21 M<br>Is this ok [y/d/N]: y<br>Downloading packages:<br>----------------------------------------------------------------------------------------------------------------<br>Total                                                                           138 MB/s |  21 MB  00:00:00<br>Running transaction check<br>Running transaction test<br>Transaction test succeeded<br>Running transaction<br>Warning: RPMDB altered outside of yum.<br>** Found 1 pre-existing rpmdb problem(s), 'yum check' output follows:<br>redcastle-4.0.3-1.x86_64 has missing requires of librcs2o.so()(64bit)<br>  Updating   : glibc-2.17-106.el7_2.6.x86_64                                                               1/10<br>  Updating   : glibc-common-2.17-106.el7_2.6.x86_64                                                        2/10<br>Error unpacking rpm package glibc-common-2.17-106.el7_2.6.x86_64<br>error: unpacking of archive failed on file /usr/lib/locale/locale-archive.tmpl;5ab497b1: cpio: read<br>error: glibc-common-2.17-106.el7_2.6.x86_64: install failed<br>  Updating   : glibc-headers-2.17-106.el7_2.6.x86_64                                                       3/10<br>  Installing : nss-softokn-freebl-3.16.2.3-13.el7_1.i686                                                   4/10<br>  Installing : glibc-2.17-106.el7_2.6.i686                                                                 5/10<br>  Updating   : glibc-devel-2.17-106.el7_2.6.x86_64                                                         6/10<br>  Cleanup    : glibc-devel-2.17-106.el7_2.4.x86_64                                                         7/10<br>  Cleanup    : glibc-headers-2.17-106.el7_2.4.x86_64                                                       8/10<br>  Cleanup    : glibc-2.17-106.el7_2.4.x86_64                                                               9/10<br>  Verifying  : glibc-2.17-106.el7_2.6.i686                                                                 1/10<br>  Verifying  : glibc-headers-2.17-106.el7_2.6.x86_64                                                       2/10<br>  Verifying  : glibc-devel-2.17-106.el7_2.6.x86_64                                                         3/10<br>  Verifying  : glibc-2.17-106.el7_2.6.x86_64                                                               4/10<br>  Verifying  : nss-softokn-freebl-3.16.2.3-13.el7_1.i686                                                   5/10<br>  Verifying  : glibc-common-2.17-106.el7_2.6.x86_64                                                        6/10<br>glibc-common-2.17-106.el7_2.4.x86_64 was supposed to be removed but is not!<br>  Verifying  : glibc-common-2.17-106.el7_2.4.x86_64                                                        7/10<br>  Verifying  : glibc-headers-2.17-106.el7_2.4.x86_64                                                       8/10<br>  Verifying  : glibc-devel-2.17-106.el7_2.4.x86_64                                                         9/10<br>  Verifying  : glibc-2.17-106.el7_2.4.x86_64                                                              10/10<br><br>Installed:<br>  nss-softokn-freebl.i686 0:3.16.2.3-13.el7_1<br><br>Dependency Installed:<br>  glibc.i686 0:2.17-106.el7_2.6<br><br>Dependency Updated:<br>  glibc.x86_64 0:2.17-106.el7_2.6 glibc-devel.x86_64 0:2.17-106.el7_2.6 glibc-headers.x86_64 0:2.17-106.el7_2.6<br><br>Failed:<br>  glibc-common.x86_64 0:2.17-106.el7_2.4                 glibc-common.x86_64 0:2.17-106.el7_2.6<br><br>Complete!<br>[root@SLQAFIEL01:/etc/yum.repos.d]<br>[root@SLQAFIEL01:/etc/yum.repos.d]<br>[root@SLQAFIEL01:/etc/yum.repos.d] rpm -qa | grep -i glibc<br>compat-glibc-2.12-4.el7.x86_64<br>glibc-devel-2.17-106.el7_2.6.x86_64<br>glibc-common-2.17-106.el7_2.4.x86_64<br>glibc-headers-2.17-106.el7_2.6.x86_64<br>glibc-2.17-106.el7_2.6.x86_64<br>compat-glibc-headers-2.12-4.el7.x86_64<br>glibc-2.17-106.el7_2.6.i686<br><br><br>root@SLTAFIAL01 /sysadmin/work/180323 # rpm -Uvh glibc-common-2.17-106.el7_2.6.x86_64.rpm<br>warning: glibc-common-2.17-106.el7_2.6.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID fd431d51: NOKEY<br>Preparing...                          ################################# [100%]<br>Updating / installing...<br>   1:glibc-common-2.17-106.el7_2.6    ################################# [ 50%]<br>error: unpacking of archive failed on file /usr/lib/locale/locale-archive.tmpl;5ab49846: cpio: read<br>error: glibc-common-2.17-106.el7_2.6.x86_64: install failed<br>error: glibc-common-2.17-106.el7_2.4.x86_64: erase skipped<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLQAFIEL01</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>registration</name></tag><tag><name>rpm</name></tag><tag><name>yum</name></tag></tags><br><comment id="a0aA000000LUQ8sIAH"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-04-11T02:16:22Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-04-11T02:16:22Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>케이스 종료하겠습니다.<br><br>감사합니다.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-04-11T02:16:22Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LU4jjIAD"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-04-10T02:20:13Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-04-10T02:20:13Z</b><br><br>안녕하세요<br><br>김지민 선임입니다.<br><br>답변 감사드립니다.<br><br>종료해주셔도될 것 같습니다.<br><br><publishedDate>2018-04-10T02:20:13Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M5sKfIAJ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-03-29T00:38:52Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-03-29T00:38:52Z</b><br><br>안녕하세요, <br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스와 관련하여<br>궁금한 점이 해소되셨으면 <br>해당 케이스를 종료해도 될지 확인 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-03-29T00:38:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M5czlIAB"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-28T05:40:39Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-28T05:40:39Z</b><br><br>안녕하세요<br><br>네 알려주신 sha256sum 방식으로 확인하였습니다.<br><br>감사합니다.<br><br><publishedDate>2018-03-28T05:40:39Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M5ct1IAB"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-28T05:27:24Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-28T05:27:24Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>커널 업그레이드관련하여 문의하신 케이스 02064764에서 알려드린 방법과 같은 방법으로 SHA256 checksum을 확인하실 수 있습니다.<br><br>고맙습니다.<br>허 경 드림.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-28T05:27:24Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M5JeKIAV"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-27T05:07:58Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-27T05:07:58Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>파일 1개가 업로드 중에 문제가 발생했엇던 것 같습니다.<br><br>1가지 문의드릴 점은 패키지 다운로드 화면에서 md5sum 확인이 가능한 것인지 문의드립니다.<br>패키지 다운로드 화면에는 md5sum 값이 나온 부분이 없어서 문의드립니다.<br><br>감사합니다.<br><br>[root@SLQAFIEL01:/etc/yum.repos.d] yum update glibc-common.x86_64<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Resolving Dependencies<br>--&gt; Running transaction check<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.4 will be updated<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.6 will be an update<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>====================================================================================================<br> Package                  Arch               Version                        Repository         Size<br>====================================================================================================<br>Updating:<br> glibc-common             x86_64             2.17-106.el7_2.6               glibc              11 M<br><br>Transaction Summary<br>====================================================================================================<br>Upgrade  1 Package<br><br>Total download size: 11 M<br>Is this ok [y/d/N]: y<br>Downloading packages:<br>Running transaction check<br>Running transaction test<br>Transaction test succeeded<br>Running transaction<br>  Updating   : glibc-common-2.17-106.el7_2.6.x86_64                                             1/2<br>  Cleanup    : glibc-common-2.17-106.el7_2.4.x86_64                                             2/2<br>  Verifying  : glibc-common-2.17-106.el7_2.6.x86_64                                             1/2<br>  Verifying  : glibc-common-2.17-106.el7_2.4.x86_64                                             2/2<br><br>Updated:<br>  glibc-common.x86_64 0:2.17-106.el7_2.6<br><br>Complete!<br><br><publishedDate>2018-03-27T05:07:58Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M5IkTIAV"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-27T03:02:30Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-27T03:02:29Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>우선 glibc, glibc-common 패키지의 경우 install 명령으로 설치할 수가 없습니다. 명령을 실행하는 과정에서 보이는 것처럼 업데이트로 진행됩니다.<br>kernel과 주요 시스템 서비스들이 의존하는 중요한 라이브러리이기 때문에 업데이트만 가능합니다.<br><br>redcastle 관련 문제도 보입니다. 보안 프로그램의 경우 glibc와의 호환성도 확인해야 할 것 같습니다.<br><br>** Found 1 pre-existing rpmdb problem(s), 'yum check' output follows:<br>redcastle-4.0.3-1.x86_64 has missing requires of librcs2o.so()(64bit)<br><br>또한, yum 저장소에 있는 패키지 파일이 정상인지 고객포털에서 제공하는 md5sum 값과 확인할 필요가 있습니다.<br>아래와 같은 에러가 발생하는 것으로 보아 파일이 손상되었을 수 있습니다.<br><br>error: unpacking of archive failed on file /usr/lib/locale/locale-archive.tmpl;5ab85a4d: cpio: read<br><br>고맙습니다.<br>허 경 드림.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-27T03:02:29Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000M50JvIAJ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-03-26T02:30:47Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-03-26T02:30:47Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>이번 case에서도 yum clean all 후 수행해봤는데 fail이 발생합니다.<br><br>root@SLTAFIAL01 /etc/yum.repos.d # yum clean all<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Cleaning repos: glibc<br>Cleaning up everything<br>root@SLTAFIAL01 /etc/yum.repos.d # rpm -qa | grep -i glibc<br>compat-glibc-2.12-4.el7.x86_64<br>glibc-2.17-106.el7_2.6.x86_64<br>glibc-common-2.17-106.el7_2.4.x86_64<br>glibc-2.17-106.el7_2.6.i686<br>glibc-headers-2.17-106.el7_2.6.x86_64<br>glibc-devel-2.17-106.el7_2.6.x86_64<br>compat-glibc-headers-2.12-4.el7.x86_64<br>root@SLTAFIAL01 /etc/yum.repos.d # yum search glibc-common<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>glibc                                                                                                            | 2.9 kB  00:00:00<br>glibc/primary_db                                                                                                 |  11 kB  00:00:00<br>====================================================== N/S matched: glibc-common =======================================================<br>glibc-common.x86_64 : Common binaries and locale data for glibc<br><br>  Name and summary matches only, use &quot;search all&quot; for everything.<br>root@SLTAFIAL01 /etc/yum.repos.d # yum install glibc-common.x86_64<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Resolving Dependencies<br>--&gt; Running transaction check<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.4 will be updated<br>---&gt; Package glibc-common.x86_64 0:2.17-106.el7_2.6 will be an update<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>========================================================================================================================================<br> Package                           Arch                        Version                                 Repository                  Size<br>========================================================================================================================================<br>Updating:<br> glibc-common                      x86_64                      2.17-106.el7_2.6                        glibc                       11 M<br><br>Transaction Summary<br>========================================================================================================================================<br>Upgrade  1 Package<br><br>Total download size: 11 M<br>Is this ok [y/d/N]: y<br>Downloading packages:<br>Running transaction check<br>Running transaction test<br>Transaction test succeeded<br>Running transaction<br>  Updating   : glibc-common-2.17-106.el7_2.6.x86_64                                                                                 1/2<br>Error unpacking rpm package glibc-common-2.17-106.el7_2.6.x86_64<br>error: unpacking of archive failed on file /usr/lib/locale/locale-archive.tmpl;5ab85a4d: cpio: read<br>  Verifying  : glibc-common-2.17-106.el7_2.6.x86_64                                                                                 1/2<br>glibc-common-2.17-106.el7_2.4.x86_64 was supposed to be removed but is not!<br>  Verifying  : glibc-common-2.17-106.el7_2.4.x86_64                                                                                 2/2<br><br>Failed:<br>  glibc-common.x86_64 0:2.17-106.el7_2.4                             glibc-common.x86_64 0:2.17-106.el7_2.6<br><br>Complete!<br><br>감사합니다.<br><br><publishedDate>2018-03-26T02:30:47Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000M50B3IAJ"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-26T02:05:08Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-26T02:05:08Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>지난번 올려주셨던 케이스 02058036 와 같은 증상으로 보입니다.<br>yum clean all 명령을 실행하여 문제가 해결되는지 확인 부탁드립니다.<br><br>허 경 드림.<br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-26T02:05:08Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>