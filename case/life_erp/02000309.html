======================<br><b>생성계정 : 삼성생명 타임게이트</b><br><b>생성날짜 : 2017-12-27T07:46:04Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-01-22T11:12:36Z</b><br><b>id : 500A000000ZOT7cIAH</b><br>======================<br><br><b><font size=15>
제목  : IO ERROR 발생건
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요?<br>금일(12월27일) 15시 15분경 /APP(dm-24) 파일시스템이 io-error가 발생되어 읽기와 쓰기가 진행이 되지 않았습니다.<br>로그 메시지에서는 metadata corruption detected at xfs inode..... 라는 메시지를 발생하였습니다.<br>이런 로그 메시지를 발생시키는 원인에 파악해 보고자 합니다. <br>하드웨어측의 문제에 대해서 확인을 담당자가 해보았으나 관련 에러는 없는것으로 확인됐습니다.<br><br>해당 sosreport와 messages파일 및 sa파일을 <br>DMPRAL01SL_sosreport.tar.gz화일로 압축하여 드롭박스에 업로드 하였습니다.<br>분석 요청 드립니다.<br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>DMPRAL01SL</hostname><br><br><br><comment id="a0aA000000LK2oSIAT"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-01-03T04:25:15Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-01-03T04:25:15Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>Q) 보내주신 링크 정보로 서버 상태를 확인해보려고 하는데 혹시 model_name이 SN1000Q 이런 식으로 나오는데 혹시 QL 형식으로 확인<br>     해보려면 방법이 있는지 문의드리려고 합니다.<br><br>     root@DMPRAL01SL /sys/class/scsi_host/host1 # uname -a<br>     Linux DMPRAL01SL 3.10.0-327.53.1.el7.x86_64 #1 SMP Tue Mar 14 10:49:09 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br><br>     root@DMPRAL01SL /sys/class/scsi_host/host1 # cat model_name<br>     SN1000Q<br><br>     root@DMPRAL01SL /sys/class/scsi_host/host1 # cat fw_version<br>     8.02.51 (d0d5)<br><br><br>A) 위의 명령으로 확인하신것은 HP 의 StoreFabric 카드의 모델명이 두번째 HBA 슬롯에 연결이 된것으로 보입니다.<br>     전체 카드의 정보 확인을 위해서는 아래와 같이 명령을 실행해보시길 바랍니다.<br><br>     $ cat /sys/class/scsi_host/host*/model_name<br>     $ cat /sys/class/scsi_host/host*/fw_version<br><br>   <br>* Note<br>   - 사용하고 게신 커널버전에서 지금까지 릴리즈된 커널버전의 changelog 를 확인해보았으나, 본 이슈와 관련된것을 찾지 못했습니다.<br><br>감사합니다.<br><br><publishedDate>2018-01-03T04:25:15Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LK2L6IAL"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-01-03T02:25:18Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-01-03T02:25:18Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다. <br><br>보내주신 링크 정보로 서버 상태를 확인해보려고 하는데 혹시<br>model_name이 SN1000Q 이런 식으로 나오는데 혹시 QL 형식으로 확인해보려면 방법이 있는지 문의드리려고 합니다.<br><br>root@DMPRAL01SL /sys/class/scsi_host/host1 # uname -a<br>Linux DMPRAL01SL 3.10.0-327.53.1.el7.x86_64 #1 SMP Tue Mar 14 10:49:09 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux<br><br>root@DMPRAL01SL /sys/class/scsi_host/host1 # cat model_name<br>SN1000Q<br><br>root@DMPRAL01SL /sys/class/scsi_host/host1 # cat fw_version<br>8.02.51 (d0d5)<br><br><publishedDate>2018-01-03T02:25:18Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LK2BkIAL"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-01-03T01:39:52Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-01-03T01:39:52Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>Q) hba카드 드라이버는 hp에서 제공하는 드라이버를 사용중이며 hp측에 확인중에 있습니다. 그리고 kernel-3.10.0-514.el7 이상의 버전을 사용하라고 말씀하셨는데 <br>     저희가 사용하는 3.10.0-327.53.1.el7 eus 버전이 3.10.0-514.el7 버전보다 낮다고 말씀 주시는것인지요?<br><br>A) 네, 사용하고 계신 커널버전이 낮기는 합니다만, 말씀하신것과 같이 사용중인 kmod-qlgc-qla2xxx-8.07.00.34.07.0_k1-3.rhel7u2.x86_64 버전이 kernel-3.10.0-514.el7<br>      내에 포함이 되어 있는 드라이버보다 버전이 높은 상태입니다.<br><br>     [1] https://access.redhat.com/downloads/content/rhel---7.4/x86_64/4117/kernel/3.10.0-514.el7/x86_64/fd431d51/package-changelog<br>     [scsi] qla2xxx: Update the driver version to 8.07.00.33.07.3-k1 (Chad Dupuis) [1367530] <br><br>     *  HP 로부터 어떤 피드백이 있으시다면 공유부탁드리며 현재 사용하고 계신 커널버전으로부터 최신버전 ( RHEL 7.4 ) 까지 혹시 이슈와 관련된 버그가 있는지 확인한<br>         뒤에 다시 한번 더 안내드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-01-03T01:39:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LJvxBIAT"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2018-01-02T16:50:59Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2018-01-02T16:50:59Z</b><br><br>안녕하십니까?<br>송석중 수석입니다.<br>hba카드 드라이버는 hp에서 제공하는 드라이버를 사용중이며 hp측에 확인중에 있습니다.<br>그리고 kernel-3.10.0-514.el7 이상의 버전을 사용하라고 말씀하셨는데 <br>저희가 사용하는 3.10.0-327.53.1.el7 eus 버전이 3.10.0-514.el7 버전보다 낮다고 말씀 주시는것인지요?<br><br>2016-10-19 Rafael Aquini &lt;aquini@redhat.com&gt; [3.10.0-514.el7]<br><br>2017-03-14 Alexander Gordeev &lt;agordeev@redhat.com&gt; [3.10.0-327.53.1.el7]<br><br><publishedDate>2018-01-02T16:50:59Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LJrRrIAL"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-01-02T09:11:22Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-01-02T09:11:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>먼저, 요청드린 애플리케이션 측면에서의 작업내용을 상세히 설명해주셔서 감사합니다. 다만, 이 내용은 실제로 문제의 원인을 확인하기<br>보다는 문제를 좀 더 자세하게 이해하기 위함이었습니다. 기술해주신 어떠한 절차가 이 이슈와 직접적으로 연관있는지는 저도 정확히 알<br>수는 없으나, 파일시스템 손상이 난 시작시점이 12월 27 일 15시 15분이고 스토리지 오류가 난 것은 약 22분 뒤인 15시 37 분이었습니<br>다. 이 시간대가 애플리케이션 작업이 있었다면 분명 스토리지 이슈와도 연관이 있을수 있으므로 꼭 스토리지 벤더사로 기술문의하셔서<br>좀 더 정말한 진단을 받아보실것을 권장드리며, 이후에도 저희 Red Hat 의 지원이 필요하시다면 다시 연락주십시오.<br><br>* 추가적으로, 이슈의 정확한 진단은 되지 않은 상태이긴 하나 아래의 참고문서[1]에서 기술이 된것과 같이 현재 QL24xx 또는 QL25xx<br>   HBA 카드를 사용중이라면 커널의 버그로 인해서 나타날수도 있으므로 kernel-3.10.0-514.el7 이상의 버전으로 업데이트도 같이 권<br>   장드립니다.<br><br>[ 참고문서 ]<br><br>[1]  Receiving error in /var/log/dmesg : &quot;qla2xxx 0000:00:00.0: vpd r/w failed&quot; <br>- https://access.redhat.com/solutions/633553<br><br>감사합니다.<br><br><publishedDate>2018-01-02T09:11:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LJqUgIAL"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-01-02T06:34:29Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-01-02T06:34:29Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>해당 build 작업은 좀 더 업무팀에 문의해봤는데요.<br><br>application에서 이관 작업 전에 java source의 runtime 환경을 재구성하는 작업이라고 합니다.<br>업무쪽에서도 해당 build 작업 시 지연은 있었지만 문제 상황과 같이 I/O error까지 발생한 부분은 없었다고 합니다.<br><br>비슷한 build 작업이 이루어진 시간대의 성능을 확인해보면 문제 상황 시와 동일하게 증가하는 부분 확인이 가능합니다.<br><br><br>한가지 확인 요청 드릴 점은 문제 시점(12/27 15시15분)에 시스템 사용률이 현재 H/W + OS 에서만 보면 <br>I/O 부분에 부하가 갈 수 있는 상황인지 문의드리려고 합니다.<br>(HBA는 16G 대역을 사용하고 NIC는 10G 대역입니다.)<br><br>참고로 수행되는 작업에 대해서 아래와 같이 답변을 받았습니다.<br>저도 근데 어떻게 수행되는지 상세 내역은 모르는 상태여서 일단 내용을 보내드리기는 합니다.<br><br>감사합니다.<br><br>===================================================================================================================<br>Compilate(Qar)작업 내용입니다<br><br> <br><br>1. 사전작업<br><br>   jenkins 로 /APP/nci/.. 로 약 5Gb 정도 분량의 소스를 copy함.<br><br>   이후 다시 /APP/nci/.. 의 소스내용을 /APP/PMQ_ws/ws_rep 로 copy하고, <br><br>   또다시 /APP/PMQ_ws/ws_rep 의 내용을 /APP/PMQ_ws/ws_rep_q 로 복사함.<br><br> <br><br>2. Compilate생성 (및 Qar생성)<br><br>  1) Compilate 은 /APP/PMQ_ws/ws_rep 의 소스내용을 참조해서 생성함. (약 70분 소요)<br><br>  2) Qar는 /APP/PMQ_ws/ws_rep_q 의 내용을 참조로 생성함. (약 35분 소요)<br><br>  3) 상기 1), 2) 동시에 작업하는 이유는 생성을 병렬로 하여 생성시간을 단축하기 위함.<br><br>  4) 상기 생성작업시 중간파일 생성위치로 /tmp/msg/..  를 사용함. (순간 최대 7.5Gb정도 사용 후 소멸)<br><br> <br><br>3. 사후작업<br><br>  생성된 파일은 압축되어 jenkins 에 의해 각 서버로 전송되고,<br><br>  결과로 두개파일의 zip 이 /APP/nci/... 에 로그형태로 남음. (3일주기로 삭제하려고 함)<br><br> <br><br>작업은 현재 하루 두번 작업하고 있고, 향후 운영시에도 유사하게 진행될 걸로 예상합니다.<br><br>이상 Compilate(Qar)작업 내용입니다.<br>===================================================================================================================<br><br><publishedDate>2018-01-02T06:34:29Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFQQdIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2017-12-29T04:27:32Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2017-12-29T09:15:40Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>올려주신 sar 데이터를 filesystem corruption 이 일어났던 시점사이 1시간 정도의 데이터를 아래와 같이 분석을 해보았는데<br>pgpgout, kbdirty, tps, rxKB 가 급격하게 상승하신것을 보실 수 있습니다.<br><br>$ sar -A -f ./sa27_DMPRAL01SL -s &quot;15:00:00&quot; -e &quot;16:00:00&quot;<br>~~  생략<br>15시 00분 01초  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff<br>~~ 생략<br>15시 13분 01초      0.00     46.84   1197.52      0.00   1385.51      0.00      0.00      0.00      0.00<br>15시 14분 01초      0.00     15.74   1111.84      0.00   1387.27      0.00      0.00      0.00      0.00<br>15시 15분 01초      0.00  21562.14   3532.90      0.00  14462.72      0.00      0.00      0.00      0.00                ***     ---&gt; pgpgout 이 큰 폭으로 상승<br>15시 16분 01초      0.13     94.77   2341.28      0.00   2557.77      0.00      0.00      0.00      0.00<br>15시 17분 01초      0.00    135.28   2936.23      0.00  13151.02      0.00      0.00      0.00      0.00<br>~~ 생략<br>15시 00분 01초 kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty<br>~~ 생략<br>15시 11분 01초 820844640 235385844     22.29     10988  73010820  49813316      3.96 171763536  51062356       200<br>15시 12분 01초 820793380 235437104     22.29     10988  73004688  49814812      3.96 171827468  51049464       184<br>15시 13분 01초 820774072 235456412     22.29     10988  73006648  49814028      3.96 171845476  51051088       156<br>15시 14분 01초 820762368 235468116     22.29     10988  73014532  49813316      3.96 171849296  51058744       200<br>15시 15분 01초 818253700 237976784     22.53     10988  75415956  49812708      3.96 169523976  55835404   3634596        ***    --&gt; dirty 크기 큰 폭으로 상승<br>15시 16분 01초 818166648 238063836     22.54     10988  75466884  49813020      3.96 169589612  55856628   3252156<br>~~ 생략<br>15시 00분 01초       tps      rtps      wtps   bread/s   bwrtn/s<br>~~ 생략<br>15시 13분 01초      3.75      0.00      3.75      0.00     93.69<br>15시 14분 01초      2.38      0.00      2.38      0.00     31.50<br>15시 15분 01초    589.12      0.00    589.12      0.00  43124.25   ***    ---&gt;  tps 가 큰 폭으로 상승<br>15시 16분 01초      7.28      0.02      7.26      0.27    189.56<br>15시 17분 01초      4.55      0.00      4.55      0.00    270.54<br>~~ 생략<br>15시 00분 01초     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s<br>~~ 생략<br>15시 15분 01초    ens3f3      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>15시 15분 01초     bond0   1410.78   1036.37   1816.89    319.36      0.00      0.00      1.02                 ***      --&gt; 받은 패킷이 큰 폭으로 상승<br>15시 15분 01초     eno49      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>15시 15분 01초     eno51      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>~~ 생략<br><br>이 상황을 설명해드리자면, 애플리케이션이 네트워크를 통해서 갑작스럽게 평소보다 급격하게 많은 데이터 쓰기작업을 요청을 받았고,<br>파일을 쓰기 위해서 메모리에 데이터를 저장 ( pgpgout ) 하였다가,  [ # --&gt; 파일읽기 작업일 경우는 pgpgin 이 상승함 ] 이들을 메모리<br>내에서 dirty page 로 표시하고 나서 이들을 물리적인 스토리지 디바이스로 쓰여진 동작이 있었던것을 말합니다.<br><br>그래서, 애플리케이션 혹은 스토리지 벤더사로 갑작스럽게 급격하게 많은 데이터가 쓰여지는 경우에 이 이슈가 나타날만한 원인이 있는지<br>다시 한번 더 기술문의해보시고, 이후에도 저희 Red Hat 의 지원이 필요하시다면 다시 연락주십시오.<br><br>* 참고<br>- 이 sar 데이터로는 이슈 시점때의 실제 파일시스템의 상태확인이 불가하고, 시스템이 리부팅이 되어 이미 손상된 파일시스템이 정상적인<br>  상태일것이고, 해당 이슈시점에 문제를 진단할만한 방법이 없는 상황이어서 파일시스템이 corruption 이 난 원인을 알기가 어렵다는 말씀<br>  을 드립니다. 혹시, 만약 문제가 재현이 되는 방법이 있는지를 말씀해주시면 진단할 수 있는 방법을 찾아보도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2017-12-29T04:27:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LFQd3IAH"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-12-29T05:33:30Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-12-29T05:33:30Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>업무팀 통해서 해당 시점의 상황을 다시 한번 확인해보았습니다.<br><br>비정기적으로 application에서 /APP 파일시스템에 build하는 상황이 있는데<br><br>문제 발생 시점에 해당 build하는 작업이 수행이되었고 바로 error로 종료되었다고 합니다.<br><br>이전의 build 작업 때는 정상적으로 수행이 되었다고는 하는데 <br><br>혹시 이런 부분 관련해서 추가로 확인해볼 수 있는 방법이 있는지 문의드립니다.<br><br><publishedDate>2017-12-29T05:33:30Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFPxHIAX"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-12-29T01:26:46Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-12-29T01:26:46Z</b><br><br>안녕하세요?<br>송석중 수석입니다. <br>드롭박스에 sa27_DMPRAL01SL 화일을 업로드 하였씁니다.<br>그 당시 시스템 상태를 볼수 있는 sar화일이고 이를 통하여 그 당시의 상태를 파악해보고자 합니다.<br>확인 부탁드리고 해당 파일 업로드 부탁드립니다.<br>감사합니다.<br><br><publishedDate>2017-12-29T01:26:46Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFHrNIAX"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2017-12-28T07:13:59Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2017-12-28T08:52:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>요청하신 sosreport 를 본 케이스에 업로드를 해놓았습니다.<br><br>감사합니다.<br><br><publishedDate>2017-12-28T07:13:59Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LFIJgIAP"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-12-28T08:21:33Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-12-28T08:21:33Z</b><br><br>파일 업로드 부탁드립니다.<br><br><publishedDate>2017-12-28T08:21:33Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFHf2IAH"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2017-12-28T06:46:46Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2017-12-28T06:46:46Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>먼저 요청드린 질문에 대해서 답변 주셔서 감사합니다. 지금 상황으로는 명확하게 파일시스템의 원인이 무엇이라다는 말씀드리기 어려운 상태입니다.<br>다만, 현재 문제의 원인이 될만한 요소는 /APP 디렉토리로 파일 오퍼레이션 작업을 하는  애플리케이션의 의 예측하지 못했던 동작이나 아래의 오류 <br>메시지가 나타난 것과 같이 스토리지의 펌웨어 버그로 인해서 나타날수도 있을것으로 예상입니다.<br><br>$ vi messages<br>~~ 생략<br>115843 Dec 27 15:37:10 DMPRAL01SL kernel: qla2xxx 0000:04:00.1: vpd r/w failed.  This is likely a firmware bug on this device.  Contact the card vendor for a firmware update<br>~~ 생략<br><br>그래서, 애플리케이션 개발자 혹은 개발자 와 스토리지 벤더로 이슈의 원인분석 요청을 진행하시고 이후에도 저희 Red Hat 의 지원이 필요하시다면<br>다시 연락주십시오.<br><br><br>[ 참고문서 ]<br><br>[1]  Receiving error in /var/log/dmesg : &quot;qla2xxx 0000:00:00.0: vpd r/w failed&quot; <br>- https://access.redhat.com/solutions/633553<br><br>감사합니다.<br><br><publishedDate>2017-12-28T06:46:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LFHBnIAP"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2017-12-28T05:39:54Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2017-12-28T05:39:54Z</b><br><br>안녕하세요 <br><br>SDS 김지민 선임입니다.<br><br>DMPRAL01SL 서버는 클러스터 구성이 되어 있지는 않고<br><br>현재 업무쪽 확인 결과 15:15 쯤에 따로 작업을 수행한 적은 없는 것으로 확인되었습니다.<br><br>감사합니다.<br><br><publishedDate>2017-12-28T05:39:54Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFGlBIAX"><br>======================<br><b>생성계정 : 타임게이트, 삼성생명</b><br><b>생성날짜 : 2017-12-28T04:29:05Z</b><br><b>마지막 답변자 : 타임게이트, 삼성생명</b><br><b>마지막 수정 일자 : 2017-12-28T04:29:05Z</b><br><br>답변 감사합니다.<br>메타 데이터의 손실이 된 이유에 대해서는 os 측면에서 확인 할 방법이 없는것인지요?<br>아울러 sosreport 링크 부탁드립니다.<br><br><publishedDate>2017-12-28T04:29:05Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LFGCkIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2017-12-28T02:13:57Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2017-12-28T02:13:57Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>$ vi messages<br>~~ 생략<br>115483 Dec 27 15:15:06 DMPRAL01SL kernel: XFS (dm-24): Metadata corruption detected at xfs_inode_buf_verify+0x75/0xd0 [xfs], block 0x22be7c0<br>115484 Dec 27 15:15:06 DMPRAL01SL kernel: XFS (dm-24): Unmount and run xfs_repair<br>115485 Dec 27 15:15:06 DMPRAL01SL kernel: XFS (dm-24): First 64 bytes of corrupted metadata buffer:                                                                                                                <br>115486 Dec 27 15:15:06 DMPRAL01SL kernel: ffff88de3ea0c000: 74 72 69 6e 67 76 61 6c 3e 0d 0a 20 20 20 20 20  tringval&gt;..-----<br>115487 Dec 27 15:15:06 DMPRAL01SL kernel: ffff88de3ea0c010: 20 20 20 3c 70 6d 3a 73 74 72 69 6e 67 76 61 6c     &lt;pm:stringval<br>115488 Dec 27 15:15:06 DMPRAL01SL kernel: ffff88de3ea0c020: 20 65 6e 63 6f 64 69 6e 67 3d 22 6e 6f 6e 65 22   encoding=&quot;none&quot;<br>115489 Dec 27 15:15:06 DMPRAL01SL kernel: ffff88de3ea0c030: 20 69 73 6e 75 6c 6c 3d 22 66 61 6c 73 65 22 3e   isnull=&quot;false&quot;&gt;<br>115490 Dec 27 15:15:06 DMPRAL01SL kernel: XFS (dm-24): Metadata corruption detected at xfs_inode_buf_verify+0x75/0xd0 [xfs], block 0x22be7c0<br>115491 Dec 27 15:15:06 DMPRAL01SL kernel: XFS (dm-24): Unmount and run xfs_repair<br>~~ 생략<br><br>위와 같이 올려주신 messages 파일을 보면 dm-24, 즉 /APP 로 마운트 파일시스템에서 I/O error 가 발생이 되어 애플리케이션이 읽기/쓰기 작업이 되지 않았던 원인<br> 파일시스템내에 metadata 가 손상이 되었기 때문입니다.<br><br>파일시스템이 손상이 되는 원인은 아래 다양하게 알려져 있는데 <br><br>[1] 시스템의 비정상적인 종료<br>[2] 커널 크래쉬<br>[3] 스토리지 올바르지 않은 설정 및 에러<br>[4] memory corruption<br>[5] 애플리케이션의 중첩된 파일의 쓰기 및 수정작업 등<br><br>좀 더 이슈를 이해하기 위해서는 파일시스템 손상이 되기 전에 시스템에서 어떠한 현상 및 작업들이 이루어졌는지 설명이 필요하오니 자세한 답변 부탁드립니다.<br>* 혹시, 그리고 이 시스템은 클러스터 환경으로 구성이 되어 있나요? 그렇다면 이와 관련된 배경설명도 같이 부탁드립니다.<br><br><br>[ 참고문서 ]<br><br>[1] XFS : Corruption detected. Unmount and run xfs_repair<br>- https://access.redhat.com/solutions/1194613<br><br>감사합니다.<br><br><publishedDate>2017-12-28T02:13:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>