======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-05-31T05:29:25Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-06-20T10:06:03Z</b><br><b>id : 500A000000athiVIAQ</b><br>======================<br><br><b><font size=15>
제목  : /var/log/messages 중 fatal: parameter inet_interfaces: no local interface found for ::1 관련
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>RHEL 7.2 서버중에서 아래와 같은 message가 발생하고 있는 중입니다.<br><br>찾아보니 IPv6 disable 관련된 메세지 같은데요.<br>혹시 아래와 같이 서버에서 disable 되어있기는 한데 추가로 확인해봐야할 부분이 있을지 해서 문의드립니다.<br><br>아래는 제가 확인한 값들입니다.<br><br>혹시 추가 정보가 필요하시면 알려주시면 보내드리겠습니다.<br><br>root@PBWSAL01SL /var/log # cat /etc/redhat-release<br>Red Hat Enterprise Linux Server release 7.2 (Maipo)<br><br>May 31 09:30:01 PBWSAL01SL crond: sendmail: fatal: parameter inet_interfaces: no local interface found for ::1<br>May 31 09:30:01 PBWSAL01SL postfix/sendmail[32093]: fatal: parameter inet_interfaces: no local interface found for ::1<br>May 31 09:30:01 PBWSAL01SL CROND[32057]: (psoadm) MAIL (mailed 812 bytes of output but got status 0x004b#012)<br>May 31 09:30:01 PBWSAL01SL crond: sendmail: fatal: parameter inet_interfaces: no local interface found for ::1<br>May 31 09:30:01 PBWSAL01SL postfix/sendmail[32105]: fatal: parameter inet_interfaces: no local interface found for ::1<br>May 31 09:30:01 PBWSAL01SL CROND[32058]: (psoadm) MAIL (mailed 812 bytes of output but got status 0x004b#012)<br><br>root@PBWSAL01SL /var/log # sysctl -a | grep -i ipv6 | grep disable<br>net.ipv6.conf.all.disable_ipv6 = 1<br>net.ipv6.conf.default.disable_ipv6 = 1<br>net.ipv6.conf.eno16780032.disable_ipv6 = 1<br>net.ipv6.conf.eno33559296.disable_ipv6 = 1<br>net.ipv6.conf.eno50338560.disable_ipv6 = 1<br>net.ipv6.conf.eno67109888.disable_ipv6 = 1<br>net.ipv6.conf.lo.disable_ipv6 = 1<br><br>root@PBWSAL01SL /boot # ip a<br>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN<br>    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<br>    inet 127.0.0.1/8 scope host lo<br>       valid_lft forever preferred_lft forever<br>2: eno67109888: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000<br>    link/ether 00:50:56:bc:3e:a2 brd ff:ff:ff:ff:ff:ff<br>    inet 100.254.147.151/24 brd 100.254.147.255 scope global eno67109888<br>       valid_lft forever preferred_lft forever<br>3: eno16780032: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000<br>    link/ether 00:50:56:bc:78:0d brd ff:ff:ff:ff:ff:ff<br>    inet 100.254.143.51/24 brd 100.254.143.255 scope global eno16780032<br>       valid_lft forever preferred_lft forever<br>    inet 100.254.143.151/24 brd 100.254.143.255 scope global secondary eno16780032<br>       valid_lft forever preferred_lft forever<br>4: eno33559296: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000<br>    link/ether 00:50:56:bc:77:eb brd ff:ff:ff:ff:ff:ff<br>    inet 172.18.13.51/24 brd 172.18.13.255 scope global eno33559296<br>       valid_lft forever preferred_lft forever<br>5: eno50338560: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000<br>    link/ether 00:50:56:bc:75:45 brd ff:ff:ff:ff:ff:ff<br>    inet 172.18.21.51/24 brd 172.18.21.255 scope global eno50338560<br>       valid_lft forever preferred_lft forever<br><br>root@PBWSAL01SL /boot # cat /proc/cmdline<br>BOOT_IMAGE=/vmlinuz-3.10.0-327.53.1.el7.x86_64 root=UUID=9ba318cd-e489-4f45-bb0e-ebc97afec3bd ro crashkernel=512M rhgb quiet LANG=en_US.UTF-8 <br><br>nmi_watchdog=0 transparent_hugepage=never elevator=noop rdblacklist=vmw_vsock_vmci_transport,vsock,vmw_vmci<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>PBWSAL01SL</hostname><br><br><br><comment id="a0aA000000MhaRuIAJ"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-06-05T00:59:34Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-06-05T00:59:34Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>postfix 서비스를 작동시키지 않는 경우 crontab 동작과정에서 명령 실행의 결과를 메일로 전송하도록 /etc/crontab 에 MAILTO라는 변수로 받는 사람 계정을 지정하도록 되어 있습니다. 기본적으로 crontab에 등록된 명령의 표준 출력 메시지가 있는 경우 root의 메일로 전달 되도록 구성됩니다. <br>하지만, 현재 postfix를 작동하고 있지 않기 때문에 crontab에서 메일을 발송할 수 없는 조건이 됩니다.<br><br>따라서, 아래의 두 가지 방법중에 선택하셔서 문제를 해소할 수 있을 것으로 보입니다.<br><br>1. postfix 서비스 활성화 <br>crontab을 위한 메일 발송을 허용하시려면 postfix를 localhost에서만 작동하도록 하여 서비스를 활성화하는 방안<br><br>2. crontab 메일 발송 비활성화<br>crontab에서 MAILTO 변수를 MAILTO= 로 지정하여 메일이 발송되지 않도록 하는 방안 (다만, 이 경우에 crontab으로 실행된 명령의 정상적인 출력 내용을 볼 수 없기 때문에 bash 셸의 리다이렉션을 이용하여 출력 내용이 특정한 파일로 저장되도록 하시는 것이 바람직합니다.)<br><br>If the MAILTO variable is not defined (MAILTO=), the email is not sent.<br>crontab 관련 상세한 설정은 depolyment guide[1]를 참고하시기 바랍니다.<br><br>[1] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/ch-automating_system_tasks<br><br>고맙습니다.<br>허 경 드림.<br><br><publishedDate>2018-06-05T00:59:34Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MhJHNIA3"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-06-04T06:11:19Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-06-04T06:11:19Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>그럼 혹시 지금 IPv6기능은 OS에서 disable 되서 사용할 수 없는 상태는 맞는데<br>몇가지 설정이 누락되어서 메세지만 발생하는 상태인지 문의드리려고 합니다.<br><br>추가로 해당 서버에서 postfix 서비스가 mask 처리 되어있기는 한데<br>IPv6 서비스를 정상적으로 disable하려면 해당 서비스를 가동해야하는지도 문의드립니다.<br><br>root@PBWSAL01SL / # systemctl status postfix.service<br>* postfix.service<br>   Loaded: masked (/dev/null; bad)<br>   Active: inactive (dead)<br><br>감사합니다.<br><br><publishedDate>2018-06-04T06:11:19Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000MhHiMIAV"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-06-04T02:41:32Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-06-04T02:41:32Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>보내주신 sosreport 파일을 검토한 결과 sysctl 파라미터는 적절히 설정되어 있으나 /etc/hosts 파일에 ipv6와 관련있는 ::1 항목이 존재합니다. 현재 로그에 기록되고 있는 메시지는 /etc/hosts 파일에서 아래 항목 제거 한후 postfix 서비스를 재시작 하면 문제를 해결할 수 있을 것으로 보입니다.<br><br>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6<br><br>이 증상과 관련한 아래 문서들을 참고하시기 바랍니다.<br>fatal: parameter inet_interfaces: no local interface found for ::1<br>https://access.redhat.com/solutions/1591423<br><br>또한, 향후 시스템 재부팅시에도 원할하게 적용이 되도록 /etc/default/grub 설정에도 ipv6 비활성화 부트 파라미터를 적용하시는 것이 좋을 것 같습니다.<br><br>How do I disable or enable the IPv6 protocol in Red Hat Enterprise Linux?<br>https://access.redhat.com/solutions/8709<br><br>고맙습니다.<br>허 경 드림.<br><br><publishedDate>2018-06-04T02:41:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MgwNhIAJ"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-06-01T04:46:38Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-06-01T04:46:37Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>02110579_sosreport-PBWSAL01SL-20180601131140.tar.xz<br>위의 파일로 dropbox에 업로드하였습니다.<br><br>감사합니다.<br><br>감사합니다.<br><br><publishedDate>2018-06-01T04:46:37Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000MgvX3IAJ"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-06-01T02:27:56Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-06-01T02:27:56Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>ipv6 기능을 비할성화한 상태에서 네트워크 기반의 데몬 프로세스 설정에 ipv6 관련 설정이 남아 있어서 인것으로 보입니다. <br>로그에 나타나는 데몬인 postfix 대한 설정 파일이나 sosreport 파일을 전달해주시면 검토해보겠습니다.<br><br>허 경 드림.<br><br><publishedDate>2018-06-01T02:27:56Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>