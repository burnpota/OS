======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-03-06T02:47:15Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-03-28T10:01:23Z</b><br><b>id : 500A000000ZsJbcIAF</b><br>======================<br><br><b><font size=15>
제목  : multipath 구성 관련 문의 (multipath와 veritas volumemanager 혼용 서버)
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>기술 문의 02038431 연장해서 문의드리려고 합니다.<br><br>linux multipath와 symantec volume manager dmp를 혼용으로 사용해야하는 서버에서 multipath 처리 방법에 대한 문의입니다.<br><br>아래와 같이 redhat os에서는 multipath.conf 설정 후 multipathd를 가동시키는 절차로 작업을 하려고 하는데 작업 전 문의를 드리려고 합니다.<br><br><br>root@SLPAFIAL01 /sysadmin/work/180313 # cat multipath.conf.180302<br># This is a basic configuration file with some examples, for device mapper<br># multipath.<br>#<br># For a complete list of the default configuration values, run either<br># multipath -t<br># or<br># multipathd show config<br>#<br># For a list of configuration options with descriptions, see the multipath.conf<br># man page<br><br>## By default, devices with vendor = &quot;IBM&quot; and product = &quot;S/390.*&quot; are<br>## blacklisted. To enable mulitpathing on these devies, uncomment the<br>## following lines.<br>#blacklist_exceptions {<br>#       device {<br>#               vendor  &quot;IBM&quot;<br>#               product &quot;S/390.*&quot;<br>#       }<br>#}<br><br>## Use user friendly names, instead of using WWIDs as names.<br>defaults {<br>        user_friendly_names yes<br>        find_multipaths no<br>}<br>##<br>## Here is an example of how to configure some standard options.<br>##<br>#<br>#defaults {<br>#       udev_dir                /dev<br>#       polling_interval        10<br>#       selector                &quot;round-robin 0&quot;<br>#       path_grouping_policy    multibus<br>#       uid_attribute           ID_SERIAL<br>#       prio                    alua<br>#       path_checker            readsector0<br>#       rr_min_io               100<br>#       max_fds                 8192<br>#       rr_weight               priorities<br>#       failback                immediate<br>#       no_path_retry           fail<br>#       user_friendly_names     yes<br>#}<br>##<br>## The wwid line in the following blacklist section is shown as an example<br>## of how to blacklist devices by wwid.  The 2 devnode lines are the<br>## compiled in default blacklist. If you want to blacklist entire types<br>## of devices, such as all scsi devices, you should use a devnode line.<br>## However, if you want to blacklist specific devices, you should use<br>## a wwid line.  Since there is no guarantee that a specific device will<br>## not change names on reboot (from /dev/sda to /dev/sdb for example)<br>## devnode lines are not recommended for blacklisting specific devices.<br>##<br>#blacklist {<br>#       wwid 26353900f02796769<br>#       devnode &quot;^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*&quot;<br>#       devnode &quot;^hd[a-z]&quot;<br>#}<br>#multipaths {<br>#       multipath {<br>#               wwid                    3600508b4000156d700012000000b0000<br>#               alias                   yellow<br>#               path_grouping_policy    multibus<br>#               path_checker            readsector0<br>#               path_selector           &quot;round-robin 0&quot;<br>#               failback                manual<br>#               rr_weight               priorities<br>#               no_path_retry           5<br>#       }<br>#       multipath {<br>#               wwid                    1DEC_____321816758474<br>#               alias                   red<br>#       }<br>#}<br>#devices {<br>#       device {<br>#               vendor                  &quot;COMPAQ  &quot;<br>#               product                 &quot;HSV110 (C)COMPAQ&quot;<br>#               path_grouping_policy    multibus<br>#               path_checker            readsector0<br>#               path_selector           &quot;round-robin 0&quot;<br>#               hardware_handler        &quot;0&quot;<br>#               failback                15<br>#               rr_weight               priorities<br>#               no_path_retry           queue<br>#       }<br>#       device {<br>#               vendor                  &quot;COMPAQ  &quot;<br>#               product                 &quot;MSA1000         &quot;<br>#               path_grouping_policy    multibus<br>#       }<br>#}<br><br>blacklist {<br>        devnode &quot;^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*&quot;<br>        wwid 3614187703270ae001dc4aef6039c5b70<br>        wwid 360060e8006d5e6000000d5e600002a0a ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0b ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0c ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0d ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0e ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0f ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a10 ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a11 ◀ symantec volume manager 사용 lun<br>}<br>multipaths {<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a00<br>                alias   ext0<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a01<br>                alias   ext1<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a02<br>                alias   ext2<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a03<br>                alias   ext3<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a04<br>                alias   ext4<br>        }<br>}<br><br>root@SLPAFIAL02 /sysadmin/work/180313 # cat multipath.conf.180302<br># This is a basic configuration file with some examples, for device mapper<br># multipath.<br>#<br># For a complete list of the default configuration values, run either<br># multipath -t<br># or<br># multipathd show config<br>#<br># For a list of configuration options with descriptions, see the multipath.conf<br># man page<br><br>## By default, devices with vendor = &quot;IBM&quot; and product = &quot;S/390.*&quot; are<br>## blacklisted. To enable mulitpathing on these devies, uncomment the<br>## following lines.<br>#blacklist_exceptions {<br>#       device {<br>#               vendor  &quot;IBM&quot;<br>#               product &quot;S/390.*&quot;<br>#       }<br>#}<br><br>## Use user friendly names, instead of using WWIDs as names.<br>defaults {<br>        user_friendly_names yes<br>        find_multipaths no<br>}<br>##<br>## Here is an example of how to configure some standard options.<br>##<br>#<br>#defaults {<br>#       udev_dir                /dev<br>#       polling_interval        10<br>#       selector                &quot;round-robin 0&quot;<br>#       path_grouping_policy    multibus<br>#       uid_attribute           ID_SERIAL<br>#       prio                    alua<br>#       path_checker            readsector0<br>#       rr_min_io               100<br>#       max_fds                 8192<br>#       rr_weight               priorities<br>#       failback                immediate<br>#       no_path_retry           fail<br>#       user_friendly_names     yes<br>#}<br>##<br>## The wwid line in the following blacklist section is shown as an example<br>## of how to blacklist devices by wwid.  The 2 devnode lines are the<br>## compiled in default blacklist. If you want to blacklist entire types<br>## of devices, such as all scsi devices, you should use a devnode line.<br>## However, if you want to blacklist specific devices, you should use<br>## a wwid line.  Since there is no guarantee that a specific device will<br>## not change names on reboot (from /dev/sda to /dev/sdb for example)<br>## devnode lines are not recommended for blacklisting specific devices.<br>##<br>#blacklist {<br>#       wwid 26353900f02796769<br>#       devnode &quot;^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*&quot;<br>#       devnode &quot;^hd[a-z]&quot;<br>#}<br>#multipaths {<br>#       multipath {<br>#               wwid                    3600508b4000156d700012000000b0000<br>#               alias                   yellow<br>#               path_grouping_policy    multibus<br>#               path_checker            readsector0<br>#               path_selector           &quot;round-robin 0&quot;<br>#               failback                manual<br>#               rr_weight               priorities<br>#               no_path_retry           5<br>#       }<br>#       multipath {<br>#               wwid                    1DEC_____321816758474<br>#               alias                   red<br>#       }<br>#}<br>#devices {<br>#       device {<br>#               vendor                  &quot;COMPAQ  &quot;<br>#               product                 &quot;HSV110 (C)COMPAQ&quot;<br>#               path_grouping_policy    multibus<br>#               path_checker            readsector0<br>#               path_selector           &quot;round-robin 0&quot;<br>#               hardware_handler        &quot;0&quot;<br>#               failback                15<br>#               rr_weight               priorities<br>#               no_path_retry           queue<br>#       }<br>#       device {<br>#               vendor                  &quot;COMPAQ  &quot;<br>#               product                 &quot;MSA1000         &quot;<br>#               path_grouping_policy    multibus<br>#       }<br>#}<br><br>blacklist {<br>        devnode &quot;^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*&quot;<br>        wwid 3614187703270a3001dc4ad5f0386bd3e<br>        wwid 360060e8006d5e6000000d5e600002a0a ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0b ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0c ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0d ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0e ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a0f ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a10 ◀ symantec volume manager 사용 lun<br>        wwid 360060e8006d5e6000000d5e600002a11 ◀ symantec volume manager 사용 lun<br>}<br>multipaths {<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a05<br>                alias   ext0<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a06<br>                alias   ext1<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a07<br>                alias   ext2<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a08<br>                alias   ext3<br>        }<br>        multipath {<br>                wwid    360060e8006d5e6000000d5e600002a09<br>                alias   ext4<br>        }<br>}<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLPAFIAL01 / SLPAFIAL02</hostname><br><br><br><comment id="a0aA000000LtB40IAF"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-07T04:52:57Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-07T04:52:57Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br><br>설정 내용에 문제는 없어보입니다.<br><br>고객포털에서 제공하고 있는 Multipath Helper 를 활용해서 생성되는 설정 파일과 비교해보시는 것도 좋을 것 같습니다. <br>https://access.redhat.com/labs/multipathhelper/<br><br>고맙습니다.<br>허 경 드림.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-07T04:52:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LsszbIAB"><br>======================<br><b>생성계정 : Huh, Kyung</b><br><b>생성날짜 : 2018-03-06T06:55:02Z</b><br><b>마지막 답변자 : Huh, Kyung</b><br><b>마지막 수정 일자 : 2018-03-06T06:55:02Z</b><br><br>안녕하세요? 레드햇 허경입니다.<br>Red Hat 기술지원 서비스를 이용해 주셔서 감사합니다.<br><br>문의하신 내용에 대해서 확인한 후 업데이트 드리겠습니다.<br><br>고맙습니다.<br>허 경 드림.<br><br>Regards,<br>Kyung Huh<br>Sr. Technical Account Manager<br>Customer Experience &amp; Engagement<br><br><publishedDate>2018-03-06T06:55:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>