======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-04-25T08:10:36Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-05-19T10:06:46Z</b><br><b>id : 500A000000aPz0cIAC</b><br>======================<br><br><b><font size=15>
제목  : iowait 현상 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>아래와 같이 서버에서 전체 cpu는 아니지만 특정 cpu만 사용해서<br>iowait가 발생하는 것 처럼보이는데요.<br><br>혹시 이 현상 관련해서 좀 더 상세히 분석하려면 어떠한 방법으로 해야하는지 문의드리려고 합니다.<br><br>op - 15:03:13 up 346 days,  6:44,  1 user,  load average: 1.31, 3.48, 12.27<br>Tasks: 520 total,   1 running, 519 sleeping,   0 stopped,   0 zombie<br>%Cpu0  :  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu1  :  0.7 us,  1.7 sy,  0.0 ni, 97.3 id,  0.0 wa,  0.0 hi,  0.3 si,  0.0 st<br>%Cpu2  :  0.7 us,  0.7 sy,  0.0 ni, 98.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu3  :  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu4  :  0.3 us,  0.0 sy,  0.0 ni, 99.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu5  : 97.7 us,  2.3 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem : 24150332 total,  1395368 free, 10075140 used, 12679824 buff/cache<br>KiB Swap:  8388604 total,  6590052 free,  1798552 used. 12957296 avail Mem<br><br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br>======================<br>top - 15:03:22 up 346 days,  6:44,  1 user,  load average: 1.28, 3.44, 12.21<br>Tasks: 520 total,   2 running, 518 sleeping,   0 stopped,   0 zombie<br>%Cpu0  :  2.1 us,  1.4 sy,  0.0 ni, 95.5 id,  0.7 wa,  0.0 hi,  0.3 si,  0.0 st<br>%Cpu1  :  0.7 us,  1.0 sy,  0.0 ni, 93.6 id,  4.7 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu2  :  0.7 us,  1.3 sy,  0.0 ni, 98.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu3  :  0.3 us,  0.3 sy,  0.0 ni, 99.3 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu4  :  0.0 us,  0.3 sy,  0.0 ni, 99.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>%Cpu5  : 98.0 us,  2.0 sy,  0.0 ni,  0.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st<br>KiB Mem : 24150332 total,  1052540 free, 10070808 used, 13026984 buff/cache<br>KiB Swap:  8388604 total,  6590052 free,  1798552 used. 12957608 avail Mem<br><br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br> 19124 ftsadm    20   0 6200848 1.453g   5952 S 100.0  6.3  38:06.00 java<br> 99803 ftsadm    20   0 5525156 122564   4776 S   2.6  0.5 256:18.98 httpd<br> 19144 ftsadm    20   0 6246596 1.715g   5728 S   2.0  7.4  39:30.06 java<br> 41935 root      20   0  610880  12616    868 S   1.3  0.1  23:18.30 ontuned<br> 11859 junadm    20   0 6201648 1.759g   5960 S   1.0  7.6   8:30.54 java<br>110594 root      20   0   42964   2448   1368 R   0.7  0.0   0:00.28 top<br>   141 root      20   0       0      0      0 S   0.3  0.0  43:42.86 rcuos/3<br>   579 root       0 -20       0      0      0 S   0.3  0.0  62:29.16 kworker/0:1H<br>   985 root      20   0  310416   5028   1412 S   0.3  0.0 120:02.53 vmtoolsd<br> 96541 splunk    20   0  267312  17320   3056 S   0.3  0.1 586:14.68 splunkd<br>     1 root      20   0   41432   2800   1472 S   0.0  0.0 261:29.18 system<br><br> - sar 정보<br>15:00:01        all      9.32      0.00      1.16      7.21      0.00     82.31<br>15:01:01        all      3.69      0.00      2.60     17.85      0.00     75.86<br>15:02:01        all     10.39      0.00      1.06      7.59      0.00     80.95<br>15:03:01        all      1.98      0.00      1.77     16.49      0.00     79.77<br>15:04:01        all     10.12      0.00      1.44      7.33      0.00     81.11<br>15:05:01        all      4.93      0.00      1.64     12.31      0.00     81.11<br>15:06:01        all      4.98      0.00      1.42     14.42      0.00     79.18<br>15:07:01        all      1.24      0.00      1.54     20.33      0.00     76.89<br>15:08:01        all      4.39      0.00      1.30     12.17      0.00     82.14<br>15:09:01        all      6.93      0.00      1.55      9.85      0.00     81.66<br>15:10:01        all      3.19      0.00      1.55     13.35      0.00     81.91<br>15:11:01        all      8.85      0.00      1.44     20.15      0.00     69.56<br>15:12:01        all      6.95      0.00      2.09     20.92      0.00     70.05<br><br>15:12:01        CPU     %user     %nice   %system   %iowait    %steal     %idle<br>15:13:01        all     10.80      0.00      1.82     13.59      0.00     73.79<br>15:14:01        all      5.46      0.00      1.36     23.64      0.00     69.53<br>15:15:01        all      5.04      0.00      1.44     11.49      0.00     82.02<br>15:16:01        all      4.41      0.00      1.18     12.41      0.00     82.00<br>15:17:01        all      9.37      0.00      1.29      7.89      0.00     81.46<br>15:18:01        all      3.32      0.00      1.70     13.68      0.00     81.30<br>15:19:01        all      8.27      0.00      1.21      8.26      0.00     82.26<br>15:20:01        all      8.84      0.00      1.22      7.76      0.00     82.19<br>15:21:01        all      6.21      0.00      2.80     11.44      0.00     79.55<br>15:22:01        all      5.67      0.00      2.14     19.46      0.00     72.74<br>15:23:01        all      3.08      0.00      2.02     17.78      0.00     77.11<br>15:24:01        all      3.18      0.00      1.48     21.31      0.00     74.03<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLPCISAL02</hostname><br><br><br><comment id="a0aA000000MR8tkIAD"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-04-30T02:15:58Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-04-30T02:15:58Z</b><br><br>안녕하세요, 김지민 선임님<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>먼저, 피드백 주셔서 감사드리며 application dump 분석을 진행하는 동안에 본 케이스는 대기상태로 남겨놓도록 하겠으며 이후에라도<br>저희 Red Hat 의 지원이 필요하시다면 언제든지 연락주시길 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2018-04-30T02:15:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MR8dnIAD"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-04-30T01:29:00Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-04-30T01:29:00Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>업무쪽 담당자 통해서 문제 상황에 대해서 재발생 시킨 후 데이터 수집을 제안했었는데<br><br>업무쪽에서 application dump 내용만 가지고 일단 분석을 진행시킬 예정이라고 하여서<br><br>요청하신 데이터는 바로 수집이 어려울 것 같습니다.<br><br>일단 application쪽 dump 분석 내용이 나오기 전까지는 보류해주셔도 될 것 같습니다.<br><br>확인 감사드립니다.<br><br><publishedDate>2018-04-30T01:29:00Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000MQWfLIAX"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-04-26T06:35:26Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-04-26T06:35:25Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>이전에 안내드린 내용과 더불어서 아래의 참고문서[1],[2]에서 기술이 된 진단방법도 같이 올려주시면 원인분석을 계속해서 하도록 하겠습니다.<br><br><br>[ 참고문서 ]<br><br>[1] How do I determine what processes are contributing to iowait?<br>- https://access.redhat.com/solutions/288803<br><br>[2] How do I determine what processes are contributing to iowait?<br>- https://access.redhat.com/solutions/288803<br><br>감사합니다.<br><br><publishedDate>2018-04-26T06:35:25Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MQWbOIAX"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-04-26T06:29:42Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-04-26T06:29:41Z</b><br><br>안녕하세요, 김지민 선임님<br><br>iowait 발생시 시스템에서 아래 명령어들의 실행결과와 sosreport 를 수집해서 케이스에 올려주시면 계속해서 지원하도록 하겠습니다.<br><br>$ top -n 5 -b &gt; /tmp/top.out<br>$ vmstat 1 50 &gt; /tmp/vm.out<br>$ iostat -x 2 10 &gt; /tmp/io.out<br>$ ps -aux &gt; /tmp/ps.out<br>$ sar 1 50 &gt; /tmp/sar.out<br>$ tar cjvf outputs.tar.bz2 \*out<br><br>감사합니다.<br><br><publishedDate>2018-04-26T06:29:41Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MQUfHIAX"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-04-26T02:46:57Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-04-26T02:46:57Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>현재 올려주신 문의내용을 자세히 살펴보고 있는중이며, 확인이 되는대로 업데이트를 남기도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-04-26T02:46:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>