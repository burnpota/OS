======================<br><b>생성계정 : 우택 심</b><br><b>생성날짜 : 2016-03-14T04:27:16Z</b><br><b>마지막 답변자 : 우택 심</b><br><b>마지막 수정 일자 : 2016-03-22T06:01:29Z</b><br><b>id : 500A000000TfQcJIAV</b><br>======================<br><br><b><font size=15>
제목  : /etc/pam.d/ 내 auth 패스워드 임계값 적용 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>현재 /etc/pam.d/ 내 auth 패스워드 임계값 적용을 위해 아래와 같이 2개 파일에 적용을 한 상태 입니다.<br><br>[root@PBWSAL04SL:/etc/pam.d] cat system-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 1000 quiet_success<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>#account     sufficient    pam_localuser.so<br>#account     sufficient    pam_succeed_if.so uid &lt; 1000 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>-session     optional      pam_systemd.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br> <br><br>[root@PBWSAL04SL:/etc/pam.d] cat password-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally2.so deny=4 unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 1000 quiet_success<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>#account     sufficient    pam_localuser.so<br>#account     sufficient    pam_succeed_if.so uid &lt; 1000 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>-session     optional      pam_systemd.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>password-auth  파일 2번째 라인에<br><br>auth        required      pam_tally2.so deny=4 unlock_time=1800<br><br>항목을 설정하였는데요,<br><br>궁금한 점은 해당 설정을 system-auth 파일과 password-auth 파일 둘 다 적용해야 하는지 궁금합니다.<br><br>그리고 2개 파일이 의미하는 각각의 역할도 확인 부탁 드립니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000Gj0dxIAB"><br>======================<br><b>생성계정 : Song, Chang-An</b><br><b>생성날짜 : 2016-03-14T06:47:34Z</b><br><b>마지막 답변자 : Song, Chang-An</b><br><b>마지막 수정 일자 : 2016-03-14T07:41:09Z</b><br><br>안녕하세요? Red Hat 송 창 안 입니다.<br><br>문의 주신 내용에 대해서 답변 하도록 하겠습니다.<br><br>system-auth는 로컬에서의 접근 관련된 정책이 모아져 있는 파일이며,  password-auth는 리모트에서의 접근 관련 정책이 지정된 파일 입니다.<br>둘다 pam_tally2 적용을 하시게 된다며, 로컬 과 리모트에서 접근 관련 정책이 적용되게 됩니다.<br><br>개인적인 의견으로는 각 서비스 별로 꼭 필요한 정책이 적용 되는 것에 대해서 좋은 방법으로 사료됩니다. <br>그 이유는 각 단계별로 정책을 검증하는 PAM의 구조에서 한개의 검증단계의 추가는 추가적인 지연이 발생되게 됩니다.<br><br>또한, 정책을 바꾸실 때 추가적으로 root 권한의 터미널을 새로 열고 테스트 하는 것을 권고 드리며, 만약 잘못된 정책이 추가 되었을 때의 사태에 대해서 미연에 방지 할 수 있는 장점이 있습니다.<br><br>감사합니다.<br>송 창 안 드림.<br><br><publishedDate>2016-03-14T06:47:33Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>현재 /etc/pam.d/ 내 auth 패스워드 임계값 적용을 위해 아래와 같이 2개 파일에 적용을 한 상태 입니다.<br><br>[root@PBWSAL04SL:/etc/pam.d] cat system-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 1000 quiet_success<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>#account     sufficient    pam_localuser.so<br>#account     sufficient    pam_succeed_if.so uid &lt; 1000 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>-session     optional      pam_systemd.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br> <br><br>[root@PBWSAL04SL:/etc/pam.d] cat password-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally2.so deny=4 unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 1000 quiet_success<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>#account     sufficient    pam_localuser.so<br>#account     sufficient    pam_succeed_if.so uid &lt; 1000 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_pwquality.so try_first_pass local_users_only retry=3 authtok_type=<br>password    sufficient    pam_unix.so sha512 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>-session     optional      pam_systemd.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so</issue><environment>password-auth  파일 2번째 라인에<br><br>auth        required      pam_tally2.so deny=4 unlock_time=1800<br><br>항목을 설정하였는데요,<br><br>궁금한 점은 해당 설정을 system-auth 파일과 password-auth 파일 둘 다 적용해야 하는지 궁금합니다.<br><br>그리고 2개 파일이 의미하는 각각의 역할도 확인 부탁 드립니다.<br><br>감사합니다.</environment><cep>false</cep></case>