======================<br><b>생성계정 : 타임 게이트</b><br><b>생성날짜 : 2016-06-05T19:22:02Z</b><br><b>마지막 답변자 : Jack, Jong Young Moon</b><br><b>마지막 수정 일자 : 2016-06-09T07:58:34Z</b><br><b>id : 500A000000UZRqqIAH</b><br>======================<br><br><b><font size=15>
제목  : iscsi 설정 관련
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>target 서버에 타겟을 2개 설정하고 한개의 initiator에 2개 타겟의  lun을 마운트 하고자 합니다.<br>하지만 2개 타겟의  acl 인증은 auth CHAP방식이고  각각 userid와 password가 다릅니다.<br>이 경우 1개의 initiator(/etc/iscsi/iscsi.conf)에서 auth 설정을 어떻게 해야하는지 궁금합니다.<br><br>iqn.2016-01.com.example:t1 .......................................................................................... [TPGs: 1]<br>  | o- tpg1 ................................................................................................. [no-gen-acls, no-auth]<br>  |   o- acls ............................................................................................................ [ACLs: 1]<br>  |   | o- iqn.2016-01.com.example:client ......................................................................... [Mapped LUNs: 3]<br>  |   |   o- mapped_lun0 ............................................................................. [lun0 fileio/shareddata (rw)]<br>  |   |   o- mapped_lun1 ............................................................................ [lun1 fileio/shareddata2 (rw)]<br>  |   |   o- mapped_lun2 ................................................................................... [lun2 fileio/isc1 (rw)]<br>  |   o- luns ............................................................................................................ [LUNs: 3]<br>  |   | o- lun0 .......................................................................... [fileio/shareddata (/opt/shareddata.img)]<br>  |   | o- lun1 ....................................................................... [fileio/shareddata2 (/opt/shareddata_2.img)]<br>  |   | o- lun2 ...................................................................................... [fileio/isc1 (/opt/isc1.img)]<br>  |   o- portals ...................................................................................................... [Portals: 1]<br>  |     o- 0.0.0.0:3260 ....................................................................................................... [OK]<br>  o- iqn.2016-06.com.redhat:t1 ........................................................................................... [TPGs: 1]<br>    o- tpg1 ................................................................................................. [no-gen-acls, no-auth]<br>      o- acls ............................................................................................................ [ACLs: 1]<br>      | o- iqn.2016-01.com.example:client ......................................................................... [Mapped LUNs: 1]<br>      |   o- mapped_lun0 ................................................................................... [lun0 fileio/isc2 (rw)]<br>      o- luns ............................................................................................................ [LUNs: 1]<br>      | o- lun0 ...................................................................................... [fileio/isc2 (/opt/isc2.img)]<br>      o- portals ....................................<br><br><br>target설정 부분 <br>&lt;iqn.2016-01.com.example:t11의 auth &gt;<br>userid = user<br>password = pass<br><br>&lt; iqn.2016-06.com.redhat:t1 의 auth&gt;<br>userid=user2<br>password = pass2<br><br><br>initiator 의 /etc/iscsi/iscsi.conf 의 auth 설정 부분<br><br>node.session.auth.username = user<br>node.session.auth.password = pass<br><br> 답변 부탁드립니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000HI4JFIA1"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2016-06-09T07:58:34Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2016-06-09T07:58:34Z</b><br><br>안녕하세요.<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>먼저, 피드백 감사드리며 문제가 잘 해결 되셨다니 정말 다행입니다. 말씀하신것과 같이 본 케이스는 처리완료하도록 하겠습니다.<br>만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재 오픈 하실 수 있습니다.<br><br>케이스가 처리 완료되면 고객 설문조사 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2016-06-09T07:58:34Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HI4F8IAL"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2016-06-09T07:48:37Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2016-06-09T07:48:37Z</b><br><br>감사합니다.<br><br><publishedDate>2016-06-09T07:48:37Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000HHSCdIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2016-06-07T07:57:33Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2016-06-07T07:57:32Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>/etc/iscsi/iscsid.conf 에 다중 계정을 등록하는 방법은 존재하지 않은것으로 확인됩니다.<br><br>다만, 아래의 참고문서[1]의 &quot;In order to login to multiple targets with CHAP authentication enabled&quot;<br>섹션에 있는 절차를 활용하시면 원하시는바를 구현하실 수 있을것입니다.<br><br>[ 참고문서 ]<br><br>[1] How to configure iscsi initiator with CHAP authentication in RHEL?<br>- https://access.redhat.com/solutions/29698<br><br><br>감사합니다.<br><br><publishedDate>2016-06-07T07:57:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HHPUsIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2016-06-07T01:11:31Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2016-06-07T01:11:30Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>현재 올려주신 문의내용을 자세히 살펴보고 있는중입니다. 확인이 되는대로 업데이트를 남기도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2016-06-07T01:11:30Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>하지만 2개 타겟의  acl 인증은 auth CHAP방식이고  각각 userid와 password가 다릅니다.<br>이 경우 1개의 initiator(/etc/iscsi/iscsi.conf)에서 auth 설정을 어떻게 해야하는지 궁금합니다.<br><br>iqn.2016-01.com.example:t1 .......................................................................................... [TPGs: 1]<br>  | o- tpg1 ................................................................................................. [no-gen-acls, no-auth]<br>  |   o- acls ............................................................................................................ [ACLs: 1]<br>  |   | o- iqn.2016-01.com.example:client ......................................................................... [Mapped LUNs: 3]<br>  |   |   o- mapped_lun0 ............................................................................. [lun0 fileio/shareddata (rw)]<br>  |   |   o- mapped_lun1 ............................................................................ [lun1 fileio/shareddata2 (rw)]<br>  |   |   o- mapped_lun2 ................................................................................... [lun2 fileio/isc1 (rw)]<br>  |   o- luns ............................................................................................................ [LUNs: 3]<br>  |   | o- lun0 .......................................................................... [fileio/shareddata (/opt/shareddata.img)]<br>  |   | o- lun1 ....................................................................... [fileio/shareddata2 (/opt/shareddata_2.img)]<br>  |   | o- lun2 ...................................................................................... [fileio/isc1 (/opt/isc1.img)]<br>  |   o- portals ...................................................................................................... [Portals: 1]<br>  |     o- 0.0.0.0:3260 ....................................................................................................... [OK]<br>  o- iqn.2016-06.com.redhat:t1 ........................................................................................... [TPGs: 1]<br>    o- tpg1 ................................................................................................. [no-gen-acls, no-auth]<br>      o- acls ............................................................................................................ [ACLs: 1]<br>      | o- iqn.2016-01.com.example:client ......................................................................... [Mapped LUNs: 1]<br>      |   o- mapped_lun0 ................................................................................... [lun0 fileio/isc2 (rw)]<br>      o- luns ............................................................................................................ [LUNs: 1]<br>      | o- lun0 ...................................................................................... [fileio/isc2 (/opt/isc2.img)]<br>      o- portals ....................................<br><br><br>target설정 부분 <br>&lt;iqn.2016-01.com.example:t11의 auth &gt;<br>userid = user<br>password = pass<br><br>&lt; iqn.2016-06.com.redhat:t1 의 auth&gt;<br>userid=user2<br>password = pass2<br><br><br>initiator 의 /etc/iscsi/iscsi.conf 의 auth 설정 부분<br><br>node.session.auth.username = user<br>node.session.auth.password = pass<br><br> 답변 부탁드립니다.</issue><cep>false</cep></case>