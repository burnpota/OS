======================<br><b>생성계정 : 우택 심</b><br><b>생성날짜 : 2016-12-01T07:42:11Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2016-12-09T02:09:28Z</b><br><b>id : 500A000000VoBGlIAN</b><br>======================<br><br><b><font size=15>
제목  : QMPRAL01SL 프로세스 OOM Kill 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>2016-12-01 09:29 경 QMPRAL01SL 시스템에서 pmtomatosx 프로세스가 oom kill 되는 문제가 발생되었습니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>해당 시간대 messages 로그를 확인해 보니 아래와 같이 로깅 되었습니다.<br><br># cat /var/log/messages | grep &quot;Dec  1 09:29:08&quot;<br>...<br>Dec  1 09:29:08 QMPRAL01SL kernel: pmtomatosx_u64_ invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0<br>Dec  1 09:29:08 QMPRAL01SL kernel: pmtomatosx_u64_ cpuset=/ mems_allowed=0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU: 1 PID: 92062 Comm: pmtomatosx_u64_ Tainted: P           OE  ------------   3.10.0-327.el7.x86_64 #1<br>Dec  1 09:29:08 QMPRAL01SL kernel: Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop Reference Platform, BIOS 6.00 09/21/2015<br>Dec  1 09:29:08 QMPRAL01SL kernel: ffff884e76610000 000000007df5defe ffff88187b437b00 ffffffff816351f1<br>Dec  1 09:29:08 QMPRAL01SL kernel: ffff88187b437b90 ffffffff81630191 ffff88030bb99980 ffff88030bb99998<br>Dec  1 09:29:08 QMPRAL01SL kernel: 0000000000000206 ffff884e76610000 ffff88187b437b78 ffffffff8112882f<br>Dec  1 09:29:08 QMPRAL01SL kernel: Call Trace:<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff816351f1&gt;] dump_stack+0x19/0x1b<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81630191&gt;] dump_header+0x8e/0x214<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8112882f&gt;] ? delayacct_end+0x8f/0xb0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116cdee&gt;] oom_kill_process+0x24e/0x3b0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116c956&gt;] ? find_lock_task_mm+0x56/0xc0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81088dae&gt;] ? has_capability_noaudit+0x1e/0x30<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116d616&gt;] out_of_memory+0x4b6/0x4f0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff811737f5&gt;] __alloc_pages_nodemask+0xa95/0xb90<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff811b78ca&gt;] alloc_pages_vma+0x9a/0x140<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81197655&gt;] handle_mm_fault+0xb85/0xf50<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81640e22&gt;] __do_page_fault+0x152/0x420<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81641113&gt;] do_page_fault+0x23/0x80<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8163d408&gt;] page_fault+0x28/0x30<br>Dec  1 09:29:08 QMPRAL01SL kernel: Mem-Info:<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32 per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:  186, btch:  31 usd:  30<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:  186, btch:  31 usd:  11<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:  186, btch:  31 usd:  17<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:  186, btch:  31 usd:  25<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:  186, btch:  31 usd:  10<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:  186, btch:  31 usd:   7<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:  186, btch:  31 usd:  25<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:  186, btch:  31 usd:   7<br>Dec  1 09:29:08 QMPRAL01SL kernel: active_anon:79555970 inactive_anon:1519384 isolated_anon:0#012 active_file:52 inactive_file:821 isolated_file:2#012 unevictable:0 dirty:0 writeback:0 unstable:0#012 free:339732 slab_reclaimable:39307 slab_unreclaimable:29959#012 mapped:6474 shmem:6503 pagetables:230086 bounce:0#012 free_cma:0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA free:15872kB min:0kB low:0kB high:0kB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:15988kB managed:15904kB mlocked:0kB dirty:0kB writeback:0kB mapped:0kB shmem:0kB slab_reclaimable:0kB slab_unreclaimable:32kB kernel_stack:0kB pagetables:0kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 2466 321936 321936<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32 free:1278264kB min:500kB low:624kB high:748kB active_anon:922668kB inactive_anon:308236kB active_file:0kB inactive_file:4kB unevictable:0kB isolated(anon):0kB isolated(file):8kB present:3129152kB managed:2525360kB mlocked:0kB dirty:0kB writeback:0kB mapped:24kB shmem:4kB slab_reclaimable:2236kB slab_unreclaimable:1376kB kernel_stack:80kB pagetables:5948kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:1 all_unreclaimable? no<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 0 319470 319470<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal free:64792kB min:65028kB low:81284kB high:97540kB active_anon:317301212kB inactive_anon:5769300kB active_file:212kB inactive_file:3280kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:332398592kB managed:327137500kB mlocked:0kB dirty:0kB writeback:0kB mapped:25872kB shmem:26008kB slab_reclaimable:154992kB slab_unreclaimable:118428kB kernel_stack:18256kB pagetables:914396kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:1534 all_unreclaimable? no<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 0 0 0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA: 0*4kB 0*8kB 0*16kB 0*32kB 2*64kB (U) 1*128kB (U) 1*256kB (U) 0*512kB 1*1024kB (U) 1*2048kB (M) 3*4096kB (M) = 15872kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32: 37*4kB (UEM) 47*8kB (UEM) 34*16kB (UEM) 75*32kB (UEM) 107*64kB (UEM) 88*128kB (UEM) 71*256kB (UEM) 27*512kB (UEM) 12*1024kB (UE) 4*2048kB (UM) 294*4096kB (UEMR) = 1278284kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal: 2630*4kB (UEM) 1495*8kB (UEM) 723*16kB (UEM) 875*32kB (UEM) 38*64kB (UM) 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 1*4096kB (R) = 68576kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=2048kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: 91762 total pagecache pages<br>Dec  1 09:29:08 QMPRAL01SL kernel: 84302 pages in swap cache<br>Dec  1 09:29:08 QMPRAL01SL kernel: Swap cache stats: add 845707260, delete 845609811, find 114573881/136240881<br>Dec  1 09:29:08 QMPRAL01SL kernel: Free swap  = 0kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Total swap = 134216696kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: 83885933 pages RAM<br>Dec  1 09:29:08 QMPRAL01SL kernel: 0 pages HighMem/MovableOnly<br>Dec  1 09:29:08 QMPRAL01SL kernel: 1466242 pages reserved<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ pid ]   uid  tgid total_vm      rss nr_ptes swapents oom_score_adj name<br>Dec  1 09:29:08 QMPRAL01SL kernel: [  768]     0   768    66485        0      30      134             0 lvmetad<br>Dec  1 09:29:08 QMPRAL01SL kernel: [  777]     0   777    11485        2      23      246         -1000 systemd-udevd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1130]     0  1130     6626       63      15       36             0 systemd-logind<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1135]     0  1135    80543      138      68     1396             0 vmtoolsd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1142]     0  1142    50838       10      40      115             0 gssproxy<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1144]     0  1144    92028     4662      89      115             0 rsyslogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1147]    81  1147     7202       81      17       45          -900 dbus-daemon<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1168]     0  1168     3640       20      10       28             0 rcagent<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1196]     0  1196    32515        2      19      135             0 smartd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1232]     0  1232    32103       28      21      134             0 crond<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1307]     0  1307     5618        0      13       89             0 sosd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1391]     0  1391     6888       19      14       67             0 rc_perf<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1406]     0  1406     4277       16      13       37             0 rc_schd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1418]     0  1418     6862       18      14       35             0 rc_orac<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1441]     0  1441     8423      322      15       63             0 rclogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1445]     0  1445     3819       28      11       38             0 seslogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1448]     0  1448    24248       18      15       40             0 ttylogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1454]     0  1454     3823       27      13       38             0 mod_sched<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1604]     0  1604    20638       13      43      201         -1000 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1610]     0  1610     7325       13      19       53             0 xinetd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2691]     0  2691    29326      132      27      699             0 python<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2692]     0  2692   213661     6068      95     2383             0 python<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2709]     0  2709    41200       49      28      196             0 pbx_exchange<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2717]     0  2717    27508        1      10       28             0 agetty<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2738]     0  2738    45036       48      33      113             0 vnetd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2745]     0  2745    54173       50      48      237             0 bpcd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2777]     0  2777    43913       66      27     1605             0 saphostexec<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2802]   989  2802    28552       17      14       15             0 uuidd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2809] 20394  2809   214315     3622      88     5609             0 sapstartsrv<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2837]     0  2837   198545      261     109     1010             0 nbdisco<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2902]     0  2902    78523        8      38      221             0 mtstrmd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 3024]  1231  3024   126647       66      52     2674             0 sapstartsrv<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 3419]     0  3419     8287      750      21     1195             0 saposcol<br>Dec  1 09:29:08 QMPRAL01SL kernel: [32799] 20204 32799  9592860   269595     863    60071             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [29495]   999 29495   134811      106      58      847             0 polkitd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [29643]    38 29643     7356       36      18      114             0 ntpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [61123]     0 61123    20484     9421      44       40             0 systemd-journal<br>Dec  1 09:29:08 QMPRAL01SL kernel: [116632]  1108 116632    28313        2      12       82             0 sh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [116704]  1108 116704  1822457   184388     765   127243             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117464]  1108 117464    28279        0      12       51             0 sh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117469]  1108 117469    28313        2      12       82             0 startWebLogic.s<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117536]  1108 117536  2142554   232748     701    40999             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70697]  1108 70697    60193       45     116      622             0 httpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70698]  1108 70698     8289        0      18       65             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70699]  1108 70699     8289        0      18       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70700]  1108 70700     8289        0      19       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70701]  1108 70701     8289        0      19       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70734]  1108 70734   110435        7     181      849             0 httpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58470]     0 58470     1907       58       9        8             0 mxGATE<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58506]     0 58506     4621      111      15     1877             0 mxLOG<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58639]     0 58639     1880       24       9       14             0 mxMON<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58664]     0 58664     1910       29       9       12             0 mxSENSOR<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58689]     0 58689     6564      591      17     1954             0 mxSMS<br>Dec  1 09:29:08 QMPRAL01SL kernel: [107104] 20204 107104  9112760   406736    1382   139468             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92037] 20204 92037  4853052  3064579    8677  1235791             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92052] 20204 92052 26050965  6871874   48199 17068877             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92121] 20204 92121 76992161 65282420  148126 10017972             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92195] 20204 92195 10429886  4645777   18960  4791246             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94699]     0 94699    37072      399      71        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94701] 32301 94701    37105      397      70        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94702] 32301 94702     3317       72      10        0             0 RestrictedShell<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94710] 32301 94710     6992      133      19        0             0 pbksh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111665] 32301 111665    29212       83      13        0             0 runAs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111701] 32301 111701    23379      256      50        0             0 pbrun<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111803]     0 111803     2908       65      11        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111821]     0 111821     3275      436      12        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111858]     0 111858    21016      144      44        0             0 su<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111859] 20204 111859    30055      346      16        0             0 csh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119072]     0 119072    37072      399      76        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119074] 32301 119074    37105      400      72        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119075] 32301 119075     3317       73      10        0             0 RestrictedShell<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119083] 32301 119083     6992      132      18        0             0 pbksh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119104] 32301 119104    29212       84      12        0             0 runAs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119140] 32301 119140    23379      261      49        0             0 pbrun<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119141]     0 119141     2908       65      11        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119159]     0 119159     3275      437      12        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119196]     0 119196    21240      144      44        0             0 su<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119197] 20204 119197    29909      198      15        0             0 csh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119219] 20204 119219    36671      302      27        0             0 top<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2243]     0  2243     3643       59      10       13             0 rcagent<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 6422]     0  6422     8287      628      20     1192             0 saposcol<br>Dec  1 09:29:08 QMPRAL01SL kernel: Out of memory: Kill process 92121 (pmtomatosx_u64_) score 650 or sacrifice child<br>Dec  1 09:29:08 QMPRAL01SL kernel: Killed process 92121 (pmtomatosx_u64_) total-vm:307968644kB, anon-rss:261129680kB, file-rss:0kB<br><br>==========================================================================================<br><br># ps -ef | grep pmtomatosx<br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br> 92037 msgadmin  20   0 32.294g 0.027t   5992 S 346.9  8.9   6518:53 pmtomatosx_u64_<br> 12208 msgadmin  20   0 18.517g 0.013t  24592 S 148.8  4.2 100:12.74 pmtomatosx_u64_<br> 92052 msgadmin  20   0  0.104t 0.046t   6748 S  70.0 15.1   1558:28 pmtomatosx_u64_<br> 92195 msgadmin  20   0 39.714g 0.023t   9112 S  13.5  7.6   1052:03 pmtomatosx_u64_<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>해당 시간대의 SAR 데이터는 아래와 같습니다.<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -S<br>09:15:01    kbswpfree kbswpused  %swpused  kbswpcad   %swpcad<br>09:16:01    132816336   1400360      1.04    395064     28.21<br>09:17:01    132816344   1400352      1.04    395056     28.21<br>09:18:01    132816348   1400348      1.04    395084     28.21<br>09:19:01    132816348   1400348      1.04    395084     28.21<br>09:20:02    132816348   1400348      1.04    394012     28.14<br>09:21:01    114225728  19990968     14.89    376612      1.88<br>09:22:02    101832452  32384244     24.13   1532172      4.73<br>09:23:01     90158004  44058692     32.83    977200      2.22<br>09:24:01     71097576  63119120     47.03    550416      0.87<br>09:25:01     58320088  75896608     56.55    707940      0.93<br>09:26:01     43497548  90719148     67.59    361016      0.40<br>09:27:01     26644820 107571876     80.15    160980      0.15<br>09:28:02      9476176 124740520     92.94    853492      0.68<br>09:29:02        38196 134178500     99.97    388168      0.29<br>09:30:01     41891720  92324976     68.79    599708      0.65<br>09:31:01     45426004  88790692     66.15   1481064      1.67<br>09:32:01     46001192  88215504     65.73   1729080      1.96<br>09:33:01     46634112  87582584     65.25   2004480      2.29<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -r<br>09:15:01    kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty<br>09:16:01     41321260 288357504     87.47         0  11371788  51888832     11.19 279513468   4728564    239820<br>09:17:01     36273320 293405444     89.00         0  11140500  56388688     12.16 284793144   4490848    718628<br>09:18:01     33463560 296215204     89.85         0  12380192  58098656     12.52 286500212   5559812    555304<br>09:19:01     23093192 306585572     93.00         0  11889956  70645352     15.23 297328464   5088740    369420<br>09:20:02      1401760 328277004     99.57         0    618508 103014296     22.21 317768608   6376560        68<br>09:21:01      1361548 328317216     99.59         0     61472 121380620     26.17 318092864   6097220         0<br>09:22:02      1360108 328318656     99.59         0     73024 133475124     28.77 318087636   6098424         0<br>09:23:01      1761288 327917476     99.47         0    181568 144988188     31.25 317512860   6239924      5776<br>09:24:01      1359688 328319076     99.59         0     57516 164848608     35.54 318070680   6091012         0<br>09:25:01      1954040 327724724     99.41         0     98000 178184296     38.41 317433408   6124484       500<br>09:26:01      1361532 328317232     99.59         0     68748 193362308     41.68 318071592   6094400         0<br>09:27:01      1359852 328318912     99.59         0     72108 209595192     45.18 318076720   6099804         0<br>09:28:02      1365392 328313372     99.59         0     59120 225252244     48.56 318075572   6089020         0<br>09:29:02      1359360 328319404     99.59         0     76560 236165128     50.91 318211788   6098572         0<br>09:30:01    253389432  76289332     23.14         0   1674504  36999728      7.98  68865304   3971068    537144<br>09:31:01    214510288 115168476     34.93         0   2306656  70284848     15.15 103638336   7982572    470452<br>09:32:01    175095344 154583420     46.89         0   2281708 109292044     23.56 142099388   8854368    328016<br>09:33:01    131084712 198594052     60.24         0   1968408 151964252     32.76 185477716   9412924    203676<br>09:34:01     88443456 241235308     73.17         0   2128004 193075036     41.62 227107720  10338020    645396<br>09:35:01     48430136 281248628     85.31         0   3594136 231924688     50.00 264856416  12492200   1022268<br>09:36:01     12382124 317296640     96.24         0   3046600 269166272     58.02 301215908  12124004    785784<br>09:37:01      1359296 328319468     99.59         0     63660 284512012     61.33 318294932   6101732         0<br>09:38:01      4742744 324936020     98.56         0    606348 282060880     60.80 314385332   6621216     20432<br>09:39:01      3346588 326332176     98.98         0   1227176 282060404     60.80 315019948   7376136     21968<br>09:40:01      1497980 328180784     99.55         0     85264 284749448     61.38 318008180   6242232         0<br>09:41:01      2280084 327398680     99.31         0    723240 283336960     61.08 316464264   6995292     79864<br>09:42:01      1401384 328277380     99.57         0    986532 283888640     61.20 317426020   6919740     36016<br>09:43:02      1385272 328293492     99.58         0     87824 287010216     61.87 318247568   6111984       716<br>09:44:01     46251252 283427512     85.97         0    485620 287308792     61.93 273280676   6208312     72048<br>09:45:01    255380000  74298764     22.54         0   3169300  33656648      7.26  61573076   9231312    507760<br>09:46:01    256347220  73331544     22.24         0   2919692  32086940      6.92  61198452   8638532   1244908<br>09:47:01    250284220  79394544     24.08         0   3468056  36342656      7.83  65648136  10202792    630804<br>09:48:01    254273976  75404788     22.87         0   2179776  34051052      7.34  62915468   8987860    265380<br>09:49:01    249868568  79810196     24.21         0   2448028  36372212      7.84  66862012   9433216    603620<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -p<br>09:15:01        CPU     %user     %nice   %system   %iowait    %steal     %idle<br>09:16:01        all      9.06      0.00      8.34      0.02      0.00     82.57<br>09:17:01        all      9.31      0.00      8.16      0.01      0.00     82.52<br>09:18:01        all      9.65      0.00      8.24      0.03      0.00     82.09<br>09:19:01        all     12.77      0.00      9.33      0.02      0.00     77.88<br>09:20:02        all      9.34      0.00     10.18      2.46      0.00     78.02<br>09:21:01        all      5.12      0.00     15.28      8.77      0.00     70.82<br>09:22:02        all      6.38      0.00     25.82     15.31      0.00     52.49<br>09:23:01        all      8.08      0.00     23.16     12.70      0.00     56.06<br>09:24:01        all      4.14      0.00     15.78      7.70      0.00     72.39<br>09:25:01        all      5.46      0.00     20.04      8.43      0.00     66.07<br>09:26:01        all      6.36      0.00     20.79      6.43      0.00     66.41<br>09:27:01        all      5.53      0.00     19.82     10.50      0.00     64.16<br>09:28:02        all      5.79      0.00     23.23     12.10      0.00     58.88<br>09:29:02        all      9.95      0.00     28.22     13.28      0.00     48.55<br>09:30:01        all      9.23      0.00     15.50      8.50      0.00     66.76<br>09:31:01        all     12.72      0.00     11.35      4.71      0.00     71.22<br>09:32:01        all     11.70      0.00     10.48      1.35      0.00     76.48<br>09:33:01        all     10.05      0.00      9.99      1.49      0.00     78.47<br>09:34:01        all     13.94      0.00     10.67      1.73      0.00     73.66<br>09:35:01        all     11.91      0.00     10.47      0.94      0.00     76.68<br>09:36:01        all     16.16      0.00     10.73      1.11      0.00     72.01<br>09:37:01        all     11.34      0.00     14.90      4.34      0.00     69.42<br>09:38:01        all      5.99      0.00      8.81      1.11      0.00     84.09<br>09:39:01        all      6.09      0.00      7.27      0.67      0.00     85.97<br>09:40:01        all      5.87      0.00      7.75      1.10      0.00     85.29<br>09:41:01        all      6.53      0.00      9.38      1.54      0.00     82.55<br>09:42:01        all      3.75      0.00      7.09      0.10      0.00     89.07<br>09:43:02        all      5.97      0.00      9.76      1.52      0.00     82.75<br>09:44:01        all      6.07      0.00      9.92      1.61      0.00     82.40<br>09:45:01        all     13.58      0.00     11.82      0.99      0.00     73.61<br>09:46:01        all     15.45      0.00     10.85      1.13      0.00     72.57<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -q<br>09:15:01      runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked<br>09:16:01            2       992      8.73      8.74      7.74         0<br>09:17:01            3       993      9.06      8.79      7.82         0<br>09:18:01            6       993      9.27      8.92      7.93         0<br>09:19:01            3       994     10.35      9.28      8.11         0<br>09:20:02            4       998     10.99      9.67      8.32         0<br>09:21:01            7      1005     11.59     10.06      8.53         2<br>09:22:02            8      1008     14.69     11.17      9.01         1<br>09:23:01            9      1014     15.56     11.98      9.41         2<br>09:24:01            6      1016     14.08     12.24      9.67         1<br>09:25:01            8      1021     14.80     12.81     10.03         2<br>09:26:01            4      1019     14.99     13.19     10.32         1<br>09:27:01            5      1020     15.16     13.62     10.67         1<br>09:28:02           10      1024     16.79     14.25     11.06         1<br>09:29:02            5      1023     17.76     15.03     11.53         3<br>09:30:01            4      1008     17.42     15.64     11.96         2<br>09:31:01            6      1006     14.91     15.26     12.06         0<br>09:32:01            3      1005     13.34     14.79     12.10         0<br>09:33:01            7      1004     10.04     13.63     11.87         0<br>09:34:01            5       984      9.96     12.88     11.72         1<br>09:35:01            7       982      9.44     12.24     11.57         1<br>09:36:01            6       982     10.95     12.14     11.58         0<br>09:37:01            7       989     12.55     12.38     11.70         1<br>09:38:01            4       990     10.71     11.91     11.59         0<br>09:39:01            3       990     10.24     11.55     11.48         1<br>09:40:01            3       990     10.51     11.38     11.43         0<br>09:41:01            3       992     10.92     11.34     11.41         0<br>09:42:01            1       992     10.29     11.08     11.31         0<br>09:43:02            3       992      9.86     10.83     11.22         0<br>09:44:01            4      1012     10.64     10.84     11.19         0<br>09:45:01            5       997     13.92     11.84     11.52         0<br>09:46:01           10       997     13.28     12.00     11.60         0<br>09:47:01            3       995     12.17     11.94     11.60         0<br><br>09:29:02 시간에 SWAP 사용율도 거의 100% 가까이 올랐는데요,<br><br>현재 시스템의 oom 원인과 특이 사항에 대해 확인 부탁 드립니다.<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>관련 분석 데이터를 dropbox.redhat.com 에 아래 파일명으로 업로드 하였습니다.<br><br>* sosreport-QMPRAL01SL-20161201154045.tar.xz<br>* sosreport-LOG-QMPRAL01SL-20161201154045.tar.gz<br>* proc_92037.tar.gz<br>* proc_92037_smap -&gt; /proc/92037/smap 내용<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br>======================<br><comment id="a0aA000000IU3OEIA1"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-12-09T02:09:27Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-12-09T02:09:27Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-12-09T02:09:27Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IKN7jIAH"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-12-05T00:59:26Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-12-05T00:59:25Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-12-05T00:59:25Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IK6HgIAL"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-12-02T00:35:52Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-12-02T00:35:52Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>12:00:01 AM  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff<br>09:20:02 AM   6769.87  17524.80 182080.78      2.17  96580.56  41316.52   2148.13  41850.68     96.29<br>09:21:01 AM  75536.36 325426.00  95491.57    349.53 113399.98 109437.74  85578.44 101040.88     51.81<br>09:22:02 AM 156338.85 247486.16  86292.83   1813.94 117670.75  51760.51 103131.10  87480.57     56.48<br>09:23:01 AM 145882.57 241430.96 101298.78   1503.40 133622.62  50950.42 104211.18  90025.82     58.02<br>09:24:01 AM  65264.98 334723.40 101247.41    768.29 112542.85  92812.27  93654.28  98135.11     52.63<br>09:25:01 AM 123805.88 246055.49  94706.85   1481.81 120950.79  61022.44  88419.12  83862.66     56.12<br>09:26:01 AM 131246.23 289278.51 105494.82   1378.58 128240.47  67737.92 108621.47  98168.58     55.66<br>09:27:01 AM 117272.72 305271.27  89196.28    846.05 115731.02  74122.90 107893.42 101899.53     55.98<br>09:28:02 AM 118854.00 325372.59 107634.40   1423.84 129689.38  80011.57 102138.60  99513.79     54.63<br>09:29:02 AM 163913.07 213724.01 128282.73   1592.62 162532.97  49139.39 113933.37  85056.32     52.16<br>09:30:01 AM  81977.25  12489.79  81214.69   1403.06 1162600.07   3524.04  37177.67   4742.77     11.65<br>09:31:01 AM  73854.36  18802.73 224367.74   2425.03  69015.04      0.00      0.00      0.00      0.00<br>09:32:01 AM  13792.60  16158.88 225551.18    449.48  66284.73      0.00      0.00      0.00      0.00<br>09:33:01 AM  15290.42  13208.28 221515.54    513.14  42607.43      0.00      0.00      0.00      0.00<br>09:34:01 AM  15707.46  14129.56 268760.86    561.56  99194.69      0.00      0.00      0.00      0.00<br>09:35:01 AM   8840.17  21822.73 267820.17    282.36 108624.18      0.00      0.00      0.00      0.00<br>09:36:01 AM   6661.56  33190.71 266315.96    217.12 124683.43      0.00      0.00      0.00      0.00<br>09:37:01 AM 102403.13  58928.32 142124.54   1054.81 118346.24  52443.05  39902.03  48595.54     52.62<br>09:38:01 AM  38909.04  33781.50  26578.55    176.65  49813.57  10612.14   9532.42  11959.72     59.37<br>09:39:01 AM  22155.50   2870.82  19739.72    245.09  18303.60      0.00      0.00      0.00      0.00<br>09:40:01 AM   9363.21  20759.60  40507.09    130.60  36678.11   9528.07   3563.93  10005.16     76.42<br>09:41:01 AM  50978.33  44978.72  41263.50    406.71  57048.18  16446.13   8168.89  14490.69     58.87<br>09:42:01 AM   7990.81   4254.37  18221.52     13.76  16695.99    611.27     70.07    583.51     85.64<br>09:43:02 AM  32011.92  61331.58  52416.33    135.21  62473.40  31049.44  14959.96  27459.35     59.68<br>09:44:01 AM  36166.64  44709.59  38135.33    299.75 237697.95  19050.57   8426.91  16047.03     58.40<br>09:45:01 AM  25581.21  27197.14 119625.68    254.60 1004220.62      0.00      0.00      0.00      0.00<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal free:64792kB min:65028kB low:81284kB high:97540kB active_anon:317301212kB inactive_anon:5769300kB active_file:212kB <br>                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ free &lt; min<br><br>inactive_file:3280kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:332398592kB managed:327137500kB mlocked:0kB dirty:0kB writeback:0kB mapped:25872kB shmem:26008kB slab_reclaimable:154992kB slab_unreclaimable:118428kB kernel_stack:18256kB pagetables:914396kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:1534 all_unreclaimable? no<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: Free swap  = 0kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Total swap = 134216696kB<br><br>Node 0 Normal 에 free 영역이 min 보다 작아서 oom 이 발동한 것을 확인하였습니다.<br>해당 시점에 특정 애플리케이션(PID:92062)이 페이지를 요청하였으나, 여유 페이지가 부족하여 지속적으로 여유페이지를 검색하는 pgscank/s pgscand/s 수치도 높은 것을 확인할 수 있습니다.<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU: 1 PID: 92062 Comm: pmtomatosx_u64_ Tainted: P           OE  ------------   3.10.0-327.el7.x86_64 #1<br><br>아래 여유 페이지 역시도 부족한 상황이었음을 확인하였습니다.<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal: 2630*4kB (UEM) 1495*8kB (UEM) 723*16kB (UEM) 875*32kB (UEM) 38*64kB (UM) 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 1*4096kB (R) = 68576kB<br><br>pmtomatosx_u64_ 프로세스가 다소 많은 메모리를 사용중인 것으로 확인됩니다.<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: [92037] 20204 92037  4853052  3064579    8677  1235791             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92052] 20204 92052 26050965  6871874   48199 17068877             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92121] 20204 92121 76992161 65282420  148126 10017972             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92195] 20204 92195 10429886  4645777   18960  4791246             0 pmtomatosx_u64_<br><br>결과적으로 페이지 확보를 위해 강제로 92121 프로세스를 종료하여 페이지를 확보한 것으로 확인되며, 이후 정상 서비스 상태가 되었음을 확인하였습니다.<br><br>Dec  1 09:29:08 QMPRAL01SL kernel: Out of memory: Kill process 92121 (pmtomatosx_u64_) score 650 or sacrifice child<br>Dec  1 09:29:08 QMPRAL01SL kernel: Killed process 92121 (pmtomatosx_u64_) total-vm:307968644kB, anon-rss:261129680kB, file-rss:0kB<br><br>해당 파라메터에 의한 커널 최소 여유 설정이 다소 적은 것으로 확인됩니다.<br><br>$ cat proc/sys/vm/min_free_kbytes <br>65536<br><br><br>따라서, 아래 조치들이 필요합니다.<br><br>1. pmtomatosx_u64_ 프로세스의 메모리 사용량 점검(메모리 릭등)<br>2. vm.min_free_kbytes 값을 3배 증가로 커널 여유 공간 확보<br>   echo &quot;196608&quot; &gt; /proc/sys/vm/min_free_kbytes<br><br>* All about &quot;min_free_kbytes&quot; parameter <br>  https://access.redhat.com/solutions/336033<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-12-02T00:35:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IJtoVIAT"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-12-01T07:44:17Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-12-01T07:44:16Z</b><br><br>해당 시스템의 pmtomatosx 프로세스가 oom kill 되긴 하였으나,<br><br>아직 시스템은 정상적으로 유지되고 있으며, 운영체제 상 특별한 로그는 발견하지 못했습니다.<br><br>하지만 SWAP 은 꾸준히 60% 이상 유지되고 있습니다. (모니터링 결과 조금씩 감소 중입니다.)<br><br>감사합니다.<br><br><publishedDate>2016-12-01T07:44:16Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br><br>2016-12-01 09:29 경 QMPRAL01SL 시스템에서 pmtomatosx 프로세스가 oom kill 되는 문제가 발생되었습니다.</issue><environment>해당 시간대 messages 로그를 확인해 보니 아래와 같이 로깅 되었습니다.<br><br># cat /var/log/messages | grep &quot;Dec  1 09:29:08&quot;<br>...<br>Dec  1 09:29:08 QMPRAL01SL kernel: pmtomatosx_u64_ invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0<br>Dec  1 09:29:08 QMPRAL01SL kernel: pmtomatosx_u64_ cpuset=/ mems_allowed=0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU: 1 PID: 92062 Comm: pmtomatosx_u64_ Tainted: P           OE  ------------   3.10.0-327.el7.x86_64 #1<br>Dec  1 09:29:08 QMPRAL01SL kernel: Hardware name: VMware, Inc. VMware Virtual Platform/440BX Desktop Reference Platform, BIOS 6.00 09/21/2015<br>Dec  1 09:29:08 QMPRAL01SL kernel: ffff884e76610000 000000007df5defe ffff88187b437b00 ffffffff816351f1<br>Dec  1 09:29:08 QMPRAL01SL kernel: ffff88187b437b90 ffffffff81630191 ffff88030bb99980 ffff88030bb99998<br>Dec  1 09:29:08 QMPRAL01SL kernel: 0000000000000206 ffff884e76610000 ffff88187b437b78 ffffffff8112882f<br>Dec  1 09:29:08 QMPRAL01SL kernel: Call Trace:<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff816351f1&gt;] dump_stack+0x19/0x1b<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81630191&gt;] dump_header+0x8e/0x214<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8112882f&gt;] ? delayacct_end+0x8f/0xb0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116cdee&gt;] oom_kill_process+0x24e/0x3b0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116c956&gt;] ? find_lock_task_mm+0x56/0xc0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81088dae&gt;] ? has_capability_noaudit+0x1e/0x30<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8116d616&gt;] out_of_memory+0x4b6/0x4f0<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff811737f5&gt;] __alloc_pages_nodemask+0xa95/0xb90<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff811b78ca&gt;] alloc_pages_vma+0x9a/0x140<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81197655&gt;] handle_mm_fault+0xb85/0xf50<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81640e22&gt;] __do_page_fault+0x152/0x420<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff81641113&gt;] do_page_fault+0x23/0x80<br>Dec  1 09:29:08 QMPRAL01SL kernel: [&lt;ffffffff8163d408&gt;] page_fault+0x28/0x30<br>Dec  1 09:29:08 QMPRAL01SL kernel: Mem-Info:<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:    0, btch:   1 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32 per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:  186, btch:  31 usd:  30<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal per-cpu:<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    0: hi:  186, btch:  31 usd:  11<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    1: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    2: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    3: hi:  186, btch:  31 usd:  17<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    4: hi:  186, btch:  31 usd:  25<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    5: hi:  186, btch:  31 usd:  10<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    6: hi:  186, btch:  31 usd:   7<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    7: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    8: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU    9: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   10: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   11: hi:  186, btch:  31 usd:  25<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   12: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   13: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   14: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   15: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   16: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   17: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   18: hi:  186, btch:  31 usd:   0<br>Dec  1 09:29:08 QMPRAL01SL kernel: CPU   19: hi:  186, btch:  31 usd:   7<br>Dec  1 09:29:08 QMPRAL01SL kernel: active_anon:79555970 inactive_anon:1519384 isolated_anon:0#012 active_file:52 inactive_file:821 isolated_file:2#012 unevictable:0 dirty:0 writeback:0 unstable:0#012 free:339732 slab_reclaimable:39307 slab_unreclaimable:29959#012 mapped:6474 shmem:6503 pagetables:230086 bounce:0#012 free_cma:0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA free:15872kB min:0kB low:0kB high:0kB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:15988kB managed:15904kB mlocked:0kB dirty:0kB writeback:0kB mapped:0kB shmem:0kB slab_reclaimable:0kB slab_unreclaimable:32kB kernel_stack:0kB pagetables:0kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 2466 321936 321936<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32 free:1278264kB min:500kB low:624kB high:748kB active_anon:922668kB inactive_anon:308236kB active_file:0kB inactive_file:4kB unevictable:0kB isolated(anon):0kB isolated(file):8kB present:3129152kB managed:2525360kB mlocked:0kB dirty:0kB writeback:0kB mapped:24kB shmem:4kB slab_reclaimable:2236kB slab_unreclaimable:1376kB kernel_stack:80kB pagetables:5948kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:1 all_unreclaimable? no<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 0 319470 319470<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal free:64792kB min:65028kB low:81284kB high:97540kB active_anon:317301212kB inactive_anon:5769300kB active_file:212kB inactive_file:3280kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:332398592kB managed:327137500kB mlocked:0kB dirty:0kB writeback:0kB mapped:25872kB shmem:26008kB slab_reclaimable:154992kB slab_unreclaimable:118428kB kernel_stack:18256kB pagetables:914396kB unstable:0kB bounce:0kB free_cma:0kB writeback_tmp:0kB pages_scanned:1534 all_unreclaimable? no<br>Dec  1 09:29:08 QMPRAL01SL kernel: lowmem_reserve[]: 0 0 0 0<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA: 0*4kB 0*8kB 0*16kB 0*32kB 2*64kB (U) 1*128kB (U) 1*256kB (U) 0*512kB 1*1024kB (U) 1*2048kB (M) 3*4096kB (M) = 15872kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 DMA32: 37*4kB (UEM) 47*8kB (UEM) 34*16kB (UEM) 75*32kB (UEM) 107*64kB (UEM) 88*128kB (UEM) 71*256kB (UEM) 27*512kB (UEM) 12*1024kB (UE) 4*2048kB (UM) 294*4096kB (UEMR) = 1278284kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 Normal: 2630*4kB (UEM) 1495*8kB (UEM) 723*16kB (UEM) 875*32kB (UEM) 38*64kB (UM) 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 1*4096kB (R) = 68576kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=2048kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: 91762 total pagecache pages<br>Dec  1 09:29:08 QMPRAL01SL kernel: 84302 pages in swap cache<br>Dec  1 09:29:08 QMPRAL01SL kernel: Swap cache stats: add 845707260, delete 845609811, find 114573881/136240881<br>Dec  1 09:29:08 QMPRAL01SL kernel: Free swap  = 0kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: Total swap = 134216696kB<br>Dec  1 09:29:08 QMPRAL01SL kernel: 83885933 pages RAM<br>Dec  1 09:29:08 QMPRAL01SL kernel: 0 pages HighMem/MovableOnly<br>Dec  1 09:29:08 QMPRAL01SL kernel: 1466242 pages reserved<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ pid ]   uid  tgid total_vm      rss nr_ptes swapents oom_score_adj name<br>Dec  1 09:29:08 QMPRAL01SL kernel: [  768]     0   768    66485        0      30      134             0 lvmetad<br>Dec  1 09:29:08 QMPRAL01SL kernel: [  777]     0   777    11485        2      23      246         -1000 systemd-udevd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1130]     0  1130     6626       63      15       36             0 systemd-logind<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1135]     0  1135    80543      138      68     1396             0 vmtoolsd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1142]     0  1142    50838       10      40      115             0 gssproxy<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1144]     0  1144    92028     4662      89      115             0 rsyslogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1147]    81  1147     7202       81      17       45          -900 dbus-daemon<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1168]     0  1168     3640       20      10       28             0 rcagent<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1196]     0  1196    32515        2      19      135             0 smartd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1232]     0  1232    32103       28      21      134             0 crond<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1307]     0  1307     5618        0      13       89             0 sosd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1391]     0  1391     6888       19      14       67             0 rc_perf<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1406]     0  1406     4277       16      13       37             0 rc_schd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1418]     0  1418     6862       18      14       35             0 rc_orac<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1441]     0  1441     8423      322      15       63             0 rclogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1445]     0  1445     3819       28      11       38             0 seslogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1448]     0  1448    24248       18      15       40             0 ttylogd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1454]     0  1454     3823       27      13       38             0 mod_sched<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1604]     0  1604    20638       13      43      201         -1000 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 1610]     0  1610     7325       13      19       53             0 xinetd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2691]     0  2691    29326      132      27      699             0 python<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2692]     0  2692   213661     6068      95     2383             0 python<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2709]     0  2709    41200       49      28      196             0 pbx_exchange<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2717]     0  2717    27508        1      10       28             0 agetty<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2738]     0  2738    45036       48      33      113             0 vnetd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2745]     0  2745    54173       50      48      237             0 bpcd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2777]     0  2777    43913       66      27     1605             0 saphostexec<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2802]   989  2802    28552       17      14       15             0 uuidd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2809] 20394  2809   214315     3622      88     5609             0 sapstartsrv<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2837]     0  2837   198545      261     109     1010             0 nbdisco<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2902]     0  2902    78523        8      38      221             0 mtstrmd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 3024]  1231  3024   126647       66      52     2674             0 sapstartsrv<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 3419]     0  3419     8287      750      21     1195             0 saposcol<br>Dec  1 09:29:08 QMPRAL01SL kernel: [32799] 20204 32799  9592860   269595     863    60071             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [29495]   999 29495   134811      106      58      847             0 polkitd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [29643]    38 29643     7356       36      18      114             0 ntpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [61123]     0 61123    20484     9421      44       40             0 systemd-journal<br>Dec  1 09:29:08 QMPRAL01SL kernel: [116632]  1108 116632    28313        2      12       82             0 sh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [116704]  1108 116704  1822457   184388     765   127243             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117464]  1108 117464    28279        0      12       51             0 sh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117469]  1108 117469    28313        2      12       82             0 startWebLogic.s<br>Dec  1 09:29:08 QMPRAL01SL kernel: [117536]  1108 117536  2142554   232748     701    40999             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70697]  1108 70697    60193       45     116      622             0 httpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70698]  1108 70698     8289        0      18       65             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70699]  1108 70699     8289        0      18       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70700]  1108 70700     8289        0      19       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70701]  1108 70701     8289        0      19       63             0 rotatelogs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [70734]  1108 70734   110435        7     181      849             0 httpd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58470]     0 58470     1907       58       9        8             0 mxGATE<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58506]     0 58506     4621      111      15     1877             0 mxLOG<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58639]     0 58639     1880       24       9       14             0 mxMON<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58664]     0 58664     1910       29       9       12             0 mxSENSOR<br>Dec  1 09:29:08 QMPRAL01SL kernel: [58689]     0 58689     6564      591      17     1954             0 mxSMS<br>Dec  1 09:29:08 QMPRAL01SL kernel: [107104] 20204 107104  9112760   406736    1382   139468             0 java<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92037] 20204 92037  4853052  3064579    8677  1235791             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92052] 20204 92052 26050965  6871874   48199 17068877             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92121] 20204 92121 76992161 65282420  148126 10017972             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [92195] 20204 92195 10429886  4645777   18960  4791246             0 pmtomatosx_u64_<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94699]     0 94699    37072      399      71        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94701] 32301 94701    37105      397      70        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94702] 32301 94702     3317       72      10        0             0 RestrictedShell<br>Dec  1 09:29:08 QMPRAL01SL kernel: [94710] 32301 94710     6992      133      19        0             0 pbksh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111665] 32301 111665    29212       83      13        0             0 runAs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111701] 32301 111701    23379      256      50        0             0 pbrun<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111803]     0 111803     2908       65      11        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111821]     0 111821     3275      436      12        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111858]     0 111858    21016      144      44        0             0 su<br>Dec  1 09:29:08 QMPRAL01SL kernel: [111859] 20204 111859    30055      346      16        0             0 csh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119072]     0 119072    37072      399      76        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119074] 32301 119074    37105      400      72        0             0 sshd<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119075] 32301 119075     3317       73      10        0             0 RestrictedShell<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119083] 32301 119083     6992      132      18        0             0 pbksh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119104] 32301 119104    29212       84      12        0             0 runAs<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119140] 32301 119140    23379      261      49        0             0 pbrun<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119141]     0 119141     2908       65      11        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119159]     0 119159     3275      437      12        0             0 bash<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119196]     0 119196    21240      144      44        0             0 su<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119197] 20204 119197    29909      198      15        0             0 csh<br>Dec  1 09:29:08 QMPRAL01SL kernel: [119219] 20204 119219    36671      302      27        0             0 top<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 2243]     0  2243     3643       59      10       13             0 rcagent<br>Dec  1 09:29:08 QMPRAL01SL kernel: [ 6422]     0  6422     8287      628      20     1192             0 saposcol<br>Dec  1 09:29:08 QMPRAL01SL kernel: Out of memory: Kill process 92121 (pmtomatosx_u64_) score 650 or sacrifice child<br>Dec  1 09:29:08 QMPRAL01SL kernel: Killed process 92121 (pmtomatosx_u64_) total-vm:307968644kB, anon-rss:261129680kB, file-rss:0kB<br><br>==========================================================================================<br><br># ps -ef | grep pmtomatosx<br>   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND<br> 92037 msgadmin  20   0 32.294g 0.027t   5992 S 346.9  8.9   6518:53 pmtomatosx_u64_<br> 12208 msgadmin  20   0 18.517g 0.013t  24592 S 148.8  4.2 100:12.74 pmtomatosx_u64_<br> 92052 msgadmin  20   0  0.104t 0.046t   6748 S  70.0 15.1   1558:28 pmtomatosx_u64_<br> 92195 msgadmin  20   0 39.714g 0.023t   9112 S  13.5  7.6   1052:03 pmtomatosx_u64_</environment><periodicityOfIssue>해당 시간대의 SAR 데이터는 아래와 같습니다.<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -S<br>09:15:01    kbswpfree kbswpused  %swpused  kbswpcad   %swpcad<br>09:16:01    132816336   1400360      1.04    395064     28.21<br>09:17:01    132816344   1400352      1.04    395056     28.21<br>09:18:01    132816348   1400348      1.04    395084     28.21<br>09:19:01    132816348   1400348      1.04    395084     28.21<br>09:20:02    132816348   1400348      1.04    394012     28.14<br>09:21:01    114225728  19990968     14.89    376612      1.88<br>09:22:02    101832452  32384244     24.13   1532172      4.73<br>09:23:01     90158004  44058692     32.83    977200      2.22<br>09:24:01     71097576  63119120     47.03    550416      0.87<br>09:25:01     58320088  75896608     56.55    707940      0.93<br>09:26:01     43497548  90719148     67.59    361016      0.40<br>09:27:01     26644820 107571876     80.15    160980      0.15<br>09:28:02      9476176 124740520     92.94    853492      0.68<br>09:29:02        38196 134178500     99.97    388168      0.29<br>09:30:01     41891720  92324976     68.79    599708      0.65<br>09:31:01     45426004  88790692     66.15   1481064      1.67<br>09:32:01     46001192  88215504     65.73   1729080      1.96<br>09:33:01     46634112  87582584     65.25   2004480      2.29<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -r<br>09:15:01    kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty<br>09:16:01     41321260 288357504     87.47         0  11371788  51888832     11.19 279513468   4728564    239820<br>09:17:01     36273320 293405444     89.00         0  11140500  56388688     12.16 284793144   4490848    718628<br>09:18:01     33463560 296215204     89.85         0  12380192  58098656     12.52 286500212   5559812    555304<br>09:19:01     23093192 306585572     93.00         0  11889956  70645352     15.23 297328464   5088740    369420<br>09:20:02      1401760 328277004     99.57         0    618508 103014296     22.21 317768608   6376560        68<br>09:21:01      1361548 328317216     99.59         0     61472 121380620     26.17 318092864   6097220         0<br>09:22:02      1360108 328318656     99.59         0     73024 133475124     28.77 318087636   6098424         0<br>09:23:01      1761288 327917476     99.47         0    181568 144988188     31.25 317512860   6239924      5776<br>09:24:01      1359688 328319076     99.59         0     57516 164848608     35.54 318070680   6091012         0<br>09:25:01      1954040 327724724     99.41         0     98000 178184296     38.41 317433408   6124484       500<br>09:26:01      1361532 328317232     99.59         0     68748 193362308     41.68 318071592   6094400         0<br>09:27:01      1359852 328318912     99.59         0     72108 209595192     45.18 318076720   6099804         0<br>09:28:02      1365392 328313372     99.59         0     59120 225252244     48.56 318075572   6089020         0<br>09:29:02      1359360 328319404     99.59         0     76560 236165128     50.91 318211788   6098572         0<br>09:30:01    253389432  76289332     23.14         0   1674504  36999728      7.98  68865304   3971068    537144<br>09:31:01    214510288 115168476     34.93         0   2306656  70284848     15.15 103638336   7982572    470452<br>09:32:01    175095344 154583420     46.89         0   2281708 109292044     23.56 142099388   8854368    328016<br>09:33:01    131084712 198594052     60.24         0   1968408 151964252     32.76 185477716   9412924    203676<br>09:34:01     88443456 241235308     73.17         0   2128004 193075036     41.62 227107720  10338020    645396<br>09:35:01     48430136 281248628     85.31         0   3594136 231924688     50.00 264856416  12492200   1022268<br>09:36:01     12382124 317296640     96.24         0   3046600 269166272     58.02 301215908  12124004    785784<br>09:37:01      1359296 328319468     99.59         0     63660 284512012     61.33 318294932   6101732         0<br>09:38:01      4742744 324936020     98.56         0    606348 282060880     60.80 314385332   6621216     20432<br>09:39:01      3346588 326332176     98.98         0   1227176 282060404     60.80 315019948   7376136     21968<br>09:40:01      1497980 328180784     99.55         0     85264 284749448     61.38 318008180   6242232         0<br>09:41:01      2280084 327398680     99.31         0    723240 283336960     61.08 316464264   6995292     79864<br>09:42:01      1401384 328277380     99.57         0    986532 283888640     61.20 317426020   6919740     36016<br>09:43:02      1385272 328293492     99.58         0     87824 287010216     61.87 318247568   6111984       716<br>09:44:01     46251252 283427512     85.97         0    485620 287308792     61.93 273280676   6208312     72048<br>09:45:01    255380000  74298764     22.54         0   3169300  33656648      7.26  61573076   9231312    507760<br>09:46:01    256347220  73331544     22.24         0   2919692  32086940      6.92  61198452   8638532   1244908<br>09:47:01    250284220  79394544     24.08         0   3468056  36342656      7.83  65648136  10202792    630804<br>09:48:01    254273976  75404788     22.87         0   2179776  34051052      7.34  62915468   8987860    265380<br>09:49:01    249868568  79810196     24.21         0   2448028  36372212      7.84  66862012   9433216    603620<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -p<br>09:15:01        CPU     %user     %nice   %system   %iowait    %steal     %idle<br>09:16:01        all      9.06      0.00      8.34      0.02      0.00     82.57<br>09:17:01        all      9.31      0.00      8.16      0.01      0.00     82.52<br>09:18:01        all      9.65      0.00      8.24      0.03      0.00     82.09<br>09:19:01        all     12.77      0.00      9.33      0.02      0.00     77.88<br>09:20:02        all      9.34      0.00     10.18      2.46      0.00     78.02<br>09:21:01        all      5.12      0.00     15.28      8.77      0.00     70.82<br>09:22:02        all      6.38      0.00     25.82     15.31      0.00     52.49<br>09:23:01        all      8.08      0.00     23.16     12.70      0.00     56.06<br>09:24:01        all      4.14      0.00     15.78      7.70      0.00     72.39<br>09:25:01        all      5.46      0.00     20.04      8.43      0.00     66.07<br>09:26:01        all      6.36      0.00     20.79      6.43      0.00     66.41<br>09:27:01        all      5.53      0.00     19.82     10.50      0.00     64.16<br>09:28:02        all      5.79      0.00     23.23     12.10      0.00     58.88<br>09:29:02        all      9.95      0.00     28.22     13.28      0.00     48.55<br>09:30:01        all      9.23      0.00     15.50      8.50      0.00     66.76<br>09:31:01        all     12.72      0.00     11.35      4.71      0.00     71.22<br>09:32:01        all     11.70      0.00     10.48      1.35      0.00     76.48<br>09:33:01        all     10.05      0.00      9.99      1.49      0.00     78.47<br>09:34:01        all     13.94      0.00     10.67      1.73      0.00     73.66<br>09:35:01        all     11.91      0.00     10.47      0.94      0.00     76.68<br>09:36:01        all     16.16      0.00     10.73      1.11      0.00     72.01<br>09:37:01        all     11.34      0.00     14.90      4.34      0.00     69.42<br>09:38:01        all      5.99      0.00      8.81      1.11      0.00     84.09<br>09:39:01        all      6.09      0.00      7.27      0.67      0.00     85.97<br>09:40:01        all      5.87      0.00      7.75      1.10      0.00     85.29<br>09:41:01        all      6.53      0.00      9.38      1.54      0.00     82.55<br>09:42:01        all      3.75      0.00      7.09      0.10      0.00     89.07<br>09:43:02        all      5.97      0.00      9.76      1.52      0.00     82.75<br>09:44:01        all      6.07      0.00      9.92      1.61      0.00     82.40<br>09:45:01        all     13.58      0.00     11.82      0.99      0.00     73.61<br>09:46:01        all     15.45      0.00     10.85      1.13      0.00     72.57<br><br>==========================================================================================<br><br># sar -s &quot;09:15:00&quot; -e &quot;10:10:00&quot; -q<br>09:15:01      runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked<br>09:16:01            2       992      8.73      8.74      7.74         0<br>09:17:01            3       993      9.06      8.79      7.82         0<br>09:18:01            6       993      9.27      8.92      7.93         0<br>09:19:01            3       994     10.35      9.28      8.11         0<br>09:20:02            4       998     10.99      9.67      8.32         0<br>09:21:01            7      1005     11.59     10.06      8.53         2<br>09:22:02            8      1008     14.69     11.17      9.01         1<br>09:23:01            9      1014     15.56     11.98      9.41         2<br>09:24:01            6      1016     14.08     12.24      9.67         1<br>09:25:01            8      1021     14.80     12.81     10.03         2<br>09:26:01            4      1019     14.99     13.19     10.32         1<br>09:27:01            5      1020     15.16     13.62     10.67         1<br>09:28:02           10      1024     16.79     14.25     11.06         1<br>09:29:02            5      1023     17.76     15.03     11.53         3<br>09:30:01            4      1008     17.42     15.64     11.96         2<br>09:31:01            6      1006     14.91     15.26     12.06         0<br>09:32:01            3      1005     13.34     14.79     12.10         0<br>09:33:01            7      1004     10.04     13.63     11.87         0<br>09:34:01            5       984      9.96     12.88     11.72         1<br>09:35:01            7       982      9.44     12.24     11.57         1<br>09:36:01            6       982     10.95     12.14     11.58         0<br>09:37:01            7       989     12.55     12.38     11.70         1<br>09:38:01            4       990     10.71     11.91     11.59         0<br>09:39:01            3       990     10.24     11.55     11.48         1<br>09:40:01            3       990     10.51     11.38     11.43         0<br>09:41:01            3       992     10.92     11.34     11.41         0<br>09:42:01            1       992     10.29     11.08     11.31         0<br>09:43:02            3       992      9.86     10.83     11.22         0<br>09:44:01            4      1012     10.64     10.84     11.19         0<br>09:45:01            5       997     13.92     11.84     11.52         0<br>09:46:01           10       997     13.28     12.00     11.60         0<br>09:47:01            3       995     12.17     11.94     11.60         0<br><br>09:29:02 시간에 SWAP 사용율도 거의 100% 가까이 올랐는데요,<br><br>현재 시스템의 oom 원인과 특이 사항에 대해 확인 부탁 드립니다.</periodicityOfIssue><timeFramesAndUrgency>관련 분석 데이터를 dropbox.redhat.com 에 아래 파일명으로 업로드 하였습니다.<br><br>* sosreport-QMPRAL01SL-20161201154045.tar.xz<br>* sosreport-LOG-QMPRAL01SL-20161201154045.tar.gz<br>* proc_92037.tar.gz<br>* proc_92037_smap -&gt; /proc/92037/smap 내용</timeFramesAndUrgency><cep>false</cep></case>