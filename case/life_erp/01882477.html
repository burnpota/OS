======================<br><b>생성계정 : 삼성생명 타임게이트</b><br><b>생성날짜 : 2017-07-03T06:09:20Z</b><br><b>마지막 답변자 : Ying Huang</b><br><b>마지막 수정 일자 : 2017-08-25T03:19:29Z</b><br><b>id : 500A000000XU4IRIA1</b><br>======================<br><br><b><font size=15>
제목  : 10G환경에서 NFS사용시 특정 클라이언트 I/O 점유에 관한건..
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하십니까?<br>아래와 같은 내용으로 인하여 확인 요청 드립니다.<br><br>RHEL6.3 에서는 버퍼에 64K 를 최대 128개 까지 채워서 전달하였으나, RHEL6.3 이후 부터는 버퍼에 64K 를 default 로 약 6만5천개 까지 채워서 보낸다고 합니다.<br>따라서, 10GB 환경의 특정서버에서 많이 I/O 를 수행하면 FPGA(I/O처리CPU) high load 및 다른 서버들의 I/O 처리에 영향을 미칠 수 있다고 합니다.<br> <br>그리하여 히다찌측에서 아래와 같은 내용을 조치할 필요가 있다고 합니다. <br>Linux Client 에서 아래와 같이 조치 필요.<br>. On all of the nodes running RHEL 6.3 or later or Debian Jessie or later, run<br>       sudo sysctl sunrpc.tcp_max_slot_table_entries=128<br><br>위와 같은 파라메터값을 변경할시 문제될 여지가 있는지 확인 부탁드리고<br><br>/etc/sysctl.conf 안에 아래 내용을 추가 후 sysctl -p 적용하면되는지 문의 드립니다.<br>sunrpc.tcp_max_slot_table_entries=128<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>all</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000JoILXIA3"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2017-07-03T06:46:24Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2017-07-03T06:46:23Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>말씀하신 이슈는 아래의 문서에서 안내된 NFS server가 NFS client에서 보내온 RPC requests 때문에 overwhelm 될수<br>있는 이슈를 해소하기 위하여 안내되는 설정인것으로 보이며 고객님 환경에서 이와 같은 이슈가 발생한다면 환경에 알맞게<br>tcp_slot_table_entries와 sunrpc.tcp_max_slot_table_entries를 수정해 주시면 됩니다.<br><br>설정 방법에는 커널 파라미터를 /etc/sysctl.conf 파일에 직접 설정해주는 방법과 아래의 문서에 안내된<br>/etc/modprobe.d/sunrpc.conf 파일에 추가하실수 있으십니다.<br><br>/etc/sysctl.conf파일에 설정 방법:<br># cat /etc/sysctl.conf<br>...<br>sunrpc.tcp_max_slot_table_entries=128<br><br># sysctl -p<br><br>참고문서:<br>A Red Hat Enterprise Linux 6.3+ NFS client may overwhelm an NFS server with RPC requests<br>https://access.redhat.com/solutions/502903<br><br><br>감사합니다.<br><br><publishedDate>2017-07-03T06:46:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>아래와 같은 내용으로 인하여 확인 요청 드립니다.<br><br>RHEL6.3 에서는 버퍼에 64K 를 최대 128개 까지 채워서 전달하였으나, RHEL6.3 이후 부터는 버퍼에 64K 를 default 로 약 6만5천개 까지 채워서 보낸다고 합니다.<br>따라서, 10GB 환경의 특정서버에서 많이 I/O 를 수행하면 FPGA(I/O처리CPU) high load 및 다른 서버들의 I/O 처리에 영향을 미칠 수 있다고 합니다.<br> <br>그리하여 히다찌측에서 아래와 같은 내용을 조치할 필요가 있다고 합니다. <br>Linux Client 에서 아래와 같이 조치 필요.<br>. On all of the nodes running RHEL 6.3 or later or Debian Jessie or later, run<br>       sudo sysctl sunrpc.tcp_max_slot_table_entries=128<br><br>위와 같은 파라메터값을 변경할시 문제될 여지가 있는지 확인 부탁드리고<br><br>/etc/sysctl.conf 안에 아래 내용을 추가 후 sysctl -p 적용하면되는지 문의 드립니다.<br>sunrpc.tcp_max_slot_table_entries=128</issue><cep>false</cep></case>