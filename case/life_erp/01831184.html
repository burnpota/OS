======================<br><b>생성계정 : 타임 게이트</b><br><b>생성날짜 : 2017-04-14T05:43:04Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2017-05-07T10:02:40Z</b><br><b>id : 500A000000WmidAIAR</b><br>======================<br><br><b><font size=15>
제목  : [삼성생명] 보험 erp CSTATE 관련
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하십니까?<br>보안 진단으로 인하여 아래와 같은 내용을 받았습니다.<br><br><br>x86 BIOS에서 Power Max Performance 적용하여도<br>OS에서 cpuidle driver가 intel_idle로  사용되어있다면<br>OS에서 C-State을 관리하므로 CPU가 idle 상태로 되어 성능저하가 발생할 수 있다고 합니다.<br> <br>  * 확인 방법 : cat /proc/cmdline에 intel_idle.max_cstate=0 processor.max_cstate=1 등록되어 있으면 해당 없음<br> * 조치 방법 : grub 설정파일에   intel_idle.max_cstate=0 processor.max_cstate=1 추가<br><br><br>이에   intel_idle.max_cstate, processor.max_cstate 가 무엇을 의미하는지?<br>이에 해당되는 파라메터값이 무엇을 의미하는지? 알려주시고<br><br>정말 이런 성능저하로 인하여 위와 같은 설정을 하는것을 권고 하는지 문의 드립니다.<br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br>======================<br><comment id="a0aA000000JJvO4IAL"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-04-21T06:34:21Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-04-21T06:34:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br><br>C-state 비활성화 정보는 아래와 같은 경로에 기록 되어 있으며, 이부분 <br>내용은 online 으로 변경 할수 있습니다. 따라서, max_cstate 변경 <br>하시려면 grub 파일에 설정 값을 추가 하여 서버를 재부팅 하셔야 됩니다. <br><br>/sys/module/intel_idle/parameters/max_cstate<br>/sys/module/processor/parameters/max_cstate<br>======================<br>감사합니다. 좋은 하루 되십시오. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-04-21T06:34:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJfdSIAT"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-04-20T07:56:05Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-04-20T07:56:05Z</b><br><br>답변 감사합니다<br>고객에게는 설정을 권고하도록 준비중입니다<br><br>해당 설정 grub에 추가하는 방법으로  리부팅이 필요한것으로 보여지는데요 <br><br>해당 설정을 서비스중에 적용할수 있는 방법이 있는지 확인 부탁드립니다<br><br>서비스에 영향도는 없는지 조언 부탁드립니다<br><br>감사합니다<br><br><publishedDate>2017-04-20T07:56:05Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JJcStIAL"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-04-20T02:14:43Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-04-20T02:14:43Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br><br>커널에서 하드웨어 바이오스 설정을 override 할수 있으니 하드웨어 바이오스단에서 <br>해당 기능들을 모두 disable한 상태일 경우에도 intel_idle.max_cstate=0 설정<br>하실 필요가 있습니다.  <br><br>- https://access.redhat.com/solutions/202743<br>~~~<br>On some systems, the kernel can override the BIOS setting, and the parameter <br>intel_idle.max_cstate=0 may be required to ensure sleep states are not entered:<br><br>kernel /vmlinuz-2.6.32-431.el6.x86_64 ... processor.max_cstate=1 intel_idle.max_cstate=0<br>~~~<br><br><br>감사합니다. 좋은 하루 되십시오. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-04-20T02:14:43Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJcHbIAL"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-04-20T01:48:27Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-04-20T01:48:27Z</b><br><br>안녕하십니까 우선 답변 감사합니다<br><br>한가지 더 궁금한 사항이 있습니다<br><br>보통 하드웨어단에서 C-stat, P-stat등 모두 disable하는 경우가 많은데요<br><br>하드웨어 바이오스단에서 위 기능들을 모두 disable한 상태라고 가정했을때<br><br>intel_idle(intel_idle.max_cstate=0)을 비활성화하고 CPU가 항상 켜져 있는 상태로(processor.max_cstate=1) 바꿔줘야 하는 것인가요?<br><br>즉, 하드웨어 단의 disable상태에서도 해당 grub 옵션을 바꿔주는것이 의미가 있는지 확인 부탁드립니다<br><br>감사합니다<br><br><publishedDate>2017-04-20T01:48:27Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JJOVbIAP"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-04-19T06:38:13Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-04-19T06:38:13Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br><br>intel_idle.max_cstate=0 는 maximum cstate=0 이라는 뜻이가 아니고 <br>intel_idle 를 비활성화 시킨다는 뜻입니다. <br><br>processor.max_cstate=1 를 하면 cpu가 항상 켜져 있는 상태로 되어 성능이 <br>개선되는게 맞습니다. <br><br><br>감사합니다. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-04-19T06:38:13Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJO6uIAH"><br>======================<br><b>생성계정 : 게이트, 타임</b><br><b>생성날짜 : 2017-04-19T05:56:32Z</b><br><b>마지막 답변자 : 게이트, 타임</b><br><b>마지막 수정 일자 : 2017-04-19T05:56:32Z</b><br><br>c0 mode 와 c1 mode의 차이는 없는것인지요?<br><br>&lt;C0&gt;<br>These modes are known as C-states. They are usually starting in C0, which is the normal CPU operating mode, i.e., the CPU is 100% turned on. <br><br>&lt;C1&gt;<br>mode<br>Name<br>                      What id does<br>           CPUs<br>C1<br>    Operating State<br>CPU fully turned on<br>All CPUs<br>======================<br>그리고 제가 말씀드린듯이 processor.max_cstate=1 를 하면 cpu가 항상 켜져 있는 상태로 되어 성능이 개선되는게 맞는것인지요?<br><br><publishedDate>2017-04-19T05:56:32Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JJMsZIAX"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-04-19T02:40:25Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-04-19T02:40:25Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다.<br><br><br>CPU가 Idle 상태일 때 에너지를 절약하기 위해 CPU는 저전력 모드로 들어가도록 <br>명령받을 수 있습니다. <br>각 CPU에는 여러 가지 전원 모드가 있으며 &quot;C- 상태&quot;또는 &quot;C- 모드&quot;라고 통칭됩니다.<br><br>각 모드의 의미에 대해 아래와 같은 링크중에 있는 테이블에서 확인 가능 하십니다. <br><br> What are CPU &quot;C-states&quot; and how to disable them if needed? <br> - https://access.redhat.com/solutions/202743<br><br><br>감사합니다. 좋은 하루 되십시오. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-04-19T02:40:25Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JIuK8IAL"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-04-17T05:40:45Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-04-17T05:40:45Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br>저는 정미연이라고 하며 앞으로 본 케이스를 담당하게 되었습니다. <br>지금 보내 주신 문의 사항에 대해 확인 중에 있으며 확인 결과가 나오게 <br>되면 바로 공유 드리도록 하겠습니다. <br><br>감사합니다. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-04-17T05:40:45Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>