======================<br><b>생성계정 : 우택 심</b><br><b>생성날짜 : 2016-03-21T02:09:16Z</b><br><b>마지막 답변자 : JINKOO HAN</b><br><b>마지막 수정 일자 : 2016-03-28T04:22:44Z</b><br><b>id : 500A000000TszqgIAB</b><br>======================<br><br><b><font size=15>
제목  : tmp.mount 서비스 mask 시 Hang 현상 발생 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>기존 개발/품질 시스템 중 RHEL7.2 에 해당하는 VM 에 아래와 같은 작업을 진행하였습니다.<br><br>1. glibc Patch<br>2. openssl Patch<br>3. systemctl mask tmp.mount<br><br>예전에 tmp.mount 이슈에 대한 케이스 (https://access.redhat.com/support/cases/#/case/01568056) 를 진행하여<br><br>솔루션으로 mask 처리를 하였습니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>mask 처리를 한 후 QBISAL01SL 시스템에 로그인이 불가능한 상태로 Hang 이 발생하였습니다.<br><br>마지막 로그는 system-logind 에 timeout 이 나온다는 메세지였습니다.<br><br>tmp.mount 서비스를 mask 할 경우 이와 같이 Hang 상태가 발생할 수 있는 경우의 수를 알고 싶습니다.<br><br>sosreport 를 함께 업로드 합니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 4 (Low)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags><tag><name>patch</name></tag></tags><br><comment id="a0aA000000GlnEBIAZ"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-03-28T03:42:41Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-03-28T03:42:41Z</b><br><br>감사합니다.<br><br>많은 도움이 되었습니다.<br><br><publishedDate>2016-03-28T03:42:41Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GkdXZIAZ"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-03-22T10:15:27Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-03-23T07:20:29Z</b><br><br>안녕하세요,<br>Red Hat 한진구 입니다.<br><br>우선 보내주신 데이터를 확인해 볼때, 시스템은 04:50:45분에 재시작한 것으로 보아 그 이전시간에 시스템이 hang이었을 것으로 유추합니다.<br><br>04:50:45 AM       LINUX RESTART<br><br><br>일반적으로 시스템 hang분석을 위해서는 vmcore가 필요하나 우선 보내주신 데이터를 살펴보았을때 message가 비워있고.. 특별한 부분은 찾을 수가 없었습니다.<br><br>$ cat var/log/messages <br>$<br><br><br>또한, 유사 버그를 확인하였으나 tmp.mount mask와 직접적으로 연관된 버그를 확인하기 어려웠습니다.<br><br><br>업무에 참고하시기 바랍니다.<br>또한 이전 workaround로 설정되었던 tmp.mount mask에 대한 버그를 패치가 되었기때문에 향후 관련된 패치를 업데이트 하시기 바랍니다.<br>관련된 정보는 당시 오픈된 케이스를 통해서 안내되었으므로 해당 케이스를 참고하시기 바랍니다.<br>======================<br><br>감사합니다.<br><br><publishedDate>2016-03-22T10:15:27Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GkOxPIAV"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-03-21T12:05:56Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-03-21T12:05:56Z</b><br><br>dropbox.redhat.com/incoming 에 sosreport-QBISAL01SL-20160320175633.tar.xz 파일을 업로드 하였습니다.<br><br>감사합니다.<br><br><publishedDate>2016-03-21T12:05:56Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GkLQRIA3"><br>======================<br><b>생성계정 : HAN, JINKOO</b><br><b>생성날짜 : 2016-03-21T05:22:07Z</b><br><b>마지막 답변자 : HAN, JINKOO</b><br><b>마지막 수정 일자 : 2016-03-21T05:24:53Z</b><br><br>안녕하세요,<br>Red Hat Technical Account Manager 한진구 입니다.<br><br>케이스 #01568056와 관련되어서는 우선, 당시 해당 이슈는 버그질라에 오픈된 상태였고 당시 workaround는 mask를 처리하는 것을 workaround를 제공하고 있었습니다.<br><br>해당 케이스를 통해서 안내하였듯이 Errata(https://rhn.redhat.com/errata/RHBA-2016-0199.html)가 Release되었기 때문에 workaround가 아닌 해당 Errata를 통해서 patch 하는 것을 권장드립니다.<br>======================<br>Workaround가 아닌 errata를 업데이한 후에도 동일한 이슈가 발생할 경우, sosreport와 vmcore를 강제로 생성하여 제공하여 주시기 바랍니다.<br><br><br>감사합니다.<br><br><publishedDate>2016-03-21T05:22:06Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GkKhVIAV"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-03-21T02:10:41Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-03-21T02:10:41Z</b><br><br>sosreport<br><br><publishedDate>2016-03-21T02:10:41Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GkKhQIAV"><br>======================<br><b>생성계정 : 심, 우택</b><br><b>생성날짜 : 2016-03-21T02:10:02Z</b><br><b>마지막 답변자 : 심, 우택</b><br><b>마지막 수정 일자 : 2016-03-21T02:10:02Z</b><br><br>sosreport<br><br><publishedDate>2016-03-21T02:10:02Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br><br>기존 개발/품질 시스템 중 RHEL7.2 에 해당하는 VM 에 아래와 같은 작업을 진행하였습니다.<br><br>1. glibc Patch<br>2. openssl Patch<br>3. systemctl mask tmp.mount<br><br>예전에 tmp.mount 이슈에 대한 케이스 (https://access.redhat.com/support/cases/#/case/01568056) 를 진행하여<br><br>솔루션으로 mask 처리를 하였습니다.</issue><environment>mask 처리를 한 후 QBISAL01SL 시스템에 로그인이 불가능한 상태로 Hang 이 발생하였습니다.<br><br>마지막 로그는 system-logind 에 timeout 이 나온다는 메세지였습니다.<br><br>tmp.mount 서비스를 mask 할 경우 이와 같이 Hang 상태가 발생할 수 있는 경우의 수를 알고 싶습니다.<br><br>sosreport 를 함께 업로드 합니다.<br><br>감사합니다.</environment><cep>false</cep></case>