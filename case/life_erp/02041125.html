======================<br><b>생성계정 : jimin kim</b><br><b>생성날짜 : 2018-02-22T23:32:59Z</b><br><b>마지막 답변자 : Jake Jaewook Shin</b><br><b>마지막 수정 일자 : 2018-02-27T00:14:58Z</b><br><b>id : 500A000000Zr113IAB</b><br>======================<br><br><b><font size=15>
제목  : 계정 및 환경 설정 파일 권한 관련해서 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>계정 및 환경 설정 파일 권한 관련해서 문의를 드리려고 합니다.<br><br>아래 PECCAL02SL 서버에 psoadm이라는 계정이 존재합니다.<br>아래와 같이 /home/psoadm/.cshrc 파일은 root:sapsys 소유자 및 소유 그룹을 가지고 있습니다.<br><br>해당 파일을 psoadm 계정으로 vi를 통해서 내용 수정을 하고 저장(!wq)을 하면<br>해당 파일이 psoadm:sapsys로 변경이 되는 것처럼 보여서 이와 같은 동작이 권한이 잘 동작하는 것인지에 대해서 문의드리려고 합니다.<br><br>======================================================================<br><br>PECCAL02SL[psoadm]:/home/psoadm&gt; ls -al<br>total 36<br>drwx------   3 psoadm sapsys 4096 Feb 23 08:24 .<br>drwxr-xr-x 100 root   root   4096 Feb  1 19:02 ..<br>-rw-------   1 root   root      0 Sep  5 08:45 .bash_history<br>-rw-------   1 psoadm sapsys   18 Jul  8  2015 .bash_logout<br>-rw-r-----   1 root   sapsys  219 Dec 18  2015 .bash_profile<br>-rw-r-----   1 root   sapsys  231 Jul  8  2015 .bashrc<br>-rw-r-----   1 root   sapsys  358 Jan 26  2016 .cshrc<br>-rw-------   1 root   root    260 Sep  7 17:09 .history<br>-rw-r-----   1 root   sapsys  172 Dec 18  2015 .kshrc<br>drwxr-xr-x   4 psoadm sapsys   37 Dec 17  2015 .mozilla<br>----------   1 root   root      0 Sep  5 08:45 .rhosts<br>-rw-------   1 root   root      0 Feb 24  2016 .sh_history<br>-rw-------   1 psoadm sapsys  576 Feb 23 08:24 .viminfo<br>PECCAL02SL[psoadm]:/home/psoadm&gt; id<br>uid=20484(psoadm) gid=20083(sapsys) groups=20083(sapsys),500(dba),512(oinstall),561(asmdba),562(asmoper),1109(sapinst),20127(oper)<br>PECCAL02SL[psoadm]:/home/psoadm&gt; vi .cshrc<br>PECCAL02SL[psoadm]:/home/psoadm&gt; ls -al<br>total 36<br>drwx------   3 psoadm sapsys 4096 Feb 23 08:25 .<br>drwxr-xr-x 100 root   root   4096 Feb  1 19:02 ..<br>-rw-------   1 root   root      0 Sep  5 08:45 .bash_history<br>-rw-------   1 psoadm sapsys   18 Jul  8  2015 .bash_logout<br>-rw-r-----   1 root   sapsys  219 Dec 18  2015 .bash_profile<br>-rw-r-----   1 root   sapsys  231 Jul  8  2015 .bashrc<br>-rw-r-----   1 psoadm sapsys  359 Feb 23 08:25 .cshrc<br>-rw-------   1 root   root    260 Sep  7 17:09 .history<br>-rw-r-----   1 root   sapsys  172 Dec 18  2015 .kshrc<br>drwxr-xr-x   4 psoadm sapsys   37 Dec 17  2015 .mozilla<br>----------   1 root   root      0 Sep  5 08:45 .rhosts<br>-rw-------   1 root   root      0 Feb 24  2016 .sh_history<br>-rw-------   1 psoadm sapsys  595 Feb 23 08:25 .viminfo<br><br>======================================================================<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Other</b><br><b>계정 번호  : 5251314</b><br><b>심각도  : 3 (Normal)</b><br><hostname>PECCAL02SL</hostname><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000LrDUYIA3"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-27T00:14:57Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-27T00:14:57Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>연락 감사드립니다.<br>이상으로 해당 케이스는 close 처리 하도록 하겠습니다.<br><br>케이스가 처리 완료되면 고객 설문조사 메일이 발송됩니다.<br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해,<br>소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-27T00:14:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LrDOQIA3"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-02-26T23:58:21Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-02-26T23:58:20Z</b><br><br>안녕하세요<br><br>김지민 선임입니다.<br><br>답변 감사드립니다.<br><br><publishedDate>2018-02-26T23:58:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LqwmmIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-26T04:55:06Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-26T13:02:17Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>리눅스에서는 디렉토리안의 파일들의 리스트가 디렉토리 파일(디렉토리도 결국 파일)에의해 관리되기 때문에<br>파일 리스트에 대한 수정 권한을 디렉토리 권한에 따르는 것은 예상된 동작입니다.<br><br>말씀하신 내용을 기보고된 내부 자료를 통해 확인해본 결과,<br>유사 문의가 과거 고객 사례들에서도 확인은 됩니다만<br>동일하게 안내드리고 있습니다.<br><br>이상, 업무에 참고되시기 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-26T04:55:06Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Lqw3hIAB"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-02-26T02:42:52Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-02-26T02:42:52Z</b><br><br>안녕하세요<br><br>빠른 답변 감사드립니다.<br><br>혹시 이러한 부분이 <br><br>보안이나 업무 운영 중 문제가 되었던 상황은 없었는지를 문의드려도될까요?<br><br>감사합니다.<br><br><publishedDate>2018-02-26T02:42:52Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Lqw0iIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-26T02:34:08Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-26T02:34:08Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다<br><br>제가 현재까지 파악한 바로는 그렇습니다.<br>간단히 예를 들어 보여드리면,<br>====<br>[jake@localhost ~]$ ls -lrt<br>drwx------. 59 jake jake    4096 Feb 26 11:24 .<br>drwxr-xr-x.  5 root root    4096 Jan 28  2016 ..<br>...<br>-rw-r--r--.  1 root root      29 Feb 26 11:23 datetest.txt<br>-rw-rw-r--.  1 jake jake       0 Feb 26 11:24 datetest2.txt<br><br>[jake@localhost ~]$ mv datetest2.txt datetest.txt <br>mv: try to overwrite ‘datetest.txt’, overriding mode 0644 (rw-r--r--)? y<br><br>[jake@localhost ~]$ ls -lrt<br>...<br>-rw-rw-r--.  1 jake jake       0 Feb 26 11:24 datetest.txt<br>====<br>root 권한의 파일 조차도 vi 뿐만 아니라 mv 경우도 상기와 같이 override 됩니다.<br><br>혹시 다르게 동작하는 경우가 있을 경우 연계 주시면 확인해보도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-26T02:34:08Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LqvnUIAR"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-02-26T01:59:09Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-02-26T01:59:09Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>그럼 어떤 디렉토리 위치에 있던지 디렉토리에 w권한이 있는 user 나 group일 경우에는<br>디렉토리 하위에 있는 파일에 대해서 권한이 없는 것 처럼 보여도 강제 덥어쓰기가 되는 것인가요?<br><br>감사합니다.<br><br><publishedDate>2018-02-26T01:59:09Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Lqb8SIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-23T04:55:31Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-23T06:32:04Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>결론은 파일 내용 수정과 관련해서는 파일 자체에 설정된 권한과 관련이 있습니다만,<br>디렉토리내의 파일 자체에 대한 권한은 디렉토리에 설정되어서 그렇습니다.<br><br>예를 들어 읽기 권한이 없어서 파일 자체에 접근이 불가능한 경우도<br>디렉토리 소유자가 vi 로 파일을 열어 강제 저장해버리면 기존 파일 자체가 대체되어버립니다.<br>추가로 말씀드릴 건 디렉토리를 소유하기만 하면 되는건 아니고 w 권한이 있어야합니다.<br>w 권한이 있어야 파일 덮어쓰기도 파일 삭제도 가능합니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-23T04:55:31Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LqayKIAR"><br>======================<br><b>생성계정 : kim, jimin</b><br><b>생성날짜 : 2018-02-23T04:32:26Z</b><br><b>마지막 답변자 : kim, jimin</b><br><b>마지막 수정 일자 : 2018-02-23T04:32:26Z</b><br><br>안녕하세요<br><br>그럼 어느 상황에서나 <br><br>현재 디렉토리의 소유자가 강제로 저장하는 경우 권한이 없는 파일도 <br><br>현재 디렉토리의 소유자 및 그룹으로 변환이 되는 것인가요?<br><br>해당 파일에 권한이 없으면 변경이 되면 안되는 것이 맞는 것처럼 보이는데<br><br>혹시 이렇게 동작하는 것이 정상적인 OS의 동작인지 문의드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-23T04:32:26Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LqZnDIAV"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-23T01:24:49Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-23T01:24:49Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>강제로 저장할 경우, 현재 디렉토리의 소유자 및 그룹으로 해당 파일을 덮어 쓴다고 보시면 될 것 같습니다.(파일 생성, 삭제 등은 디렉토리 권한에 따름)<br>따라서, .cshrc 가 현재 디렉토리의 소유자 및 그룹인 psoadm:sapsys 로 변경된 것으로 보입니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-23T01:24:49Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LqZQVIA3"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-02-23T00:36:00Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-02-23T00:36:00Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해주셔서 감사합니다.<br><br>저는 신재욱 차장이라고 하며 앞으로 해당 케이스를 담당하게 되었습니다.<br><br>현재 케이스 내용을 살펴보는 중이며, 관련하여 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-23T00:36:00Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>