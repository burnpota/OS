======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-09-19T00:41:47Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2018-09-27T23:46:25Z</b><br><b>id : 500A000000byy2zIAA</b><br>======================<br><br><b><font size=15>
제목  : [로그문의]xfs관련
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요.  송기호입니다.<br>해당서버에서 <br><br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601220.839193] XFS (dm-10): Metadata CRC error detected at xfs_agi_read_verify+0x5e/0x110 [xfs], xfs_agi block 0x2)<br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601220.840353] XFS (dm-10): metadata I/O error: block 0x2 (&quot;xfs_trans_read_buf_map&quot;) error 74 numblks 1)<br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601246.683883] XFS (dm-10): Metadata CRC error detected at xfs_agi_read_verify+0x5e/0x110 [xfs], xfs_agi block 0x2)<br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601246.685084] XFS (dm-10): metadata I/O error: block 0x2 (&quot;xfs_trans_read_buf_map&quot;) error 74 numblks 1)<br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601248.352557] XFS (dm-10): Metadata CRC error detected at xfs_agi_read_verify+0x5e/0x110 [xfs], xfs_agi block 0x2)<br>Sep 16 00:10:11 SLPCIMEL01 CROND[64315]: (root) CMDOUT ([4601248.358664] XFS (dm-10): metadata I/O error: block 0x2 (&quot;xfs_trans_read_buf_map&quot;) error 74 numblks 1)<br><br>같은 로그가 발생하고 있습니다.<br><br>dm-10의 장치를 찾아보니 vg1-oradata_PCIM (253:10)<br>으로 확인인되는데요.<br><br>xfs_repair로 해소가 가능한 부분인가요??<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLPCIMEL01</hostname><br><br><br><comment id="a0aA000000NoorRIAR"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-27T23:46:22Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-27T23:46:22Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-27T23:46:22Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NncebIAB"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-23T23:30:21Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-23T23:30:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-23T23:30:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NmxgoIAB"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-20T01:16:52Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-20T01:16:52Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>xfs_repair -n /dev/mapper/rhel-home 등과 같이 풀 패스를 지정해야합니다.<br>아래 처럼 진행해보시기 바랍니다.<br>예) xfs_repair -n /dev/vg0/home <br><br>부팅 상태에서 umount 가 가능하다면, umount 이후에 진행해도 될 것 같습니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-20T01:16:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Nmxf7IAB"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-20T01:13:07Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-20T01:13:07Z</b><br><br>답변감사합니다.<br>제가 궁금한것은 xfs_repair을 이용시 체킹해야할 볼륨이 lv이라면 <br>xfs_repair &lt;lv 명&gt; 으로 하면되는건가요?<br><br>그리고 답변 주신내용에서 rescue모드로 부팅 후 umount한 상태에서 진행을 하라고 하셨는데요.<br>만약 체크해야할 볼륨이 스토리지쪽이라서 정상부팅후 umount가 가능해도 rescure모드를 부팅을 한 후 진행을 해야할까요??<br><br>감사합니다.<br><br><publishedDate>2018-09-20T01:13:07Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Nmwl7IAB"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-19T23:27:48Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-19T23:27:48Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>데이터 유실에 대비하여 백업은 미리 진행하시고, 모든 서비스를 종료하거나 rescue 모드로 부팅한 이후에,<br>해당 마운트 포인트를 umount 한 이후에 xfs_repair 를 진행하시기 바랍니다.<br><br>-n 옵션으로 수행하게되면 실제 복구를 진행하지 않고 상태에서 문제가 있는지만 검사하게됩니다.<br><br>-n           No modify mode, just checks the filesystem for damage.<br><br>/dev/vg0/home<br>/dev/vg0/sysadmin<br>/dev/vg0/Tools<br>/dev/vg1/CRASH<br>/dev/vg1/APP<br>/dev/vg1/LOG<br>/dev/vg1/batch_sam<br>/dev/vg1/oracle<br>/dev/vg1/orasys_PCIM<br>/dev/vg1/oradata_PCIM<br>/dev/vg1/oraarch_PCIM<br>/dev/vg1/dbadmin<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-19T23:27:48Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NmhugIAB"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-19T07:12:22Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-19T07:12:22Z</b><br><br>답변감사합니다.<br>만약 해당 블럭디바이스를 lvm으로 구성하고 있다면<br>xfs_repair &lt;lv명&gt;을 주면되나요??<br><br>아니면 vg에 있는 모든 pv들을 모두 xfs_repair해야하나요??<br><br><publishedDate>2018-09-19T07:12:22Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NmgKfIAJ"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2018-09-19T04:44:18Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2018-09-19T04:44:18Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>XFS 메타데이터 손실에 대한 에러가 발생한만큼 xfs_repair 를 통한 복구가 필요할 것으로 생각됩니다.<br><br>아래 문서를 참고하시기 바랍니다.<br><br>XFS : Corruption detected. Unmount and run xfs_repair <br>https://access.redhat.com/solutions/1194613<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Senior TSE, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2018-09-19T04:44:18Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>