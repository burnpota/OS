======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-03-14T06:51:58Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2016-03-22T07:03:48Z</b><br><b>id : 500A000000TfR45IAF</b><br>======================<br><br><b><font size=15>
제목  : 서버 hang-up
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br>3대의 서버가 갑작스럽 hang up이 발생하여서 시스템 구성상 문제가 있는지 확인 부탁드리며,<br>로그상에 특정 이상 유무가 있는지 확인 부탁드립니다.<br><br>현재 vm머신에서 구동중입니다.<br>sosreport첨부 해드립니다. <br>추가적으로 필요한 부분 있으면 회신 부탁드리고요.<br>시스템 상에서 특정 문제점을 발견하지 못하였다면 명시 부탁드립니다.<br><br>감사합니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>업무중<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>hang - up<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 정의찬 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-2952-3184<br>- 메일주소 : 정의찬 &lt;echan.jeong@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.4</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000GkbW0IAJ"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-22T07:03:47Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-22T07:03:47Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-03-22T07:03:47Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GjhtWIAR"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-17T00:25:53Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-17T00:25:53Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-03-17T00:25:53Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GjCgYIAV"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-14T23:15:01Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-14T23:15:01Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>죄송합니다. 답변이 잘못되었네요.<br><br># echo &quot;vm.min_free_kbytes=202752&quot; &gt;&gt; /etc/sysctl.conf<br># sysctl -p (위의 설정을 적용하는 명령어)<br><br>==============================================================<br><br>min_free_kbytes:<br><br>This is used to force the Linux VM to keep a minimum number<br>of kilobytes free.  The VM uses this number to compute a<br>watermark[WMARK_MIN] value for each lowmem zone in the system.<br>Each lowmem zone gets a number of reserved free pages based<br>proportionally on its size.<br><br>Some minimal amount of memory is needed to satisfy PF_MEMALLOC<br>allocations; if you set this to lower than 1024KB, your system will<br>become subtly broken, and prone to deadlock under high loads.<br><br>Setting this too high will OOM your machine instantly.<br><br>=============================================================<br><br>커널이 사용하는 영역과 시스템 여유메모리는 서로 다른 영역입니다.<br>언급한 시스템을 제외하고는 별다른 문제를 발견하지 못하였습니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-03-14T23:15:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Gj1FNIAZ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-03-14T07:56:15Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-03-14T07:56:15Z</b><br><br>커널 여유메모리를 늘리는 방법이<br>아무 파라메터 없이<br>echo &quot;202752&quot; &gt;&gt; /etc/sysctl.conf<br>하면되는건가요???<br>커널여유 메모리와<br>시스템여유메모리는 다른부분인지요??<br><br>추가적으로<br><br>SLVFDSAL01 제외한 나머지는 특별한 문제를 발견하지 못하였다는 말씀이시지요??<br><br><publishedDate>2016-03-14T07:56:15Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Gj0t2IAB"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-14T07:16:57Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-14T07:16:57Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>-------------------------------------------------------------------------------------------------------------------------<br>DMIDECODE<br>  BIOS:<br>    Vers: 6.00    Date: 08/16/2013    BIOS Rev: 4.6<br>  System:<br>    Prod: VMware Virtual Platform<br>  CPU:<br>    Vers: 1 Intel Xeon CPU E5-2650 v2 @ 2.60GHz<br>          └─2 threads / 2 cores each<br>  Memory:<br>    16384 MB (16 GB) total<br><br>OS<br>  Hostname: SLVFDSAL01<br>  Distro:   [redhat-release] Red Hat Enterprise Linux Server release 6.4 (Santiago)<br>  RHN:      serverURL = https://xmlrpc.rhn.redhat.com/XMLRPC<br>            enableProxy = 0<br>  RHSM:     hostname = subscription.rhn.redhat.com<br>            proxy_hostname =<br>  YUM:      12 enabled plugins: aliases, changelog, downloadonly, kabi, presto, product-id, refresh-packagekit, security, subscription-manager, tmprepo, verify,<br> versionlock<br>  Runlevel: N 3  (default 3)<br>  SELinux:  disabled  (default disabled)<br>  Arch:     mach=x86_64  cpu=x86_64  platform=x86_64<br>  Kernel:<br>    Booted kernel:  2.6.32-358.23.2.el6.x86_64<br>    Booted kernel cmdline:<br>      ro root=UUID=5c626af9-37bf-469d-8c99-79bcc5254b25 rd_NO_LUKS rd_NO_LVM <br>      LANG=en_US.UTF-8 rd_NO_MD SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=us <br>      rd_NO_DM rhgb quiet crashkernel=130M@0M nmi_watchdog=0<br>    Taint-check: 1  (see https://access.redhat.com/solutions/40594)<br>       0  PROPRIETARY_MODULE: Proprietary module has been loaded<br>    - - - - - - - - - - - - - - - - - - -<br>  Sys time:  Mon Mar 14 10:09:15 KST 2016<br>  Boot time: Sat Oct 10 19:27:40 KST 2015  (epoch: 1444472860)<br>  Uptime:    155 days, 14:41,  2 users<br>  LoadAvg:   [2 CPU] 0.41 (20%), 0.10 (5%), 0.03 (2%)<br>  /proc/stat:<br>    procs_running: 1   procs_blocked: 0    processes [Since boot]: 4842275<br>    cpu [Utilization since boot]:<br>      us 0%, ni 0%, sys 0%, idle 99%, iowait 0%, irq 0%, sftirq 0%, steal 0%<br><br>$ grep allocation */SL*/var/log/mess*<br>sosreport-SLVFDSAL01-20160314101147-5828.tar.xz/SLVFDSAL01-2016031410081457917731/var/log/messages:Mar 13 09:13:44 SLVFDSAL01 kernel: java: page allocation failure. order:1, mode:0x20<br>sosreport-SLVFDSAL01-20160314101147-5828.tar.xz/SLVFDSAL01-2016031410081457917731/var/log/messages:Mar 13 09:13:45 SLVFDSAL01 kernel: java: page allocation failure. order:1, mode:0x20<br>sosreport-SLVFDSAL01-20160314101147-5828.tar.xz/SLVFDSAL01-2016031410081457917731/var/log/messages:Mar 13 09:13:45 SLVFDSAL01 kernel: java: page allocation failure. order:1, mode:0x20<br>sosreport-SLVFDSAL01-20160314101147-5828.tar.xz/SLVFDSAL01-2016031410081457917731/var/log/messages:Mar 13 09:13:45 SLVFDSAL01 kernel: java: page allocation failure. order:1, mode:0x20<br><br>Mar 13 09:13:44 SLVFDSAL01 kernel: java: page allocation failure. order:1, mode:0x20<br>Mar 13 09:13:44 SLVFDSAL01 kernel: Pid: 18980, comm: java Tainted: P           ---------------    2.6.32-358.23.2.el6.x86_64 #1<br>Mar 13 09:13:44 SLVFDSAL01 kernel: Call Trace:<br>Mar 13 09:13:44 SLVFDSAL01 kernel: &lt;IRQ&gt;  [&lt;ffffffff8112c287&gt;] ? __alloc_pages_nodemask+0x757/0x8d0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff81166dc2&gt;] ? kmem_getpages+0x62/0x170<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff811679da&gt;] ? fallback_alloc+0x1ba/0x270<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8116742f&gt;] ? cache_grow+0x2cf/0x320<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff81167759&gt;] ? ____cache_alloc_node+0x99/0x160<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff811686db&gt;] ? kmem_cache_alloc+0x11b/0x190<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8143a2a8&gt;] ? sk_prot_alloc+0x48/0x1c0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8143b382&gt;] ? sk_clone+0x22/0x2e0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8148a366&gt;] ? inet_csk_clone+0x16/0xd0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff814a3333&gt;] ? tcp_create_openreq_child+0x23/0x450<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff814a0b2d&gt;] ? tcp_v4_syn_recv_sock+0x4d/0x310<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff814a30d6&gt;] ? tcp_check_req+0x226/0x460<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff814a05cb&gt;] ? tcp_v4_do_rcv+0x35b/0x430<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff814a1dde&gt;] ? tcp_v4_rcv+0x4fe/0x8d0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8147f990&gt;] ? ip_local_deliver_finish+0x0/0x2d0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8147fa6d&gt;] ? ip_local_deliver_finish+0xdd/0x2d0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8147fcf8&gt;] ? ip_local_deliver+0x98/0xa0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8147f1bd&gt;] ? ip_rcv_finish+0x12d/0x440<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff81063b96&gt;] ? rebalance_domains+0x1a6/0x5a0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8147f745&gt;] ? ip_rcv+0x275/0x350<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8144891b&gt;] ? __netif_receive_skb+0x4ab/0x750<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff81448c5a&gt;] ? process_backlog+0x9a/0x100<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8144d4c3&gt;] ? net_rx_action+0x103/0x2f0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff810770b1&gt;] ? __do_softirq+0xc1/0x1e0<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff81075dd3&gt;] ? _local_bh_enable+0x13/0x20<br>Mar 13 09:13:44 SLVFDSAL01 kernel: [&lt;ffffffff8100c1cc&gt;] ? call_softirq+0x1c/0x30<br><br>$ cat 10-sosreport-SLVFDSAL01-20160314101147-5828.tar.xz/SLVFDSAL01-2016031410081457917731/proc/sys/vm/min_free_kbytes <br>67584<br>-------------------------------------------------------------------------------------------------------------------------<br><br>page allocation failure 메시지가 발생하고 있습니다.<br>아래 설정을 통해서 커널 여유 메모리 공간을 늘려보시기 바랍니다.<br><br># echo &quot;202752&quot; &gt;&gt; /etc/sysctl.conf<br># sysctl -p<br><br>추가적으로 시스템 행에 대한 원인 파악은 sosreport 상에서 확인되고 있지 않습니다.<br>해당 시점에 vmcore 수집을 해주시면 추가 분석이 가능할 것 같습니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-03-14T07:16:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>3대의 서버가 갑작스럽 hang up이 발생하여서 시스템 구성상 문제가 있는지 확인 부탁드리며,<br>로그상에 특정 이상 유무가 있는지 확인 부탁드립니다.<br><br>현재 vm머신에서 구동중입니다.<br>sosreport첨부 해드립니다. <br>추가적으로 필요한 부분 있으면 회신 부탁드리고요.<br>시스템 상에서 특정 문제점을 발견하지 못하였다면 명시 부탁드립니다.<br><br>감사합니다.</issue><environment>업무중</environment><periodicityOfIssue>hang - up</periodicityOfIssue><timeFramesAndUrgency>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 정의찬 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-2952-3184<br>- 메일주소 : 정의찬 &lt;echan.jeong@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================</timeFramesAndUrgency><cep>false</cep></case>