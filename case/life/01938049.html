======================<br><b>생성계정 : 타임게이트 (주)</b><br><b>생성날짜 : 2017-09-23T01:02:45Z</b><br><b>마지막 답변자 : 타임게이트 (주)</b><br><b>마지막 수정 일자 : 2017-10-15T23:07:37Z</b><br><b>id : 500A000000YQuAaIAL</b><br>======================<br><br><b><font size=15>
제목  : [삼성생명] 번들 http server error log 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>.<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>.<br><br>해결 기간이나 업무에 미치는 영향에 대한 정보를 제공해 주시겠습니까?<br><br>.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000KgrLDIAZ"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-10-13T07:48:10Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-10-13T07:48:09Z</b><br><br>안녕하세요,  <br>  <br>Red Hat Global Support Services를 이용해주셔서 감사합니다.  <br><br>~~~~~<br>기 문의드린 error 로그 상 에러코드인 70008 이 발생 시 하기와 같이 access 로그에 unknown 상태의 400 HTTP 에러코드가 발생하는 패턴을 보여 <br>문의드립니다. <br><br>기 가이드 주신 것과 같이 mod_proxy를 설정할 경우 keepalive 에 의해 유사증상이 발생한 케이스가 있다고 하였는데 하기의 access 로그는<br>동일 node(ROUTEID=.ep29)에 약 1~3초 내외로 connection 되는 것으로 보여 확인을 요청드립니다.<br>~~~~~<br><br>mod_proxy를 설정할 경우 keepalive 에 의해 유사증상이 발생한 케이스가 있다고 하였는데 <br>=&gt; 기존에 드린 링크[1] 를 보시면 아시겠지만, 이는 '(70008)Partial results are valid but processing is incomplete'이 아니고 '(70014)End of file found' 에러와 관련된 내용입니다.<br><br>~~~~~<br>하기의 110 에러코드도 timeout으로 인해 발생하는 에러로 판단되는데 관련 에러코드들의 발생원인을 참고할만한 URL이 존재하는 지요?<br><br>[Wed Oct 11 09:00:13.248161 2017] [proxy:error] [pid 551:tid 140277800535808] (110)Connection timed out: AH00957: HTTPS: attempt to connect to 100.254.141.225:51031 (ep.ap5.p.samsunglife.kr) failed<br>[Wed Oct 11 09:00:13.248176 2017] [proxy_http:error] [pid 551:tid 140277800535808] [client 112.108.42.102:24097] AH01114: HTTP: failed to make connection to backend: ep.ap5.p.samsunglife.kr, referer: http://u-channel.samsunglife.com/portal/server.pt/gateway/PTARGS_0_0_384_217_0_43/http%3B/ap.xp.portal.samsunglife.kr%3B31000/po/wcOutbound/poGatwayOut.jsp?LNK_MGNT_ID=aml00971001<br> <br>기 가이드 주신 것과 같이 70007, 70008, 70014 등 (XXX) 의 에러코드에 대한 참고 URL을 요청드립니다. <br>~~~~~<br><br>110 에러코드는 OS error 입니다.<br>일반적으로 RHEL에 정의된 errno으로 보면 아래와 같이 'Connection timed out'을 의미합니다.<br>~~~~~<br>#define ETIMEDOUT       110     /* Connection timed out */<br>~~~~~<br>이는 로그상에 이미 나와 있는 내용입니다. - &quot;(110)Connection timed out&quot;<br><br>참고로, opensource를 기반으로 한 제품의 error code에 대해 설명이 된 리스트는 따로 없습니다.<br>이는 opensource이다 보니 이미 소스가 다 공개된 상태애서 error code에 대해서 따로 상세 설명이 되면 악용의 여지가 있기 때문입니다.<br>마찬가지로 EAP나 Openshift에서도 에러코드에 대한 정의된 내용은 없습니다.<br><br>각 에러는 로그상에 정의된 내용이 전부라고 보시면 되겠습니다.<br><br>(70008)Partial results are valid but processing is incomplete: [client 100.3.58.18:50568] AH01095: prefetch request body failed to 100.253.141.26:51002<br>=&gt; 100.253.141.26:51002 서버로 request body에 대한 prefetch가 실패하여(request header 전송은 완료하였으나 request body 전송 실패) '(70008)Partial results are valid but processing is incomplete' 에러가 발생합니다.<br><br>(70007)The timeout specified has expired: [client 100.118.93.87:62887] AH01102: error reading status line from remote server ep.ap4.r.samsunglife.kr:51002<br>=&gt; ep.ap4.r.samsunglife.kr:51002 서버로부터 응답이 없어서 '(70007)The timeout specified has expired' 에러가 발생합니다.<br><br>(70014)End of file found: [client 25.110.77.52:50040] AH01102: error reading status line from remote server ep.ap5.r.samsunglife.kr:51002<br>=&gt; ep.ap5.r.samsunglife.kr:51002 서버로부터 응답이 없어서 '(70014)End of file found:' 에러가 발생합니다.<br><br>(110)Connection timed out: AH00957: HTTPS: attempt to connect to 100.254.141.225:51031<br>=&gt; 100.254.141.225:51031 서버로 connect를 시도했으나 '(110)Connection timed out' 에러가 발생합니다.<br><br>http 400 'bad request' 는 다음과 같이 정의됩니다. [2]<br>The server cannot or will not process the request due to something that is perceived to be a client error. (e.g., malformed request syntax, invalid request message framing, or deceptive request routing)<br><br>정상처리가 되는 경우도 있기 때문에 'malformed request syntax' 으로 인한 문제는 아닌것으로 보이고,  위의 에러들을 봤을때는 request 전송 중에 packet 손실 등으로 정상적인 request가 전달되지 못하는 경우가 발생되지 않나 의심이 됩니다.<br><br>backend server의 상태(Full GC 등으로 인해 응답을 주지 못하는 경우가 있는지)와 서버의 network 상태는 체크가 되신 건가요?<br><br>말씀하신 에러들을 보면, client - web - was 구간의 communication 상에 connection들이 종종 끊기는 것으로 의심이 되는데, 이는 timeout을 늘리고 keepalive를 disable 하는 것만으로는 해결이 되지 않습니다.<br>backend server에서는 응답을 주지 못하는 상황이 전혀 없는지, 각 구간별 통신 시 packet 손실 등과 같이 network 이슈는 없는지 등에 대해서도 확인 부탁드립니다.<br><br>감사합니다. <br>Minwoo Park<br><br>[1] https://access.redhat.com/solutions/54579 - mod_proxy error End of file found: proxy: error reading status line from remote server<br>[2] https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#4xx_Client_errors<br><br><publishedDate>2017-10-13T07:48:09Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KgqNkIAJ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-13T06:15:46Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-13T06:15:46Z</b><br><br>또한 추가로 문의드립니다. <br><br>하기의 110 에러코드도 timeout으로 인해 발생하는 에러로 판단되는데 관련 에러코드들의 발생원인을 참고할만한 URL이 존재하는 지요?<br><br>[Wed Oct 11 09:00:13.248161 2017] [proxy:error] [pid 551:tid 140277800535808] (110)Connection timed out: AH00957: HTTPS: attempt to connect to 100.254.141.225:51031 (ep.ap5.p.samsunglife.kr) failed<br>[Wed Oct 11 09:00:13.248176 2017] [proxy_http:error] [pid 551:tid 140277800535808] [client 112.108.42.102:24097] AH01114: HTTP: failed to make connection to backend: ep.ap5.p.samsunglife.kr, referer: http://u-channel.samsunglife.com/portal/server.pt/gateway/PTARGS_0_0_384_217_0_43/http%3B/ap.xp.portal.samsunglife.kr%3B31000/po/wcOutbound/poGatwayOut.jsp?LNK_MGNT_ID=aml00971001<br> <br>기 가이드 주신 것과 같이 70007, 70008, 70014 등 (XXX) 의 에러코드에 대한 참고 URL을 요청드립니다. <br><br>감사합니다.<br><br><publishedDate>2017-10-13T06:15:46Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KgqMDIAZ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-13T06:13:41Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-13T06:13:41Z</b><br><br>안녕하세요! 빠른 답변에 감사드립니다. <br><br>추가로 요청사항이 발생하여 SR문의드립니다. <br><br>기 문의드린 error 로그 상 에러코드인 70008 이 발생 시 하기와 같이 access 로그에 unknown 상태의 400 HTTP 에러코드가 발생하는 패턴을 보여 <br>문의드립니다. <br><br>기 가이드 주신 것과 같이 mod_proxy를 설정할 경우 keepalive 에 의해 유사증상이 발생한 케이스가 있다고 하였는데 하기의 access 로그는<br>동일 node(ROUTEID=.ep29)에 약 1~3초 내외로 connection 되는 것으로 보여 확인을 요청드립니다. <br><br>## 200 정상 ##<br>203.241.147.14 - uid=0007851739,ou=people,dc=samsunglife,dc=com [12/Oct/2017:09:05:19 +0900] 70571 <br>&quot;POST /portal/dataService.do?info=l HTTP/1.1&quot; 200 222 &quot;https://erp-ep.samsunglife.com/irj/servlet/prt/portal/prtroot/request.Dispatcher&quot; &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3)&quot; &quot;WMONID=jJRDrW-F5jk; saplb_*=(J2EE102919720)102919751; JSESSIONID=cm5yU9av4UbJdoGRoQGowp4zy-QNXwFHbiIG_SAPFUo9gnnHRFv6nUI836FeF8LH; JSESSIONMARKID=m7vKvw-ogkFSZkURa4c1DgzNVOQETHgrPHqkduIgY; ROUTEID=.ep29; OAMAuthnHintCookie=1; MYSAPSSO2=AjExMDAgABFwb3J0YWw6MDAwNzg1MTczOYgAE2Jhc2ljYXV0aGVudGljYXRpb24BAAowMDA3ODUxNzM5AgADMDAwAwADUEVQBAAMMjAxNzEwMTIwMDAzBQAEAAAAEAoACjAwMDc4NTE3Mzn%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDEyMDAwMzM4WjAjBgkqhkiG9w0BCQQxFgQULb237F14PderfhJQbDOElpVWqiwwCQYHKoZIzjgEAwQ!MDwCHH2kMZk7fazG8yuStzVBywjf!noH!bcOBayfeK0CHBmC9WggEf6aTX9ijaa0X4ZqKIm30qTXYpPB0Ro%3D&quot;<br>###<br><br>## 400 HTTP 에러 ##<br>203.241.147.14 - unknown [12/Oct/2017:09:05:20 +0900] 71109 <br>&quot;POST /portal/dataService.do HTTP/1.1&quot; 400 774 &quot;https://erp-ep.samsunglife.com/irj/servlet/prt/portal/prtroot/request.Dispatcher&quot; &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3)&quot; &quot;WMONID=jJRDrW-F5jk; saplb_*=(J2EE102919720)102919751; JSESSIONID=cm5yU9av4UbJdoGRoQGowp4zy-QNXwFHbiIG_SAPFUo9gnnHRFv6nUI836FeF8LH; JSESSIONMARKID=m7vKvw-ogkFSZkURa4c1DgzNVOQETHgrPHqkduIgY; ROUTEID=.ep29; OAMAuthnHintCookie=1; MYSAPSSO2=AjExMDAgABFwb3J0YWw6MDAwNzg1MTczOYgAE2Jhc2ljYXV0aGVudGljYXRpb24BAAowMDA3ODUxNzM5AgADMDAwAwADUEVQBAAMMjAxNzEwMTIwMDAzBQAEAAAAEAoACjAwMDc4NTE3Mzn%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDEyMDAwMzM4WjAjBgkqhkiG9w0BCQQxFgQULb237F14PderfhJQbDOElpVWqiwwCQYHKoZIzjgEAwQ!MDwCHH2kMZk7fazG8yuStzVBywjf!noH!bcOBayfeK0CHBmC9WggEf6aTX9ijaa0X4ZqKIm30qTXYpPB0Ro%3D&quot;<br>##<br><br>## 200 정상처리  ##<br>203.241.147.14 - uid=0007851739,ou=people,dc=samsunglife,dc=com [12/Oct/2017:09:05:22 +0900] 58522 <br>&quot;POST /portal/dataService.do HTTP/1.1&quot; 200 4190 &quot;https://erp-ep.samsunglife.com/irj/servlet/prt/portal/prtroot/request.Dispatcher&quot; &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3)&quot; &quot;WMONID=jJRDrW-F5jk; saplb_*=(J2EE102919720)102919751; JSESSIONID=cm5yU9av4UbJdoGRoQGowp4zy-QNXwFHbiIG_SAPFUo9gnnHRFv6nUI836FeF8LH; JSESSIONMARKID=m7vKvw-ogkFSZkURa4c1DgzNVOQETHgrPHqkduIgY; ROUTEID=.ep29; OAMAuthnHintCookie=1; MYSAPSSO2=AjExMDAgABFwb3J0YWw6MDAwNzg1MTczOYgAE2Jhc2ljYXV0aGVudGljYXRpb24BAAowMDA3ODUxNzM5AgADMDAwAwADUEVQBAAMMjAxNzEwMTIwMDAzBQAEAAAAEAoACjAwMDc4NTE3Mzn%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDEyMDAwMzM4WjAjBgkqhkiG9w0BCQQxFgQULb237F14PderfhJQbDOElpVWqiwwCQYHKoZIzjgEAwQ!MDwCHH2kMZk7fazG8yuStzVBywjf!noH!bcOBayfeK0CHBmC9WggEf6aTX9ijaa0X4ZqKIm30qTXYpPB0Ro%3D&quot;<br>##<br><br>## 400 HTTP 에러##<br>203.241.147.14 - unknown [12/Oct/2017:09:05:24 +0900] 116375 <br>&quot;POST /portal/dataService.do HTTP/1.1&quot; 400 774 &quot;https://erp-ep.samsunglife.com/irj/servlet/prt/portal/prtroot/request.Dispatcher&quot; &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3)&quot; &quot;WMONID=jJRDrW-F5jk; saplb_*=(J2EE102919720)102919751; JSESSIONID=cm5yU9av4UbJdoGRoQGowp4zy-QNXwFHbiIG_SAPFUo9gnnHRFv6nUI836FeF8LH; JSESSIONMARKID=m7vKvw-ogkFSZkURa4c1DgzNVOQETHgrPHqkduIgY; ROUTEID=.ep29; OAMAuthnHintCookie=1; MYSAPSSO2=AjExMDAgABFwb3J0YWw6MDAwNzg1MTczOYgAE2Jhc2ljYXV0aGVudGljYXRpb24BAAowMDA3ODUxNzM5AgADMDAwAwADUEVQBAAMMjAxNzEwMTIwMDAzBQAEAAAAEAoACjAwMDc4NTE3Mzn%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDEyMDAwMzM4WjAjBgkqhkiG9w0BCQQxFgQULb237F14PderfhJQbDOElpVWqiwwCQYHKoZIzjgEAwQ!MDwCHH2kMZk7fazG8yuStzVBywjf!noH!bcOBayfeK0CHBmC9WggEf6aTX9ijaa0X4ZqKIm30qTXYpPB0Ro%3D&quot;<br>##<br><br>## 200 정상 ##<br>203.241.147.14 - uid=0007851739,ou=people,dc=samsunglife,dc=com [12/Oct/2017:09:05:27 +0900] 54609 <br>&quot;POST /portal/dataService.do HTTP/1.1&quot; 200 4191 &quot;https://erp-ep.samsunglife.com/irj/servlet/prt/portal/prtroot/request.Dispatcher&quot; &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3)&quot; &quot;WMONID=jJRDrW-F5jk; saplb_*=(J2EE102919720)102919751; JSESSIONID=cm5yU9av4UbJdoGRoQGowp4zy-QNXwFHbiIG_SAPFUo9gnnHRFv6nUI836FeF8LH; JSESSIONMARKID=m7vKvw-ogkFSZkURa4c1DgzNVOQETHgrPHqkduIgY; ROUTEID=.ep29; OAMAuthnHintCookie=1; MYSAPSSO2=AjExMDAgABFwb3J0YWw6MDAwNzg1MTczOYgAE2Jhc2ljYXV0aGVudGljYXRpb24BAAowMDA3ODUxNzM5AgADMDAwAwADUEVQBAAMMjAxNzEwMTIwMDAzBQAEAAAAEAoACjAwMDc4NTE3Mzn%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDEyMDAwMzM4WjAjBgkqhkiG9w0BCQQxFgQULb237F14PderfhJQbDOElpVWqiwwCQYHKoZIzjgEAwQ!MDwCHH2kMZk7fazG8yuStzVBywjf!noH!bcOBayfeK0CHBmC9WggEf6aTX9ijaa0X4ZqKIm30qTXYpPB0Ro%3D&quot;<br>##<br><br><publishedDate>2017-10-13T06:13:41Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Kfp1iIAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-10-10T06:25:56Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-10-10T06:25:55Z</b><br><br>안녕하세요,<br><br>~~~~~<br>[Tue Oct 10 10:47:33.897674 2017] [proxy_http:error] [pid 85474:tid 140355009332992] [client 25.77.17.37:29559] AH01097: pass request body failed to 100.254.141.234:50002 (ep.ap14.p.samsunglife.kr) from 25.77.17.37 (), referer: https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?type=UI5_PAGE&amp;id=PGEPQL10026&amp;zaPlanId=74646465930101017102&amp;zaChnlClSalesScCd=<br>~~~~~<br><br>위 메시지는 다음과 같이 정의가 될 수 있습니다.<br><br>~~~~~<br>The error pass request body failed indicates that the proxy made a successful connection to the backend server and sent the request headers (which generally fit in the first packet).<br>But, the connection for the body of the request (generally a POST request) is either dropped, or the backend server stopped reading the incoming data.<br><br>There are several possible causes for this issue: <br> - The backend web server crashed or hung while reading the request.<br> - The backend web server stalled and timed out while processing data from a long body, so the request could not be completed.<br> - The connection was closed prematurely, perhaps due to faulty networking or buggy implementations.<br>~~~~~<br><br>header 정보는 전달이 완료된 상태에서 POST request의 body 정보가 전달이 안되는 상태에 발생할 수 있는 메시지로,<br>위에 설명되어 있듯이 web-was 구간의 communication에 문제가 발생했을 경우에 나타날 수 있는 메시지 입니다.<br><br>종전 가이드 시 community tomcat의 경우 번들 http server와 정식 supported 되지 않는다 말씀주셨는데 정식 지원 가능한 WAS에 대하여 참고할만한 url이 있는지요?<br>=&gt;<br>약간의 오해가 있는듯 하여 다시 설명을 드리자면, community tomcat을 사용하여 support가 불가능하다는 의미는 community tomcat의 support가 불가능하다는 의미입니다.<br>web-was 구조에서 에러가 발생한 상황에서, 원인 분석을 위해서는 web-was 모두 분석이 되어야 좀 더 정확한 접근이 될 수 있습니다.<br>그러나 현재 사용하시는 구조가 was(community tomcat)가 support 되지 않는 제품이다 보니, web(httpd)의 로그만 가지고 분석이 되는 것에 대해 제한이 있다는 것을 말씀드린 것입니다.<br>오해 없으시길 바랍니다.<br><br>참고로 Red Hat에서 지원 가능한 WAS는 tomcat과 EAP로써, 지원 가능한 tomcat 버전 정보는 KCS [1]을 참조하실 수 있습니다.<br><br>감사합니다.<br><br>[1] https://access.redhat.com/solutions/661403 - What versions of Tomcat does Red Hat support?<br><br><publishedDate>2017-10-10T06:25:55Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KfoilIAB"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-10T05:57:38Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-10T05:57:38Z</b><br><br>안녕하세요 <br>추가로 확인요청드립니다. <br>##<br>현재 backend에 support 되지 않는 was를 사용중이셔서, 단순히 apache 쪽의 에러만 가지고 분석해드리는 데에는 약간의 한계가 있음을 상기부탁드립니다.<br>##<br>종전 가이드 시 community tomcat의 경우 번들 http server와 정식 supported 되지 않는다 말씀주셨는데 정식 지원 가능한 WAS에 대하여 참고할만한 url이 있는지요?<br><br>Is the community version of Tomcat supported?https://access.redhat.com/solutions/77133<br>Apache httpd versions supported in Red Hat Enterprise Linux - https://access.redhat.com/solutions/445713<br><br>감사합니다.<br><br><publishedDate>2017-10-10T05:57:38Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KfoQhIAJ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-10T05:30:02Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-10T05:30:02Z</b><br><br>빠른 답변감사드립니다 .<br><br>마지막으로 추가로 관련 error_log에 하기와 같은 케이스도 확인됩니다. <br> <br>[Tue Oct 10 10:47:33.897674 2017] [proxy_http:error] [pid 85474:tid 140355009332992] [client 25.77.17.37:29559] AH01097: pass request body failed to 100.254.141.234:50002 (ep.ap14.p.samsunglife.kr) from 25.77.17.37 (), referer: https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?type=UI5_PAGE&amp;id=PGEPQL10026&amp;zaPlanId=74646465930101017102&amp;zaChnlClSalesScCd=<br> <br>timeout 관련하여 강제로 종료되어 발생한 유사로그로 판단되는데 확인요청드립니다. <br><br>감사합니다.<br><br><publishedDate>2017-10-10T05:30:02Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KfnrpIAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-10-10T04:23:07Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-10-10T04:23:06Z</b><br><br>안녕하세요,<br><br>기존에 말씀드린 것처럼 아래의 에러 발생 원인은 web-was 간의 connection close가 root cause 입니다.<br><br>(70008)Partial results are valid but processing is incomplete:<br>(70007)The timeout specified has expired:<br>(70014)End of file found:<br><br>이는 크게 backend server의 응답 저하로 인한 timeout 초과, network 문제, keepalive connection 사용으로 인한 문제로 발생할 수 있습니다.<br>즉, connection close가 언제 어디서 이루어지는지가 주요 key point라 할 수 있습니다.<br><br>mod_proxy 사용시 ProxyTimeout 설정이 되어 있지 않으면 httpd.conf에 설정되는 Timeout 값이 ProxyTimeout의 default value가 됩니다.<br>Timeout은 글로벌하게 request의 전체 응답시간에 대한 타임아웃을 의미하며,<br>ProxyTimeout은 이 중 mod_proxy를 통한 proxy communication에 대한 타임아웃을 의미합니다.<br>따라서 Timeout &gt;= ProxyTimeout 으로 설정을 해주시는게 좋습니다.<br><br>web-was 간의 network은 정상인지도 확인이 이루어져야 합니다.<br>web-was 사이에 firewall은 없는지, netstat 등을 통해 tcp connection의 status가 비정상적인 경우가 발생하지는 않는지 등에 대한 모니터링이 필요합니다.<br><br>keepalive connection을 사용함에 따라 race condition에 따라 의도치않게 connection이 close 될 수가 있습니다.<br>따라서 timeout이나 network이 문제가 없다고 판단되어도 계속해서 에러가 발생한다면 keepalive를 disable 해볼 수가 있습니다.<br><br>현재 backend에 support 되지 않는 was를 사용중이셔서, 단순히 apache 쪽의 에러만 가지고 분석해드리는 데에는 약간의 한계가 있음을 상기부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-10-10T04:23:06Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KfnlBIAR"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-10T04:03:50Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-10T04:03:50Z</b><br><br>빠른 확인에 감사드립니다. <br><br>우선 답변주신 사항(keepalive, pooling 기능 사용을 disable)은 고객사에 전달하여 의사결정중에 있으며 추가 문의하신 내역에 대하여 답변드리니 참고하시기 바랍니다 <br><br>현재 발생하고 에러는 '(70014)End of file found: [client 25.110.7.90:52657] AH01102: error reading status line from remote server' 뿐인 건가요?<br>--&gt; 70007, 70008, 70014 세 에러메세지가 반복하여 적재되고 있습니다. 일부 로그만 발췌하여 첨부드린 것입니다. <br><br>timeout 증가 이후에 &quot;(70007)The timeout specified has expired&quot;, &quot;(70008)Partial results are valid but processing is incomplete&quot; 에러는 해결되었나요?<br>--&gt; 아닙니다. 꾸준히 발생하고 있습니다. <br><br>backend server에서는 'broken pipe'나 기타 다른 메시지가 발생하는 것이 있나요?<br>--&gt; 일부 broken pipe가 발생하는 케이스도 있습니다. <br><br>감사합니다.<br><br><publishedDate>2017-10-10T04:03:50Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KfnIiIAJ"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-10-10T02:35:41Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-10-10T03:49:27Z</b><br><br>안녕하세요,<br><br>~~~~~<br>해당 응답이 하기의 것들 중 어느 것에 대한 timeout 인지 확인 요청드립니다. <br>1. client의 최초 요청이 발생하여 web - was 간의 최초 연결 시<br>2. web-was 간 연결되어 관련 data를 가져오는 시간 <br>~~~~~<br><br>(70007)The timeout specified has expired<br>의 경우에는 web-was간 연결 후 response 시간에 의한 timeout 으로 설명될 수 있습니다.<br><br>(70014)End of file found<br>(70008)Partial results are valid but processing is incomplete<br>의 경우에는 최초 요청 시나 web-was 연결 이후에나 둘다 나올 수 있는 메시지 입니다. (연결되는 추가적인 메시지를 보고 확인을 해야함)<br><br>&quot;(70014)End of file found: proxy: prefetch request body failed&quot; 와 같은 경우에는 'request body from a http client is incomplete'의 의미로써 최초 요청 시에도 발생할 수 있습니다.<br><br>처음에 보여주신 메시지 내용으로 봤을 때는 70007, 70008, 70014 가 모두 발생하는 형태로써<br>이로 인해 1차적으로는 timeout에 의해 web-was 연결이 끊기는 것을 의심할 수 있으며, 추가적으로 network이나 keepalive에 의한 close를 의심할 수 있었습니다.<br><br>~~~~~<br>##error log 스택 ##<br>[Fri Sep 22 14:43:32.744196 2017] [proxy_http:error] [pid 7092:tid 140229314594560] (70008)Partial results are valid but processing is incomplete: [client 100.3.58.18:50568] AH01095: prefetch request body failed to 100.253.141.26:51002 (ep.ap6.r.samsunglife.kr) from 100.3.58.18 (), referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?IS_POPUP=true<br>[Fri Sep 22 14:44:47.512183 2017] [proxy_http:error] [pid 87764:tid 140228953708288] (70007)The timeout specified has expired: [client 100.118.93.87:62887] AH01102: error reading status line from remote server ep.ap4.r.samsunglife.kr:51002, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU1606130654107043562E053B6C6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506054774374&amp;logType=&amp;noticeYn=N&amp;_KDFS_=FpHisohX45y8qSJzMWULRXLETivF59VcZD%2F0e%2B70lRDjewwXeDuXaWFFatwPaESSZj0KluwY0FTkVfWUtyOIwP%2FtjOXU4h5ZYMQLAAzbOqkU4mcuqM4mmbFegTywEXKIUlaC%2FtIoWIKnO0FHBn40bNNZP7HDylgl8cs%2B7smtechuAT%2FZ31ks7QKPgseeGWDNFx4kzkSxVSfgI7VkyMy%2F%2FPGIXuwWfVk79iQ6mWgBKE4I3xtURByqGAt1%2BO0YZBsY0pBcsSshwR5oVZ%2FY34tb%2F%2FOhKIodPZFxSyIIGoS2x%2BoqmfuglKh0oxT9O8qrzNUeKxa2L%2BH%2FF82cI0BkIL5E4Q%3D%3D<br>[Fri Sep 22 15:00:29.087572 2017] [proxy_http:error] [pid 7092:tid 140229851727616] (70014)End of file found: [client 25.110.77.52:50040] AH01102: error reading status line from remote server ep.ap5.r.samsunglife.kr:51002, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471593853C709EAE054&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506059983299&amp;logType=&amp;noticeYn=N&amp;_KDFS_=A5k3BsVb1dhj7orO9Oa54CJHSwcCftqm2uc4LlcQ7f6xZsooGHqThhXOovMXhs1Md%2BdKDMg4aqWoe5QQWGxiJN0SdISpDTg4KQVI35CfFeJOG4Ths1k7yS%2BEUYfjBSNhed1W22bqss5qUmS02BNDQ4mTHbr6iDGczt1sl1G%2BrnbzP7vsEx94CtR2iv%2FR6UI3EdJ1NgFErTNmX0rr4lxFVz5qaOeAzSQovFl4FWbTs88rTMfHYBJmdU9PVVUsLoHxtMRJtJIYp3%2BRIuKvXuFqp5UtrBwuh3wlD6bv%2F7Tdq2R9gjxs%2BtZ%2BdcGRZrvXGoEuAnCWgmwMLVk%2F1t2%2Bh3lGsQ%3D%3D<br>[Fri Sep 22 15:00:29.087594 2017] [proxy:error] [pid 7092:tid 140229851727616] [client 25.110.77.52:50040] AH00898: Error reading from remote server returned by /portal/dataService.do, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471593853C709EAE054&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506059983299&amp;logType=&amp;noticeYn=N&amp;_KDFS_=A5k3BsVb1dhj7orO9Oa54CJHSwcCftqm2uc4LlcQ7f6xZsooGHqThhXOovMXhs1Md%2BdKDMg4aqWoe5QQWGxiJN0SdISpDTg4KQVI35CfFeJOG4Ths1k7yS%2BEUYfjBSNhed1W22bqss5qUmS02BNDQ4mTHbr6iDGczt1sl1G%2BrnbzP7vsEx94CtR2iv%2FR6UI3EdJ1NgFErTNmX0rr4lxFVz5qaOeAzSQovFl4FWbTs88rTMfHYBJmdU9PVVUsLoHxtMRJtJIYp3%2BRIuKvXuFqp5UtrBwuh3wlD6bv%2F7Tdq2R9gjxs%2BtZ%2BdcGRZrvXGoEuAnCWgmwMLVk%2F1t2%2Bh3lGsQ%3D%3D<br>~~~~~<br><br>timeout으로 인한 close 확인을 위해서는 backend 서버의 상태를 체크해야 하며, community version의 tomcat을 사용하고 있고 응답지연이 있다고 확인해주셨습니다.<br><br>현재 발생하고 에러는 '(70014)End of file found: [client 25.110.7.90:52657] AH01102: error reading status line from remote server' 뿐인 건가요?<br>timeout 증가 이후에 &quot;(70007)The timeout specified has expired&quot;, &quot;(70008)Partial results are valid but processing is incomplete&quot; 에러는 해결되었나요?<br>backend server에서는 'broken pipe'나 기타 다른 메시지가 발생하는 것이 있나요?<br><br>~~~~~<br>&lt;Error Log&gt;<br>[Tue Oct 10 10:06:57.949893 2017] [proxy_http:error] [pid 111876:tid 139785011918592] (70014)End of file found: [client 25.110.7.90:52657] AH01102: error reading status line from remote server ep.ap10.p.samsunglife.kr:51002, referer: https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471586331E0542AC0B6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1507597614643&amp;logType=&amp;IS_POPUP=<br> <br>&lt;Access Log&gt;<br>25.110.7.90 - uid=5000017222,ou=people,dc=samsunglife,dc=com [10/Oct/2017:10:06:57 +0900] 1547876 &quot;POST /portal/dataService.do?info=l HTTP/1.1&quot; 200 224 &quot;https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471586331E0542AC0B6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1507597614643&amp;logType=&amp;IS_POPUP=&quot; &quot;Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko&quot; &quot;OAMAuthnHintCookie=1; OAM_GITO=0/BK/+NT7LvXF+3UOsNiyg==~DJH32XndfcBJ6AkZUhoCntNsysjJbjQmQCX2ctXEcy3lLhpkwv6MeVRSgCF+5yMZQI4g/pBuitxDBpgMJpHcsTD1uQG/BGdazWQB7nQT6VRIqeJ25o7YuC+0dBVi+HZocTRxJIPqd0oLs0to7OEHOAZ/sE04j47E3+IivLcrlqkM4FbvSv8zYthE33GXCflUuvaMiZq3YLTuFlC/yz/yzSE7pajj70GNoqxZ2BVWZGK+oBjMlkAkevoQMLbqU9y3; MYSAPSSO2=AjExMDAgABFwb3J0YWw6NTAwMDAxNzIyMogAE2Jhc2ljYXV0aGVudGljYXRpb24BAAo1MDAwMDE3MjIyAgADMDAwAwADUEVQBAAMMjAxNzEwMDkyMjUzBQAEAAAACAoACjUwMDAwMTcyMjL%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDA5MjI1MzE0WjAjBgkqhkiG9w0BCQQxFgQUFuoZGvFRTfY12qkiIjDFWHdfoREwCQYHKoZIzjgEAwQ!MDwCHCMgj8va!H5FtLGM7hVgJ0gK0cKLYkzG0lMn7gsCHA4UoDIZEQ4fsucFvbTTilD1MrY%2FycX!j%2F8LYOs%3<br>~~~~~<br><br>위와 같은 현상이 발생하는 원인은 mod_proxy_http의 keepalive connection 사용에 의해 발생될 수 있음을 의심할 수 있습니다.<br>KCS [1]의 Resolution에 설명된 것처럼 keepalive connection으로 인한 이슈를 방지하기 위해 keepalive를 disable 해볼수 있습니다.<br><br>~~~~~<br>Resolution<br>- These can happen either because of network problems or problems on the backend server or because of a race condition in the proxy code. If the back end is a java based server (Tomcat or JBoss), see Java application unresponsive for troubleshooting backend issues that are inducing such proxy connection errors and timeouts.<br>- The bug that caused this was a race condition that was fixed in 2.2.10 so that shouldn't be causing any issues in the EWS 1.0.1 (which ships with httpd 2.2.14). <br>- Try increasing the Timeout or ProxyTimeout to see if that mitigates the issue (say to 600 then 900).   If using mod_cluster, nodeTimeout can be set in mod-cluster-jboss-beans.xml. It is possible that backend/application code is misbehaving and delaying responses.<br>- Try adding SetEnv proxy-nokeepalive 1 to your httpd config to disable keepalive to avoid any issues caused by failed keepalive connections.<br>~~~~~<br><br>web-was communication에 ajp가 아닌 http(mod_proxy_http), https(mod_proxy_https)를 이용하고 계시는 것으로 보입니다.<br><br>mod_proxy_http 모듈 문서[2]를 보면 아래와 같이 'error reading status line from remote server' 메시지에 대한 설명이 나와 있습니다.<br>&quot;proxy: error reading status line from remote server&quot; error message caused by the race condition that the backend server closed the pooled connection after the connection check by the proxy and before data sent by the proxy reached the backend.<br><br>~~~~~<br>proxy-nokeepalive<br>: Forces the proxy to close the backend connection after each request.<br><br>proxy-initial-not-pooled<br>: If this variable is set, no pooled connection will be reused if the client request is the initial request on the frontend connection. This avoids the &quot;proxy: error reading status line from remote server&quot; error message caused by the race condition that the backend server closed the pooled connection after the connection check by the proxy and before data sent by the proxy reached the backend. It has to be kept in mind that setting this variable downgrades performance, especially with HTTP/1.0 clients. <br>~~~~~<br><br>현재 위와 같이 '(70014)End of file found: [client 25.110.7.90:52657] AH01102: error reading status line from remote server' 에러만 발생하신다면 아래와 같이 keepalive, pool 기능을 disable 하여 사용을 해보셔야 할 것으로 보입니다.<br>단, 위의 설명에서와 같이 keepalive, pooling 기능 사용을 disable 하는 경우에는 서비스 패턴에 따라 성능저하가 발생할 수 있습니다.<br><br>~~~~~<br>SetEnv proxy-nokeepalive 1<br>SetEnv proxy-initial-not-pooled 1<br>~~~~~<br><br>감사합니다.<br><br>[1] https://access.redhat.com/solutions/54579 - mod_proxy error End of file found: proxy: error reading status line from remote server <br>[2] https://httpd.apache.org/docs/2.4/mod/mod_proxy_http.html<br><br><publishedDate>2017-10-10T02:35:40Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KfmxBIAR"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-10T01:40:13Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-10T01:40:13Z</b><br><br>기 문의드린 것과 더불어 하기의 현상에 대하여 확인요청드립니다. <br><br>현상<br>1. timeout : 600s<br>2. access로그 상 걸린시간 : 1547876ms<br>3. error log에 타임아웃 관련 에러발생<br>4. 하지만 access log에 200 코드 찍힘<br> <br>위와 같은 현상에 대해 문의 드리오니 답변 부탁드립니다.<br> <br>&lt;Error Log&gt;<br>[Tue Oct 10 10:06:57.949893 2017] [proxy_http:error] [pid 111876:tid 139785011918592] (70014)End of file found: [client 25.110.7.90:52657] AH01102: error reading status line from remote server ep.ap10.p.samsunglife.kr:51002, referer: https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471586331E0542AC0B6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1507597614643&amp;logType=&amp;IS_POPUP=<br> <br>&lt;Access Log&gt;<br>25.110.7.90 - uid=5000017222,ou=people,dc=samsunglife,dc=com [10/Oct/2017:10:06:57 +0900] 1547876 &quot;POST /portal/dataService.do?info=l HTTP/1.1&quot; 200 224 &quot;https://ep.ap.p.samsunglife.kr:8443/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471586331E0542AC0B6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1507597614643&amp;logType=&amp;IS_POPUP=&quot; &quot;Mozilla/5.0 (Windows NT 6.1; Trident/7.0; rv:11.0) like Gecko&quot; &quot;OAMAuthnHintCookie=1; OAM_GITO=0/BK/+NT7LvXF+3UOsNiyg==~DJH32XndfcBJ6AkZUhoCntNsysjJbjQmQCX2ctXEcy3lLhpkwv6MeVRSgCF+5yMZQI4g/pBuitxDBpgMJpHcsTD1uQG/BGdazWQB7nQT6VRIqeJ25o7YuC+0dBVi+HZocTRxJIPqd0oLs0to7OEHOAZ/sE04j47E3+IivLcrlqkM4FbvSv8zYthE33GXCflUuvaMiZq3YLTuFlC/yz/yzSE7pajj70GNoqxZ2BVWZGK+oBjMlkAkevoQMLbqU9y3; MYSAPSSO2=AjExMDAgABFwb3J0YWw6NTAwMDAxNzIyMogAE2Jhc2ljYXV0aGVudGljYXRpb24BAAo1MDAwMDE3MjIyAgADMDAwAwADUEVQBAAMMjAxNzEwMDkyMjUzBQAEAAAACAoACjUwMDAwMTcyMjL%2FAW4wggFqBgkqhkiG9w0BBwKgggFbMIIBVwIBATELMAkGBSsOAwIaBQAwCwYJKoZIhvcNAQcBMYIBNjCCATICAQEweDBsMQswCQYDVQQGEwJLUjEOMAwGA1UECRMFU2VvdWwxDDAKBgNVBAoTA0VSUDEQMA4GA1UEBxMHSnVuZy1ndTEfMB0GA1UECxMWU2Ftc3VuZyBMaWZlIEluc3VyYW5jZTEMMAoGA1UEAxMDUEVQAggKIBYIFgIIFDAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTcxMDA5MjI1MzE0WjAjBgkqhkiG9w0BCQQxFgQUFuoZGvFRTfY12qkiIjDFWHdfoREwCQYHKoZIzjgEAwQ!MDwCHCMgj8va!H5FtLGM7hVgJ0gK0cKLYkzG0lMn7gsCHA4UoDIZEQ4fsucFvbTTilD1MrY%2FycX!j%2F8LYOs%3<br><br><publishedDate>2017-10-10T01:40:13Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KfmhIIAR"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-10T01:11:33Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-10T01:11:33Z</b><br><br>안녕하세요 추가로 문의드립니다. <br>기 답변주신 것 중 web-was 간 backend server로부터 응답이 없을 때 하기의 에러코드가 발생할 수 있다고 하였습니다. <br><br>해당 응답이 하기의 것들 중 어느 것에 대한 timeout 인지 확인 요청드립니다. <br><br>1. client의 최초 요청이 발생하여 web - was 간의 최초 연결 시<br>2. web-was 간 연결되어 관련 data를 가져오는 시간 <br><br>감사합니다. <br>https://httpd.apache.org/docs/2.4/mod/core.html#timeout<br>https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxytimeout<br><br><publishedDate>2017-10-10T01:11:33Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KYb1cIAD"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-09-25T04:23:19Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-09-25T04:23:19Z</b><br><br>안녕하세요,  <br><br>확인 감사드립니다.<br><br>요청대로 본 케이스를 처리완료하도록 하겠습니다. 만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재오픈하실 수 있습니다.  <br>     <br>케이스가 처리 완료되면 가능하게 고객 설문조사 메일이 발생됩니다. 고객님께서 남기 신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다. 향후 기술  지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다. <br><br>그리고 아래 Red Hat Customer Portal group을 통하여 많은 유용한 정보들을 볼수 있으니 참고하시기 바랍니다.<br><br>Featured Groups:<br>Red Hat Enterprise Linux - https://access.redhat.com/groups/red-hat-enterprise-linux<br>Red Hat Enterprise Linux 7 Ideas - https://access.redhat.com/groups/red-hat-enterprise-linux-7-ideas<br>Red Hat Enterprise Linux Developer Program (beta) - https://access.redhat.com/groups/red-hat-enterprise-linux-developer-program-beta<br>Red Hat Enterprise Virtualization - https://access.redhat.com/groups/red-hat-enterprise-virtualization<br>Red Hat Storage - https://access.redhat.com/groups/red-hat-storage<br>JBoss Enterprise Middleware - https://access.redhat.com/groups/jboss-enterprise-middleware<br>Red Hat Network Satellite - https://access.redhat.com/groups/red-hat-network-satellite<br>       <br>감사합니다.  <br>Minwoo Park<br><br><publishedDate>2017-09-25T04:23:19Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KYasGIAT"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-09-25T03:49:53Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-09-25T03:49:53Z</b><br><br>안녕하세요<br>확인감사드립니다 .<br><br>우선 문의하신 <br><br>첨부된 ep.httpd_conf.txt 의 BalancerMember와는 로그 상에 보이는 backend server 정보가 좀 달라 보입니다<br>--&gt; 첨부드린 로그는 사전운영계 시스템이고 첨부드린 설정파일은 운영계 설정파일이라 구성이 상이할 수 있습니다. <br>고객사 사정으로 인해 파일 반출이 어려워 운영계 설정을 첨부드린 것이며, 다만 설정값은 동일하여 첨부드린 것입니다 .<br><br>backend 서버에서 무슨 서비스를 하고 계시는 건가요?<br>EAP jboss를 이용한 서비스 인가요?<br>--&gt; community tomcat을 연동하여 서비스 하고 있습니다. <br><br>답변주신 것과 같이 응답지연 시 발생하는 현상으로 확인되었습니다. <br>문의드린 것은 최초 문의시 기 말씀드린 것과 같이 브라우져 특성 혹인 제품 버그 관련내역이 검색되어 확인차 문의드린 것입니다. <br><br>확인감사합니다.<br><br><publishedDate>2017-09-25T03:49:53Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KYaYfIAL"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-09-25T02:45:43Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-09-25T02:45:43Z</b><br><br>안녕하세요,  <br>  <br>Red Hat Global Support Services를 이용해주셔서 감사합니다.  <br><br>(70008)Partial results are valid but processing is incomplete:<br>(70007)The timeout specified has expired:<br>(70014)End of file found:<br><br>위 에러는 apache - backend server 사이의 network problem 또는 ProxyTimeout 내에 backend server로부터 응답이 없을 때 주로 발생하게 됩니다.<br><br>로그를 보면 에러가 발생한 backend server는 아래와 같습니다. <br>100.253.141.26:51002 (ep.ap6.r.samsunglife.kr)<br>ep.ap4.r.samsunglife.kr:51002<br>ep.ap5.r.samsunglife.kr:51002<br><br>참고로, 첨부된 ep.httpd_conf.txt 의 BalancerMember와는 로그 상에 보이는 backend server 정보가 좀 달라 보입니다.<br><br>BalancerMember https://ep.ap1.p.samsunglife.kr:50002 route=ep1<br>BalancerMember https://ep.ap2.p.samsunglife.kr:50002 route=ep2<br>BalancerMember https://ep.ap3.p.samsunglife.kr:50002 route=ep3<br>BalancerMember https://ep.ap1.p.samsunglife.kr:51002 route=ep9<br>BalancerMember https://ep.ap2.p.samsunglife.kr:51002 route=ep10<br>BalancerMember https://ep.ap3.p.samsunglife.kr:51002 route=ep11<br><br>backend 서버에서 무슨 서비스를 하고 계시는 건가요?<br>EAP jboss를 이용한 서비스 인가요?<br><br>일단은 apache access log format에 '%T'을 추가하여 실제 해당 request 의 수행시간을 체크해봐야 합니다. (KCS [1] 참조)<br>설정하신 ProxyTimeout (미 설정시 httpd.conf의 Timeout 값이 적용됨) 시간만큼의 수행시간이 보인다면 backend server에서 응답이 오래 걸리는 이유를 찾으셔야 합니다. (jvm일 경우 long full gc 와 같은 현상이 발생했는지 확인 필요)<br><br>ProxyTimeout 이내에 에러가 발생한다면, apache와 backend server 사이에 firewall과 같이 network 을 끊는 요인이 있는지 확인이 필요합니다. <br><br>감사합니다. <br>Minwoo Park <br><br><br>[1] https://access.redhat.com/solutions/344973 - How to configure the log fomat of apache<br><br><publishedDate>2017-09-25T02:45:43Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KYaQHIA1"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-09-25T02:20:01Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-09-25T02:20:01Z</b><br><br>확인요청드립니다<br><br><publishedDate>2017-09-25T02:20:01Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KYUcdIAH"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-09-23T01:10:14Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-09-23T01:10:14Z</b><br><br>공식홈페이지 내 관련 솔루션이 확인되는데 맞는지요?<br>https://access.redhat.com/solutions/772613<br>확인요청드립니다.<br><br><publishedDate>2017-09-23T01:10:14Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KYUcTIAX"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-09-23T01:09:25Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-09-23T01:09:25Z</b><br><br>안녕하세요<br><br>## 고객정보 ##<br>1. 고객사 : 삼성생명<br>2. 고객명:박현우 선임<br>3. 연락처 : 010-9104-2853 <br>##<br><br>## 문의 ##<br>하기의 에러가 빈번하게 발생하며 정상적으로 서비스가 안되는 현상이며 관련 로그스택 검색 시 제품 버그 관련 설정이 함께 확인되어 문의드립니다. <br>하기의 에러스택 발생 원인과 해결방안을 요청드립니다. <br>(70008)Partial results are valid but processing is incomplete<br>(70007)The timeout specified has expired<br>##<br><br>##error log 스택 ##<br>[Fri Sep 22 14:43:32.744196 2017] [proxy_http:error] [pid 7092:tid 140229314594560] (70008)Partial results are valid but processing is incomplete: [client 100.3.58.18:50568] AH01095: prefetch request body failed to 100.253.141.26:51002 (ep.ap6.r.samsunglife.kr) from 100.3.58.18 (), referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?IS_POPUP=true<br>[Fri Sep 22 14:44:47.512183 2017] [proxy_http:error] [pid 87764:tid 140228953708288] (70007)The timeout specified has expired: [client 100.118.93.87:62887] AH01102: error reading status line from remote server ep.ap4.r.samsunglife.kr:51002, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU1606130654107043562E053B6C6&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506054774374&amp;logType=&amp;noticeYn=N&amp;_KDFS_=FpHisohX45y8qSJzMWULRXLETivF59VcZD%2F0e%2B70lRDjewwXeDuXaWFFatwPaESSZj0KluwY0FTkVfWUtyOIwP%2FtjOXU4h5ZYMQLAAzbOqkU4mcuqM4mmbFegTywEXKIUlaC%2FtIoWIKnO0FHBn40bNNZP7HDylgl8cs%2B7smtechuAT%2FZ31ks7QKPgseeGWDNFx4kzkSxVSfgI7VkyMy%2F%2FPGIXuwWfVk79iQ6mWgBKE4I3xtURByqGAt1%2BO0YZBsY0pBcsSshwR5oVZ%2FY34tb%2F%2FOhKIodPZFxSyIIGoS2x%2BoqmfuglKh0oxT9O8qrzNUeKxa2L%2BH%2FF82cI0BkIL5E4Q%3D%3D<br>[Fri Sep 22 15:00:29.087572 2017] [proxy_http:error] [pid 7092:tid 140229851727616] (70014)End of file found: [client 25.110.77.52:50040] AH01102: error reading status line from remote server ep.ap5.r.samsunglife.kr:51002, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471593853C709EAE054&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506059983299&amp;logType=&amp;noticeYn=N&amp;_KDFS_=A5k3BsVb1dhj7orO9Oa54CJHSwcCftqm2uc4LlcQ7f6xZsooGHqThhXOovMXhs1Md%2BdKDMg4aqWoe5QQWGxiJN0SdISpDTg4KQVI35CfFeJOG4Ths1k7yS%2BEUYfjBSNhed1W22bqss5qUmS02BNDQ4mTHbr6iDGczt1sl1G%2BrnbzP7vsEx94CtR2iv%2FR6UI3EdJ1NgFErTNmX0rr4lxFVz5qaOeAzSQovFl4FWbTs88rTMfHYBJmdU9PVVUsLoHxtMRJtJIYp3%2BRIuKvXuFqp5UtrBwuh3wlD6bv%2F7Tdq2R9gjxs%2BtZ%2BdcGRZrvXGoEuAnCWgmwMLVk%2F1t2%2Bh3lGsQ%3D%3D<br>[Fri Sep 22 15:00:29.087594 2017] [proxy:error] [pid 7092:tid 140229851727616] [client 25.110.77.52:50040] AH00898: Error reading from remote server returned by /portal/dataService.do, referer: https://ep.ap.r.samsunglife.kr:8444/irj/servlet/prt/portal/prtroot/request.Dispatcher?pid=&amp;id=MNU17080406471593853C709EAE054&amp;type=MENU&amp;hkey=&amp;reqStartTime=1506059983299&amp;logType=&amp;noticeYn=N&amp;_KDFS_=A5k3BsVb1dhj7orO9Oa54CJHSwcCftqm2uc4LlcQ7f6xZsooGHqThhXOovMXhs1Md%2BdKDMg4aqWoe5QQWGxiJN0SdISpDTg4KQVI35CfFeJOG4Ths1k7yS%2BEUYfjBSNhed1W22bqss5qUmS02BNDQ4mTHbr6iDGczt1sl1G%2BrnbzP7vsEx94CtR2iv%2FR6UI3EdJ1NgFErTNmX0rr4lxFVz5qaOeAzSQovFl4FWbTs88rTMfHYBJmdU9PVVUsLoHxtMRJtJIYp3%2BRIuKvXuFqp5UtrBwuh3wlD6bv%2F7Tdq2R9gjxs%2BtZ%2BdcGRZrvXGoEuAnCWgmwMLVk%2F1t2%2Bh3lGsQ%3D%3D<br><br><publishedDate>2017-09-23T01:09:25Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>