======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-06-17T04:16:33Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2016-07-02T10:07:03Z</b><br><b>id : 500A000000UatU9IAJ</b><br>======================<br><br><b><font size=15>
제목  : [기술문의]system-auth 정책 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>아래  system-auth  정책 부분 옵션 값이 의미 하는 것은 어떤것인가요?<br><br>그리고 디폴트  /etc/pam.d/system-auth  값과 차이점은 어느 부분이 있을까요?<br><br>감사합니다.<br><br>             &gt;&gt;   아          래   &lt;&lt;<br><br>root@sli_smart1 /root # cat /etc/login.defs | grep -v ^#<br>MAIL_DIR        /var/spool/mail<br>PASS_MAX_DAYS   99999<br>PASS_MIN_DAYS   7<br>PASS_MIN_LEN    8<br>PASS_WARN_AGE   7<br>UID_MIN                   500<br>UID_MAX                 60000<br>GID_MIN                   500<br>GID_MAX                 60000<br><br>CREATE_HOME     yes<br>UMASK           077<br>USERGROUPS_ENAB yes<br>MD5_CRYPT_ENAB yes<br>ENCRYPT_METHOD MD5<br> <br>root@sli_smart1 /root # cat /etc/pam.d/system-auth| grep -v ^#<br>auth        required      pam_env.so<br>auth        required      /lib64/security/pam_tally.so deny=4 unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>account     required      pam_unix.so<br>account     required      pam_permit.so<br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br>auth        required      pam_tally.so<br>account     required      pam_tally.so deny=10 reset<br>root@sli_smart1 /root #<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>=================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김종휘 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-9580-6587<br>- 메일주소 : 김종휘 &lt;jjpaper.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com'''<br>=================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 5.5</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000HJlAzIAL"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-06-17T06:32:35Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-06-17T06:32:35Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>말씀하신 설정중 pam_tally.so 관련 설정이 추가된 부분인 것으로 보입니다.<br>해당 pam 모듈은 일반유저가 로그인 시도시 4번 실패시 해당 유저를<br>1800초동안 locking 작용을 합니다.<br><br>다만 pam_tally.so pam 모듈은 pam_unix.so 위에 설정해 주어야 되며<br>해당 설정 파일에 auth pam_tally.so 설정이 중복된 것으로 보이며<br>account 부분에는 deny reset 옵션이 없습니다.<br><br>따라서 아래와 같이 설정해 주시면 될 것으로 보입니다. 참고 하시기 바랍니다.<br><br># cat /etc/pam.d/system-auth| grep -v ^#<br>auth        required      pam_env.so<br>auth        required      pam_tally.so deny=4 unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_tally.so<br>account     required      pam_unix.so<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br>감사합니다.<br><br><publishedDate>2016-06-17T06:32:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>아래  system-auth  정책 부분 옵션 값이 의미 하는 것은 어떤것인가요?<br><br>그리고 디폴트  /etc/pam.d/system-auth  값과 차이점은 어느 부분이 있을까요?<br><br>감사합니다.<br><br>             &gt;&gt;   아          래   &lt;&lt;<br><br>root@sli_smart1 /root # cat /etc/login.defs | grep -v ^#<br>MAIL_DIR        /var/spool/mail<br>PASS_MAX_DAYS   99999<br>PASS_MIN_DAYS   7<br>PASS_MIN_LEN    8<br>PASS_WARN_AGE   7<br>UID_MIN                   500<br>UID_MAX                 60000<br>GID_MIN                   500<br>GID_MAX                 60000<br><br>CREATE_HOME     yes<br>UMASK           077<br>USERGROUPS_ENAB yes<br>MD5_CRYPT_ENAB yes<br>ENCRYPT_METHOD MD5<br> <br>root@sli_smart1 /root # cat /etc/pam.d/system-auth| grep -v ^#<br>auth        required      pam_env.so<br>auth        required      /lib64/security/pam_tally.so deny=4 unlock_time=1800<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>account     required      pam_unix.so<br>account     required      pam_permit.so<br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br>auth        required      pam_tally.so<br>account     required      pam_tally.so deny=10 reset<br>root@sli_smart1 /root #</issue><timeFramesAndUrgency>=================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김종휘 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-9580-6587<br>- 메일주소 : 김종휘 &lt;jjpaper.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com'''<br>=================================================================</timeFramesAndUrgency><cep>false</cep></case>