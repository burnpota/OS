======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-04-09T01:32:26Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-04-25T10:03:47Z</b><br><b>id : 500A000000aNsY3IAK</b><br>======================<br><br><b><font size=15>
제목  : [분석의뢰]시스템 멈춤현상
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요.<br>시스템이 부하가 높아져서 행이 발생하였습니다.<br>로그를보니 <br>Apr  7 04:06:47 SLPEMMAL0A kernel: EglMain invoked oom-killer: gfp_mask=0x280da, order=0, oom_score_adj=0<br>Apr  7 04:06:47 SLPEMMAL0A kernel: EglMain cpuset=/ mems_allowed=0<br>Apr  7 04:06:47 SLPEMMAL0A kernel: CPU: 4 PID: 5269 Comm: EglMain Tainted: P           OE  ------------   3.10<br><br>..&lt;생략&gt;..<br>Apr  7 04:06:48 SLPEMMAL0A kernel: Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=2048kB<br>Apr  7 04:06:48 SLPEMMAL0A kernel: 8211 total pagecache pages<br>Apr  7 04:06:48 SLPEMMAL0A kernel: 4726 pages in swap cache<br>Apr  7 04:06:48 SLPEMMAL0A kernel: Swap cache stats: add 2962012, delete 2957286, find 367195/443280<br>Apr  7 04:06:48 SLPEMMAL0A kernel: Free swap  = 0kB<br>Apr  7 04:06:48 SLPEMMAL0A kernel: Total swap = 8388604kB<br>Apr  7 04:06:48 SLPEMMAL0A kernel: 8388494 pages RAM<br>Apr  7 04:06:48 SLPEMMAL0A kernel: 0 pages HighMem/MovableOnly<br>Apr  7 04:06:48 SLPEMMAL0A kernel: 217009 pages reserved<br>..<br><br>이후로 지속적으로 문제가 발생하는것이로 판단됩니다.<br><br>해당 사항에 대해서 분석의뢰 부탁드립니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLPEMMAL0A</hostname><br><br><br><comment id="a0aA000000LTqpjIAD"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-04-09T09:34:13Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-04-09T09:34:13Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>네. 시스템상에서는 locking_type = 1 으로 되어 있지만 lvs 명령어를 실행시 --config=&quot;global{locking_type=0}&quot;를 <br>추가하면 해당 메세지가 출력되는 것이므로 이것은 정상현상이라고 말씀드릴수 있을 것 같습니다.<br><br>감사합니다.<br><br><publishedDate>2018-04-09T09:34:13Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LTq9XIAT"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-04-09T08:49:16Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-04-09T08:49:16Z</b><br><br>답변감사합니다.<br>근데 현재 sosreport상에서는<br>locking_type = 1 로 확인이 되는데 다시 한번 확인 부탁드려도 될까요??<br><br><publishedDate>2018-04-09T08:49:16Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LTntYIAT"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-04-09T05:40:57Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-04-09T05:40:57Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>sosreport 수집시 아래와 같이 명령어를 실행하여 데이터를 수집하게 되는데 &quot;locking_type=0&quot; 이면 해당 메세지가 출력이 됩니다.<br><br># grep lvs sos_reports/sos.txt <br>  * lvs -a -o +lv_tags,devices --config=&quot;global{locking_type=0}&quot; <br><br># lvs -a -o +lv_tags,devices --config=&quot;global{locking_type=0}&quot;<br><br>  WARNING: Locking disabled. Be careful! This could corrupt your metadata.  &lt;---<br>  LV   VG   Attr       LSize Pool Origin Data%  Move Log Cpy%Sync Convert LV Tags Devices       <br>  root rhel -wi-ao---- 8.51g                                                      /dev/vda2(256)<br>  swap rhel -wi-ao---- 1.00g                                                      /dev/vda2(0) <br><br>따라서 해당 메세지는 sosreport 수집시 정상적인 출력결과로서 시스템에 무해하며 무시하셔도 무방한 메세지인 것으로 보입니다.<br><br>감사합니다.<br><br><publishedDate>2018-04-09T05:40:57Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LTmiqIAD"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-04-09T02:34:27Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-04-09T02:34:27Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>해당 메세지에 대해 확인중에 있으며 정리되는 대로 코멘트를 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-04-09T02:34:27Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LTmSvIAL"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-04-09T01:50:26Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-04-09T01:50:25Z</b><br><br>안녕하세요. 해당 이슈에 대해서 업무쪽에 원인이 있는것으로 판단되어서 분석을 <br>하지 않아도 될것같습니다.<br><br>sosreport를 보는중에 아래와 같은 내용을 발견하였는데 이부분에 대해서 코멘트 부탁드립니다.<br># cat ./sos_commands/lvm2/lvs_-a_-o_lv_tags_devices_--config_global_locking_type_0<br>  WARNING: Locking disabled. Be careful! This could corrupt your metadata.  &lt;--- 이부분<br>  LV       VG   Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert LV Tags Devices<br>  Tools    vg0  -wi-ao---- 10.00g                                                             /dev/sda6(5120)<br>  home     vg0  -wi-ao---- 10.00g                                                             /dev/sda6(0)<br>  sysadmin vg0  -wi-ao---- 10.00g                                                             /dev/sda6(2560)<br>  APP      vg1  -wi-ao---- 30.00g                                                             /dev/sdb1(7680)<br>  LIB      vg1  -wi-ao---- 20.00g                                                             /dev/sdb1(15360)<br>  LOG      vg1  -wi-ao---- 30.00g                                                             /dev/sdb1(0)<br>  CRASH    vg9  -wi-ao---- 33.00g                                                             /dev/sdc1(0)<br>  DUMP     vg9  -wi-a----- 33.00g                                                             /dev/sdc1(8448)<br><br># grep -i locking etc/lvm/lvm.conf<br>        # metadata, cache, locking, lvmpolld. Use &quot;all&quot; to see everything.<br>        debug_classes = [ &quot;memory&quot;, &quot;devices&quot;, &quot;activation&quot;, &quot;allocation&quot;, &quot;lvmetad&quot;, &quot;metadata&quot;, &quot;cache&quot;, &quot;locking&quot;, &quot;lvmpolld&quot; ]<br>        # Configuration option global/locking_type.<br>        # Type of locking to use.<br>        #     Turns off locking. Warning: this risks metadata corruption if<br>        #     LVM uses local file-based locking, the standard mode.<br>        #     LVM uses the external shared library locking_library.<br>        #     LVM uses built-in clustered locking with clvmd.<br>        #     LVM uses read-only locking which forbids any operations that<br>        #     Offers dummy locking for tools that do not need any locks.<br>        #     when to use it instead of the configured locking_type.<br>        #     locking type. It is used by the --readonly option that offers<br>        locking_type = 1<br><br>감사합니다.<br><br><publishedDate>2018-04-09T01:50:25Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>