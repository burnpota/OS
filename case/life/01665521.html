======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-07-11T02:18:48Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2016-07-14T23:24:04Z</b><br><b>id : 500A000000UpwcKIAR</b><br>======================<br><br><b><font size=15>
제목  : [삼성화재CI그룹] cpu 사용량이 높습니다. 원인과 개선방법을 가이드 부탁 드립니다.
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>cpu 사용량이 높습니다. 원인과 개선방법을 가이드 부탁 드립니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>신규 구축된 시스템이고, SAP application, abap 으로 개발된 application 환경에서 발생합니다.<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>application 을 수행하면 항상 cpu 가 100%이거나 100%에 근접합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000HTmFtIAL"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-07-14T23:24:01Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-07-14T23:24:01Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 건은 종료하고 고객이 직접 오픈한 케이스번호 01666920 에서 지원하도록 조치하겠습니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-07-14T23:24:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HTbpSIAT"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-07-14T08:56:53Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-07-14T08:56:53Z</b><br><br>안녕하세요? 타임게이트 이병욱 입니다.<br>고객께서 다른 SR을 열고 거기에 파일을 업로드 하셔서 혼선이 왔습니다.<br>CASE: 01666920 를 이 케이스에 병합 할 수 있으면 좋겠습니다.<br><br>아래는 고객의 질문입니다. <br><br>--아래--<br>금일 SAP America에서 리눅스 메모리 분석을 실시하였는데 strace를 보고 말하는것 같습니다.<br>SAP Expert 엔지니어께서 mprotect가 과하게 많이 보인다고 얘기하시네요.<br>해당 함수를 On/Off가 가능한지, 문제가된 사례가 있는지등에 대해 답변을 부탁 드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-07-14T08:56:53Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000HTbSsIAL"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-07-14T08:16:44Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-07-14T08:16:44Z</b><br><br>안녕하세요?<br>고객께서 sosreport 및 strace 파일을 업로드 해 주시기로 했으나 약간 혼선이 있어 늦어졌습니다.<br>곧 데이터를 올릴테니 분석을 부탁 드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2016-07-14T08:16:44Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000HTZcQIAX"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-07-14T04:35:15Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-07-14T04:35:14Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-07-14T04:35:14Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000HSjTcIAL"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-07-11T05:28:02Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-07-11T05:28:02Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>sar 데이터에서 보이는 정보는 사용자 프로세스에 대한 사용율이 높고, %sys 에 대한 사용율 역시도 적지 않습니다.<br>이는 애플리케이션에서 다량의 메모리를 사용하며 메모리 부족에 의한 커널 영역에서 애플리케이션에 대한 메모리요청에 대해<br>즉각적인 메모리 할당이 부족하여 캐시 반환등을 통하여 메모리 할당을 하고 있을 가능성이 있습니다.<br><br>따라서, 아래 조치들이 필요할 수 있습니다.<br>1. THP 비활성화<br>   - THP를 비활성화하여 메모리 단편화 방지, 성능 개선 기대<br>   - https://access.redhat.com/solutions/1320153<br><br>2. 스왑 메모리를 사용중이라면 vm.swappiness 값 조절<br>   - 기본 60 -&gt; 30미만으로 설정<br><br>3. ioscheduler 가 cfq 로 설정되어있다면 deadline scheduler로 사용<br>   - https://access.redhat.com/solutions/32376<br><br>4. load average: 49.43, 48.96, 55.68<br>   - cpu 개수 증설을 통한 load 분산<br><br>5. ffpadm 계정으로 수행중인 애플리케이션 튜닝<br>   - SAP 업체에 해당 부분을 개선할 수 있는 튜닝 포인트가 있는지 확인<br><br>6. 메모리 부족 현상이 심화되고 있다면, 메모리 증설 고려<br><br>sosreport 반출이 가능하다면 추가적인 분석이 가능할 것으로 보입니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-07-11T05:28:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>