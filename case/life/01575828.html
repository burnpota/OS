======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-02-01T02:56:37Z</b><br><b>마지막 답변자 : Jake Jaewook Shin</b><br><b>마지막 수정 일자 : 2016-02-11T02:18:32Z</b><br><b>id : 500A000000TSQEIIA5</b><br>======================<br><br><b><font size=15>
제목  : ip_local_port_range  &amp; ip_local_reserved_ports  변경에 대한 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>1차안]<br>안녕하십니까? 삼성SDS 박태진 선임입니다.<br> <br>아래 커널 값 관련해서 문의 사항이 있습니다.<br>weblogic was 포트가 40400인 부분이 있어서, 이와 범위를 분리하고자.<br> /proc/sys/net/ipv4/ip_local_port_range 의 범위를 <br>32768 61000 → 40500 61000 으로 조정하고자 합니다.<br> <br>max값은 그대로인데 min값만 올리고자 하니, port가 부족하진 않을까 염려가 되서 <br>문의를 드리게 되었습니다.<br>포트를 몇개나 쓰는지 확인하는 방법을 혹시 아래와 같이 해도 되나요?<br>평일 운영시간에 서버에 들어가서 netstat -an | egrep &quot;udp|tcp&quot; | wc -l 명령어로요.<br>해보면 값이 제일 많이 나올때가 이천이 조금 넘을 때인데 이정도면<br> 괜찮은 수치인지도 확인이 필요할것 같습니다.<br><br>--------------------------------------------------------------------------------------------------------------<br>2차안]<br>range 늘리는 방법, ip_local_reserved_ports  두가지 검토 해보려고합니다.<br> <br>사양은 아래와 같습니다. <br>AP서버이고, weblogic, safedb 암호화툴,mdm단말기 암호화 정도만 설치 되어있습니다.<br>알려주신 명령어 아래와 같이 1회 수행해보았는데 참고용으로 보내드립니다.<br> <br>ip_local_reserved_ports 이 방법을 사용할 경우에, 특정 포트를 어플리케이션이 예약해서 사용할수 있는건지 확인 부탁드리겠습니다.<br>예를들어 40400,30000 포트는 weblogic이 가동할때 물고 올라오는 포트여서 weblogic만 사용할수 있게 할수 있는건지 확인이 필요할것 같습니다.<br> 케이스 오픈 부탁드리겠습니다.<br> <br>[weblogic@ap1 /APP/domains]$ ss -s<br>Total: 1984 (kernel 2058)<br>TCP:   1841 (estab 113, closed 420, orphaned 0, synrecv 0, timewait 146/0), ports 1584<br>Transport Total     IP        IPv6<br>*         2058      -         -<br>RAW       0         0         0<br>UDP       91        91        0<br>TCP       1421      1421      0<br>INET      1512      1512      0<br>FRAG      0         0         0<br>[weblogic@ap1 /APP/domains]$ wc -l /proc/net/tcp<br>1650 /proc/net/tcp<br>[weblogic@ap1 /APP/domains]$ wc -l /proc/net/udp<br>91 /proc/net/udp <br> <br> <br>*CI명<br>*OS Version<br>    *할당 CPU  코어수<br> * 할당 메모리 크기<br>커널<br>ap1<br>       REDHAT ES 5.6<br>            12<br>                               48<br>               2.6.18-274<br>ap2<br>        REDHAT ES 5.6<br>            8<br>                               72<br>               2.6.18-274<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 5.6</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000GX6wCIAT"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-11T02:18:31Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-11T02:18:31Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스에 대하여 직접 close 처리해주셔서 정말 감사합니다!<br><br>케이스가 처리 완료되면 고객 설문조사 메일이 발송됩니다.<br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해,<br>소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2016-02-11T02:18:31Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G9wVOIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-03T05:06:49Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-03T05:06:49Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>정확히는 65535 까지 쓸수 있고<br>이는 저희 제품만이 아닌 네트워크 세계의 표준적인 부분입니다. <br><br>List of TCP and UDP port numbers<br>https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers<br><br>&quot;Dynamic, private or ephemeral ports<br><br>The range 49152–65535 (215+214 to 216−1) contains dynamic or private ports that cannot be registered with IANA.[191] This range is used for private, or customized services or temporary purposes and for automatic allocation of ephemeral ports.&quot;<br><br>TCP/UDP의 포트 목록<br>https://ko.wikipedia.org/wiki/TCP/UDP%EC%9D%98_%ED%8F%AC%ED%8A%B8_%EB%AA%A9%EB%A1%9D<br><br>감사합니다.<br><br><publishedDate>2016-02-03T05:06:49Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G9wM2IAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-02-03T04:38:01Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-02-03T04:38:01Z</b><br><br>안녕하세요.<br>해당 문제에 대해서 아래와 같은 고객의 질문 요청이 왔습니다.<br>--------------------------------------------------------------------------------------------------------------------<br>보내 주신 기술문서로는 ip_local_port_range이 MAX  65500 까지 가능하다고 하셨는데요 <br>이건 커널값하고는 상관없이 적용이 가능한가요? 저희가 적용하고자 하는 커널은 2.6.18-274 입니다. <br> <br> ip_local_reserved_ports  사용 가이드 부탁드립니다.<br>--------------------------------------------------------------------------------------------------------------------<br>감사합니다.<br><br>타임게이트<br><br>(Shin, Jae Wook에 회신)<br>&gt; 안녕하세요,<br>&gt; <br>&gt; Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br>&gt; <br>&gt; 심각도 관련 안내는 착오가 있었습니다.<br>&gt; 무시해주시기를 부탁드립니다.<br>&gt; <br>&gt; 감사합니다.<br><br><publishedDate>2016-02-03T04:38:01Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000G9H3xIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-01T04:27:41Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-01T04:27:41Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>심각도 관련 안내는 착오가 있었습니다.<br>무시해주시기를 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-02-01T04:27:41Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G9H2uIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-01T04:26:37Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-01T04:26:37Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>추가로 올려주신 심각도에 관하여 레드햇 글로벌 지원 서비스의 규정상,<br>비지니스 운영이 중단이나 큰 영향을 주며 조치를 취할 수 있는 대안이 없는 경우가<br>심각도 1 (긴급), 심각도 2 (높음) 사항에 해당이 됩니다.<br>일반적인 기술문의의 경우는 심각도 3,4 에 해당됩니다.<br><br>현재 올려주신 문의사항은<br>프로덕션 환경에서 비지니스 서비스 장애가 발생하고 있는 이슈에 해당되지 않으므로<br>심각도는 2 -&gt; 3 으로 조정을 하여 진행하도록 하겠습니다.<br>이는 물론 케이스 진행 상황에 따라 재조정될 수 있습니다.<br><br>severity 에 대한 규정은 다음 링크를 참조해 주십시요.<br><br>&lt;Red Hat Support Severity Level Definitions&gt;<br>https://access.redhat.com/support/policy/severity<br><br>감사합니다.<br><br><publishedDate>2016-02-01T04:26:37Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G9H1mIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-01T04:23:55Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-01T04:23:55Z</b><br><br>안녕하세요.<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>정보확인 감사합니다.<br><br>문의하신 내용에 대하여 다음 KBase 에 설명되어 있습니다.<br><br>Does RHEL support reserving local ports from ephemeral range using the /proc/sys/net/ipv4/ip_local_reserved_ports tunable? <br>- https://access.redhat.com/solutions/26875<br><br>상기에 따라 서드파티 어플리케이션에서 사용할 특정 포트에 예약을 걸어놓으시면 OS 측면에서는<br>해당 포트를 랜덤포트로서 사용하지 않아 포트의 사용 충돌 문제를 예방할 수 있을 것입니다.<br><br>포트 범위 조정에 대해서는 사용하시는 환경에 따라 다르기 때문에<br>저희 기술 지원 범위에서는 안내드리기 어렵습니다.<br><br>감사합니다.<br><br><publishedDate>2016-02-01T04:23:55Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000G9GnaIAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-02-01T03:50:20Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-02-01T03:50:20Z</b><br><br>안녕하세요.<br>요청 양식 보내드립니다.<br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br> 성함(직급) : 박태진 선임<br> 회사명(부서명) : 삼성SDS<br> 전화번호 : 010-4545-1460<br> 메일주소 : tweet.park@samsung.com<br> <br> * 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br> 성함(직급) : 송기호 선임<br> 회사명(부서명) : 타임게이트<br> 전화번호 : 010-3620-9917<br> 메일주소 : kh.song@time-gate.com / poporo01@naver.com<br>==============================================================================<br>감사합니다.<br><br><br>(Shin, Jae Wook에 회신)<br>&gt; 안녕하세요.<br>&gt; <br>&gt; Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br>&gt; <br>&gt; 케이스 지원에 앞서 고객 연락 등 케이스에 대한 원할한 지원을 위해 기술지원 요청시에는<br>&gt; 다음 폼의 작성을 부탁드립니다.<br>&gt; ==============================================================================<br>&gt; * 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>&gt; - 성함(직급) :<br>&gt; - 회사명(부서명) :<br>&gt; - 전화번호 :<br>&gt; - 메일주소 :<br>&gt; <br>&gt; * 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>&gt; - 성함(직급) :<br>&gt; - 회사명(부서명) :<br>&gt; - 전화번호 :<br>&gt; - 메일주소 :<br>&gt; ==============================================================================<br>&gt; <br>&gt; 더불어 해당 계정은 TAM 서비스 계약이 맺어져 있어 TAM 컨텍 지정 로그인 어카운트에 한해서는<br>&gt; TAM 엔지니어가 기술지원을 진행드립니다.<br>&gt; 다만 해당 로그인 어카운트의 경우에는 TAM 컨택 지정 로그인 어카운트가 아닌 관계로<br>&gt; 일반 기술지원 엔지니어가 기술지원을 진행함을 알려드립니다.<br>&gt; <br>&gt; 감사합니다.<br><br><publishedDate>2016-02-01T03:50:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000G9GR8IAN"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2016-02-01T02:58:35Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2016-02-01T03:01:19Z</b><br><br>안녕하세요.<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>케이스 지원에 앞서 고객 연락 등 케이스에 대한 원할한 지원을 위해 기술지원 요청시에는<br>다음 폼의 작성을 부탁드립니다.<br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) :<br>- 회사명(부서명) :<br>- 전화번호 :<br>- 메일주소 :<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) :<br>- 회사명(부서명) :<br>- 전화번호 :<br>- 메일주소 :<br>==============================================================================<br><br>더불어 해당 계정은 TAM 서비스 계약이 맺어져 있어 TAM 컨텍 지정 로그인 어카운트에 한해서는<br>TAM 엔지니어가 기술지원을 진행드립니다.<br>다만 해당 로그인 어카운트의 경우에는 TAM 컨택 지정 로그인 어카운트가 아닌 관계로<br>일반 기술지원 엔지니어가 기술지원을 진행함을 알려드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-02-01T02:58:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>