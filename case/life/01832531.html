======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2017-04-18T02:14:28Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2017-04-24T03:38:10Z</b><br><b>id : 500A000000Wn2XCIAZ</b><br>======================<br><br><b><font size=15>
제목  : [장애문의]out of memory 발생
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요.<br> SLVEAPAL02 서버가 15일 토요일 23시 15분부터 memory 사용률 증가로 인한 서버 hang 현상이 있어서 해당 메일 보내드립니다.<br> 해당 서버에서 15일 토요일 09시부터 자원사용률이 증가하기 시작했고 100프로 사용률이 4시간 이상 지속된 후 23시 15분부터 out of memery로 인해 서버가 hang 상태입니다.<br>1호기의 경우 확인해보니 해당시간대에 특이사항은 없었습니다.<br>혹시 업무에서 해당 시간대에 자원사용을 하는지 확인부탁드립니다.<br>위와 같은 문제가 토요일 부터 동시에 여러 서버에서 발생하고 있습니다./<br>매주 반복되는 작업일 경우 별도 조치가 필요해보입니다.<br><br>또한 위와 같은 상황이 발생시에 필요한 조치가 있으면 권고부탁드립니다.<br>장애 시간대의 메모리 사용률에 대한 수치도 보내드립니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.6</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 2 (High)</b><br>======================<br><comment id="a0aA000000JKA4gIAH"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-04-24T03:38:10Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-04-24T03:38:10Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2017-04-24T03:38:10Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJfBCIA1"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-04-20T07:15:23Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-04-20T07:15:23Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2017-04-20T07:15:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJ6q4IAD"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-04-18T05:21:03Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-04-18T05:21:02Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ pid ]   uid  tgid total_vm      rss cpu oom_adj oom_score_adj name<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [  684]     0   684     2730        0   2     -17         -1000 udevd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2145]     0  2145    62898       12   0       0             0 rsyslogd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2159]     0  2159    46141       98   3       0             0 vmtoolsd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2160]     0  2160     2707        3   3       0             0 irqbalance<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2224]    32  2224     4744        8   2       0             0 rpcbind<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2240]     0  2240    12750        8   0       0             0 VGAuthService<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2343]     0  2343    50994       39   3       0             0 ManagementAgent<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2499]     0  2499    34408        7   1       0             0 pbx_exchange<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2509]    81  2509     5395        4   3       0             0 dbus-daemon<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2520]    68  2520     9772       11   1       0             0 hald<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2521]     0  2521     5100        7   1       0             0 hald-runner<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2583]     0  2583     5630        6   0       0             0 hald-addon-inpu<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2591]     0  2591     5629       23   1       0             0 hald-addon-stor<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2594]    68  2594     4501        8   2       0             0 hald-addon-acpi<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2619]     0  2619    16556        1   0     -17         -1000 sshd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2751]  1019  2751     1340        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2800]  1019  2800     1339        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2842]  1019  2842     1339        1   2       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2843]  1019  2843    37961        1   2       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2875]  1019  2875     1339        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2909]  1019  2909     1340        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2941]  1019  2941     1340        1   2       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2942]  1019  2942    37962        8   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 2974]  1019  2974     1340        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3006]  1019  3006     1339        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3038]  1019  3038     1339        1   0       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3070]  1019  3070     1340        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3071]  1019  3071    37962        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3089]     0  3089     5429        4   0       0             0 xinetd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3098]    38  3098     6629        8   0       0             0 ntpd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3110]   496  3110    25739        0   1       0             0 uuidd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3123]     0  3123    39230        3   1       0             0 vnetd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3126]     0  3126    43447        3   0       0             0 bpcd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3135]  1019  3135    37962        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3195]  1019  3195    37962        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3238]  1019  3238    37961        8   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3261]  1019  3261    37961        1   3       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3276]     0  3276    29223        2   1       0             0 crond<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3305]     0  3305     3054        1   0       0             0 rcagent<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3338]     0  3338     5564        0   0       0             0 sosd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3359]     0  3359     7334       11   0       0             0 rc_perf<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3366]     0  3366     4210        1   0       0             0 rc_schd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3373]     0  3373     7307        3   0       0             0 rc_orac<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3403]  1019  3403    37961        1   1       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3418]  1019  3418    37961        1   2       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3437]     0  3437     8870       73   1       0             0 rclogd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3441]     0  3441     3754       16   1       0             0 seslogd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3444]     0  3444    25208       25   0       0             0 ttylogd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3449]     0  3449     3758        4   0       0             0 mod_sched<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3491]     0  3491    28923        1   0       0             0 smartd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3499]     0  3499     1016        2   2       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3501]     0  3501     1016        2   3       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3503]     0  3503     1016        2   1       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3505]     0  3505     1016        2   2       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3507]     0  3507     1016        2   0       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3509]     0  3509     1016        2   1       0             0 mingetty<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3511]     0  3511     2729        0   0     -17         -1000 udevd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3512]     0  3512     2729        0   3     -17         -1000 udevd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ 3525]  1019  3525    37962        1   2       0             0 keyd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [18598]     0 18598     1695        1   0       0             0 mxMON<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [18600]     0 18600     1735        2   0       0             0 mxGATE<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [18602]     0 18602     4443        2   1       0             0 mxLOG<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [18603]     0 18603     1734        1   2       0             0 mxSENSOR<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [18604]     0 18604     5711        9   1       0             0 mxSMS<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [19872]  1014 19872   545018       21   0       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [63172]    29 63172     5837        7   1       0             0 rpc.statd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [96124]     0 96124   521284        9   1       0             0 console-kit-dae<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [119152]     0 119152    51036        7   2       0             0 python<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [119153]     0 119153   218882       30   0       0             0 python<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29414]  1108 29414    26523        2   2       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29417]  1108 29417    26557        2   0       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29457]  1108 29457    26523        2   3       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29462]  1108 29462    26557        2   2       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29514]  1108 29514    26523        2   2       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29519]  1108 29519    26557        2   1       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29577]  1108 29577    26523        2   1       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29580]  1108 29580    26557        2   0       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29596]  1108 29596  2067669       41   2       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29650]  1108 29650  2050257       43   2       0             0 java<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: [ pid ]   uid  tgid total_vm      rss cpu oom_adj oom_score_adj name<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29678]  1108 29678  2598266   159583   1       0             0 java &lt;&lt;--------------------------<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29710]  1108 29710  2598935       61   0       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48800]     0 48800     2503        7   0       0             0 mxMANAGER<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48804]     0 48804    34945       45   2       0             0 crond<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48807]     0 48807    16079       22   1       0             0 bpclntcmd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48811]     0 48811     2500      168   3       0             0 mxMANAGER<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2017-04-18T05:21:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJ6ocIAD"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2017-04-18T05:18:07Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2017-04-18T05:18:07Z</b><br><br>답변감사합니다.<br><br>아래쪽에<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29678]  1108 29678  2598266   159583   1       0             0 java &lt;&lt;------------------------- killed<br>에서 각 필드가 무엇을 의미하는지 알수가 없는데요. 알수 있을까요?<br><br><publishedDate>2017-04-18T05:18:07Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JJ6i5IAD"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-04-18T05:00:21Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-04-18T05:00:21Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>말씀하신대로 sa15 파일이 있는 것을 미쳐 확인하지 못했습니다.<br><br>Linux 2.6.32-504.23.4.el6.x86_64 (SLVEAPAL02)   04/15/2017      _x86_64_        (4 CPU)<br><br>12:00:01 AM     CPU     %user     %nice   %system   %iowait    %steal     %idle<br>08:33:01 PM     all      0.46      0.00      0.13      0.04      0.00     99.37<br>08:36:01 PM     all      0.32      0.00      0.13      0.01      0.00     99.55<br>08:42:47 PM     all      8.65      0.00      4.33      0.02      0.00     87.01<br>08:45:37 PM     all     63.25      0.00     36.75      0.00      0.00      0.00 &lt;&lt;----- %system 수치 급 상승<br>08:48:28 PM     all     57.78      0.00     42.22      0.00      0.00      0.00<br>08:51:08 PM     all     56.48      0.00     43.36      0.00      0.00      0.16<br>08:54:14 PM     all     62.03      0.00     37.92      0.00      0.00      0.05<br>08:57:25 PM     all     30.97      0.00     68.91      0.00      0.00      0.12<br>09:00:41 PM     all     12.02      0.00     87.98      0.00      0.00      0.00<br>09:03:17 PM     all     29.05      0.00     70.95      0.00      0.00      0.00<br>09:06:50 PM     all     41.20      0.00     58.80      0.00      0.00      0.00<br>09:09:15 PM     all     41.66      0.00     58.05      0.00      0.00      0.30<br>09:12:17 PM     all     33.59      0.00     61.10      0.02      0.00      5.29<br>09:15:28 PM     all     14.78      0.00     32.83      0.09      0.00     52.30<br>09:18:07 PM     all      8.47      0.00     19.13      0.07      0.00     72.33<br>09:21:12 PM     all     12.59      0.00     33.44      0.14      0.00     53.83<br>09:24:08 PM     all      9.27      0.00     31.45      0.08      0.00     59.20<br>09:27:04 PM     all      7.11      0.00     15.79      0.09      0.00     77.01<br>09:30:06 PM     all      6.49      0.00     14.86      1.29      0.00     77.36<br>09:33:03 PM     all      5.54      0.00     12.97      0.50      0.00     80.99<br>09:36:03 PM     all      4.91      0.00      9.78      0.09      0.00     85.23<br>09:39:04 PM     all     15.01      0.00     10.64      0.44      0.00     73.91<br>09:42:04 PM     all     16.43      0.00     16.96      0.09      0.00     66.52<br>09:46:15 PM     all      2.61      0.00      3.84     72.69      0.00     20.86 &lt;&lt;---- %iowait 급상승<br>09:49:32 PM     all      0.79      0.00      2.22     89.10      0.00      7.89<br>09:54:50 PM     all      2.35      0.00      3.55     75.99      0.00     18.10<br>09:57:42 PM     all      0.20      0.00      1.84     85.27      0.00     12.68<br>10:05:07 PM     all      0.44      0.00      1.67     90.72      0.00      7.18<br>10:08:07 PM     all      1.01      0.00      3.91     85.12      0.00      9.96<br>10:16:23 PM     all      0.11      0.00      1.68     90.65      0.00      7.57<br>10:21:36 PM     all      0.07      0.00      0.73     86.46      0.00     12.74<br>10:25:21 PM     all      0.27      0.00      1.62     83.51      0.00     14.60<br>10:31:04 PM     all      0.13      0.00      2.04     84.87      0.00     12.96<br>10:33:23 PM     all      0.87      0.00      2.63     90.09      0.00      6.41<br>10:41:00 PM     all      0.77      0.00      2.13     80.62      0.00     16.47<br>10:46:11 PM     all      0.29      0.00      1.85     90.16      0.00      7.69<br>10:52:47 PM     all      0.45      0.00      1.18     83.30      0.00     15.07<br>10:55:11 PM     all      1.05      0.00      1.34     87.53      0.00     10.07<br>11:06:52 PM     all      0.30      0.00      1.12     89.90      0.00      8.69<br>11:10:00 PM     all      1.06      0.00      2.87     85.23      0.00     10.84<br>11:12:32 PM     all      0.04      0.00      1.48     80.89      0.00     17.59<br>11:19:32 PM     all      0.04      0.00      1.89     88.89      0.00      9.19<br>Average:        all      1.16      0.01      0.53      6.42      0.00     91.88 &lt;&lt;---- 시스템 중지<br><br>12:00:01 AM  pswpin/s pswpout/s<br>09:42:04 PM      0.00      0.00<br>09:46:15 PM     12.12    479.01<br>09:49:32 PM     32.09    657.21<br>09:54:50 PM     28.44    700.41<br>09:57:42 PM     55.20   1121.59<br>10:05:07 PM     26.93    639.02<br>10:08:07 PM     18.62    457.33<br>10:16:23 PM     27.51    495.64<br>10:21:36 PM     40.26    644.56<br>10:25:21 PM     37.15    592.59<br>10:31:04 PM     28.01    665.41<br>10:33:23 PM     52.62    656.57<br>10:41:00 PM     41.51    631.52<br>10:46:11 PM     88.71    639.58<br>10:52:47 PM     64.71    646.88<br>10:55:11 PM     45.72    516.97<br>11:06:52 PM     23.02    413.82<br>11:10:00 PM     44.20    438.82<br>11:12:32 PM     25.63    572.42<br>11:19:32 PM    131.96    582.53<br>Average:         3.18     42.12<br><br>12:00:01 AM  pgpgin/s pgpgout/s   fault/s  majflt/s  pgfree/s pgscank/s pgscand/s pgsteal/s    %vmeff<br>08:51:08 PM      0.00    419.29   6878.46      0.00   2571.70      0.00      0.00      0.00      0.00<br>08:54:14 PM      0.00    159.71   2489.56      0.00    967.60      0.00      0.00      0.00      0.00<br>08:57:25 PM      0.00    114.49   2489.10      0.00  10159.38   1584.41   7715.47   9295.98     99.96  &lt;&lt;---- page scan 비율 급상승<br>09:00:41 PM      0.00     65.50   1894.05      0.00   7351.27    594.54   5983.29   6579.94    100.03<br>09:03:17 PM     99.71    179.79   8901.25      0.77  25660.06   3735.90  17561.50  21297.40    100.00<br>09:06:50 PM     34.10    157.47   7652.87      1.34  20810.06   2556.32  13817.62  16373.95    100.00<br>09:09:15 PM      0.00    131.38   5261.17      0.00  17975.95   5235.65   9170.21  14405.86    100.00<br>09:12:17 PM      0.00    174.50   4365.77      0.00  24192.81   6498.18  13416.68  19911.79     99.98<br>09:15:28 PM     14.57     51.58    830.54      0.08  15343.68   6582.07   5515.84  12099.22    100.01<br>09:18:07 PM      0.00     39.37    631.06      0.00  10141.96   4776.08   3198.83   7974.92    100.00<br>09:21:12 PM      0.00     52.47    822.86      0.00  15483.65   7110.27   4267.68  11377.95    100.00<br>09:24:08 PM      0.00     37.71    816.21      0.00  14103.37   6974.33   3473.82  10448.15    100.00<br>09:27:04 PM      0.00     30.99   1729.92      0.00   9347.70   5518.81   1399.47   6918.28    100.00<br>09:30:06 PM    137.51     36.48   3077.52      0.36  16264.49  10704.31   1412.52  12116.82    100.00<br>09:33:03 PM      0.00     18.42    260.80      0.00   9839.88   7752.98    506.53   8259.50    100.00<br>09:36:03 PM      0.00     10.29    172.59      0.00   8115.79   6161.50    314.95   6476.45    100.00<br>09:39:04 PM    378.57    116.04    858.17      0.06  28702.58  17469.27   1147.19  18616.46    100.00<br>09:42:04 PM    219.76     31.67    281.69      0.00  13074.55   9460.20    376.82   9837.01    100.00<br>09:46:15 PM   3063.28   1930.37    157.70      6.74   5198.64   4273.52   7208.27   4687.17     40.82 &lt;&lt;-- page scan 후 반환하는 페이지가 없음.<br>09:49:32 PM    992.49   2636.30    176.39      7.60   1070.60    938.26  71334.94    853.47      1.18<br>09:54:50 PM   1077.50   2812.43    147.64      6.69   1069.01    600.00 132138.34    967.19      0.73<br>09:57:42 PM   1233.89   4500.34    566.61     11.42   1688.82   1427.24  98889.66   1447.77      1.44<br>10:05:07 PM    776.29   2566.84    446.29      5.91   1232.06    595.37  65803.73    829.28      1.25<br>10:08:07 PM    662.13   1838.83    146.68      4.75    862.89    442.69 254975.07    636.13      0.25<br>10:16:23 PM    714.71   1990.20    173.99      6.30    908.69    368.24 163315.79    662.25      0.40<br>10:21:36 PM    658.15   2586.60    146.17      7.35   1210.96    480.63  31219.80    803.57      2.53<br>10:25:21 PM    701.06   2378.32    124.70      6.58   1032.76    474.17 129364.56    760.35      0.59<br>10:31:04 PM    799.16   2671.90    204.16      5.87   1138.73    477.97 218207.88    861.73      0.39<br>10:33:23 PM   1160.80   2640.04   1533.25     11.00   1713.36    457.84  95061.68    946.84      0.99<br>10:41:00 PM    729.99   2536.77    138.35      8.02    970.55    554.54 181387.20    797.63      0.44<br>10:46:11 PM   1005.77   2568.84    170.58     15.35   1190.02    319.86 172882.34    870.08      0.50<br>10:52:47 PM   1024.85   2596.26    175.22     11.48   1183.86    655.42  67810.67    893.66      1.31<br>10:55:11 PM    886.11   2075.69     98.70      9.20    999.85    241.21  34825.92    679.04      1.94<br>11:06:52 PM    596.43   1662.83    439.32      5.08   1041.78    241.00  88197.00    576.02      0.65<br>11:10:00 PM   1506.35   1765.49    193.96      9.70   1105.14    385.50 111054.51    817.04      0.73<br>11:12:32 PM    620.18   2297.40    156.62      6.06    952.83    355.70 169608.53    726.28      0.43<br>11:19:32 PM   1927.53   2339.56    183.17     28.01   1313.92   1924.75 128378.69   1062.59      0.82<br>Average:       282.98    185.28    765.40      0.66    638.11    133.26   8509.64    168.08      1.94<br><br>12:00:01 AM       tps      rtps      wtps   bread/s   bwrtn/s<br>09:36:03 PM      1.66      0.00      1.66      0.00     20.66<br>09:39:04 PM     32.80      5.57     27.24   1514.27    380.34 &lt;&lt;--- 디스크 읽기/쓰기 급상승<br>09:42:04 PM      9.14      1.37      7.77    879.04     91.73<br>09:46:15 PM     78.97     68.73     10.24   9844.60   3544.09<br>09:49:32 PM     45.06     35.37      9.69   2370.79   5004.81<br>09:54:50 PM     43.13     30.68     12.45   2500.49   5660.97<br>09:57:42 PM     64.34     45.09     19.25   3191.40   9201.65<br>10:05:07 PM     43.01     28.78     14.23   1971.58   5201.55<br>10:08:07 PM     35.24     25.27      9.96   1778.98   3615.28<br>10:16:23 PM     33.38     21.01     12.37   1745.38   3954.04<br>10:21:36 PM     35.41     23.06     12.36   1554.16   5245.12<br>10:25:21 PM     37.62     23.07     14.55   1697.40   4807.12<br>10:31:04 PM     38.90     22.16     16.74   1874.29   5303.31<br>10:33:23 PM     57.51     36.18     21.32   2731.42   5590.14<br>10:41:00 PM     38.50     24.29     14.21   1865.21   4960.81<br>10:46:11 PM     54.70     37.26     17.44   2737.09   5148.49<br>10:52:47 PM     39.63     26.91     12.72   2457.74   5139.77<br>10:55:11 PM     34.19     23.12     11.08   2034.89   3954.13<br>11:06:52 PM     23.83     14.13      9.70   1218.77   3414.77<br>11:10:00 PM     44.47     34.14     10.33   3854.51   3398.37<br>11:12:32 PM     24.39     12.48     11.92   1354.55   4754.55<br>11:19:32 PM     76.10     58.37     17.73   4871.08   4750.20<br>Average:         9.15      5.76      3.38    705.70    376.69<br><br>12:00:01 AM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit<br>09:42:04 PM    290824  48993332     99.41    586580   2274528  29367020     35.45<br>09:46:15 PM    230756  49053400     99.53       432     15104  29374480     35.46 &lt;&lt;--- 대부분의 버퍼 캐시 모두 반환<br>09:49:32 PM    226820  49057336     99.54      1684     16024  29369660     35.45<br>09:54:50 PM    223456  49060700     99.55      1128     18328  29374484     35.46<br>09:57:42 PM    230412  49053744     99.53      1348     19784  29372088     35.46<br>10:05:07 PM    224076  49060080     99.55      4416     23956  29374004     35.46<br>10:08:07 PM    225308  49058848     99.54      2100     12540  29376704     35.46<br>10:16:23 PM    239440  49044716     99.51      1700     16232  29370964     35.46<br>10:21:36 PM    223184  49060972     99.55      1576     18956  29367128     35.45<br>10:25:21 PM    223276  49060880     99.55       964     17528  29370008     35.45<br>10:31:04 PM    226176  49057980     99.54      1576     22332  29380532     35.47<br>10:33:23 PM    232368  49051788     99.53      3896     23968  29368072     35.45<br>10:41:00 PM    224484  49059672     99.54      2084     21712  29375400     35.46<br>10:46:11 PM    227588  49056568     99.54      2116     19728  29377244     35.46<br>10:52:47 PM    223104  49061052     99.55      1292     16168  29376772     35.46<br>10:55:11 PM    230456  49053700     99.53      1492     22496  29392600     35.48<br>11:06:52 PM    223744  49060412     99.55      4248     14696  29378604     35.47<br>11:10:00 PM    223780  49060376     99.55      2456     12120  29377676     35.46<br>11:12:32 PM    223168  49060988     99.55      1892     11768  29374312     35.46<br>11:19:32 PM    225228  49058928     99.54       268     16716  29377008     35.46<br>Average:      2137725  47146431     95.66    561804  28750982  29325622     35.40<br><br>12:00:01 AM kbswpfree kbswpused  %swpused  kbswpcad   %swpcad<br>09:42:04 PM  33553700         0      0.00         0      0.00<br>09:46:15 PM  33173660    380040      1.13     37488      9.86 &lt;&lt;--- 스왑 사용 시작<br>09:49:32 PM  32723076    830624      2.48     65776      7.92<br>09:54:50 PM  31862328   1691372      5.04     61936      3.66<br>09:57:42 PM  31117684   2436016      7.26     42204      1.73<br>10:05:07 PM  30012336   3541364     10.55     32828      0.93<br>10:08:07 PM  29674080   3879620     11.56     35296      0.91<br>10:16:23 PM  28728040   4825660     14.38     43672      0.90<br>10:21:36 PM  27942712   5610988     16.72     40376      0.72<br>10:25:21 PM  27417528   6136172     18.29     44248      0.72<br>10:31:04 PM  26514136   7039564     20.98     37216      0.53<br>10:33:23 PM  26158448   7395252     22.04     28288      0.38<br>10:41:00 PM  25028656   8525044     25.41     49048      0.58<br>10:46:11 PM  24248892   9304808     27.73     63084      0.68<br>10:52:47 PM  23240744  10312956     30.74     66468      0.64<br>10:55:11 PM  22946440  10607260     31.61     91576      0.86<br>11:06:52 PM  21804384  11749316     35.02     48928      0.42<br>11:10:00 PM  21467252  12086448     36.02     48632      0.40<br>11:12:32 PM  21136232  12417468     37.01     46904      0.38<br>11:19:32 PM  20169032  13384668     39.89      8424      0.06<br>Average:     33261322    292378      0.87      1974      0.68<br><br>12:00:01 AM   runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15<br>08:36:01 PM         0      1017      0.00      0.00      0.00<br>08:42:47 PM        31      1049     85.41     86.83     41.36 &lt;&lt;-- 로드 급상승 및 cpu runqueue 프로세스 대기열 리스트 급상승<br>08:45:37 PM        16      1036     32.80     60.80     38.88<br>08:48:28 PM        35      1041     24.50     44.53     36.27<br>08:51:08 PM         5      1046     16.45     35.64     34.44<br>08:54:14 PM        11      1061     17.49     27.18     31.34<br>08:57:25 PM        18      1067     16.93     22.46     28.73<br>09:00:41 PM        14      1090     23.09     22.70     27.62<br>09:03:17 PM        10      1087     20.66     22.18     26.69<br>09:06:50 PM         9      1102     29.66     24.19     26.37<br>09:09:15 PM         6      1095     21.45     22.12     25.22<br>09:12:17 PM         4      1088     15.06     19.56     23.73<br>09:15:28 PM         3      1088     15.17     15.78     21.34<br>09:18:07 PM        10      1088      9.47     12.28     19.12<br>09:21:12 PM         4      1089     27.60     15.75     19.02<br>09:24:08 PM         1      1089     15.85     15.69     18.43<br>09:27:04 PM         3      1090      8.87     13.57     17.17<br>09:30:06 PM         2      1090      3.35      9.22     14.86<br>09:33:03 PM         7      1089      2.50      6.02     12.61<br>09:36:03 PM         1      1089      1.83      4.11     10.70<br>09:39:04 PM         4      1092      3.62      3.73      9.37<br>09:42:04 PM         5      1091      4.52      4.12      8.52<br>09:46:15 PM         0      1104     18.29      9.76      9.49<br>09:49:32 PM         0      1092     21.51     15.08     11.59<br>09:54:50 PM         3      1098     18.56     19.39     14.72<br>09:57:42 PM         0      1095     20.17     18.98     15.26<br>10:05:07 PM         1      1095     22.85     20.57     17.31<br>10:08:07 PM         3      1101     28.78     23.83     19.09<br>10:16:23 PM         1      1093     34.57     28.48     22.75<br>10:21:36 PM         0      1089     15.65     22.21     21.88<br>10:25:21 PM         1      1091     18.50     20.45     21.20<br>10:31:04 PM         0      1104     20.80     20.46     20.93<br>10:33:23 PM         2      1088     20.79     22.52     21.80<br>10:41:00 PM         0      1097     23.42     23.39     22.51<br>10:46:11 PM         0      1096     39.52     28.04     24.18<br>10:52:47 PM         1      1095     24.92     25.54     23.96<br>10:55:11 PM         1      1106     33.68     26.69     24.47<br>11:06:52 PM         0      1097     23.73     23.43     23.39<br>11:10:00 PM         3      1098     29.43     24.99     23.88<br>11:12:32 PM         1      1093     19.80     22.99     23.29<br>11:19:32 PM         1      1096     39.89     31.26     26.41<br>Average:            1      1044      2.00      2.10      2.00<br><br>[sar 데이트 분석 결과]<br><br>08:42:47 PM        31      1049     85.41     86.83     41.36 &lt;&lt;-- 로드 급상승 및 cpu runqueue 프로세스 대기열 리스트 급상승<br>08:45:37 PM     all     63.25      0.00     36.75      0.00      0.00      0.00 &lt;&lt;----- %system 수치 급 상승<br>08:57:25 PM      0.00    114.49   2489.10      0.00  10159.38   1584.41   7715.47   9295.98     99.96  &lt;&lt;---- page scan 비율 급상승<br>09:46:15 PM     all      2.61      0.00      3.84     72.69      0.00     20.86 &lt;&lt;---- %iowait 급상승<br>09:46:15 PM  33173660    380040      1.13     37488      9.86 &lt;&lt;--- 스왑 사용 시작<br>09:46:15 PM    230756  49053400     99.53       432     15104  29374480     35.46 &lt;&lt;--- 대부분의 버퍼 캐시 모두 반환<br><br>Apr 15 23:19:59 SLVEAPAL02 kernel: java invoked oom-killer: gfp_mask=0x200da, order=0, oom_adj=0, oom_score_adj=0<br>Average:        all      1.16      0.01      0.53      6.42      0.00     91.88 &lt;&lt;---- 시스템 중지<br><br>시스템 로드가 급상승하면서, 애플리케이션의 페이지 요청이 늘어나<br>%system cpu 가 사용되면서 대부분의 버퍼와 캐시를 모두 반환하게 되었습니다.<br>하지만, 페이지 스캔빈도가 높았음에도 반환되는 페이지가 없어 스왑 영역이 사용되기 시작하였지만,<br>요청되는 페이지에 비해 사용되는 페이지가 부족하여 결국 oom 이 발동되었습니다.<br><br>vm.min_free_kbytes 는 커널에 여유 페이지를 예약하여 여유페이지보다 커널이 낮은 메모리를 보유하게되면<br>자체적으로 kswapd 가 동작하여 커널에 여유페이지를 할당하게 됩니다.<br>이는 현 상황을 발생시키는 빈도를 낮춰주는 일시적인 방편이며,<br>해당 시점에 java 애플리케이션의 동작 혹은 이상현상을 먼저 확인하실 필요가 있습니다.<br><br>vmware 가상시스템에 설정할 수 있는 메모리 발루닝 기능은 아래 문서를 참고하시기 바랍니다.<br>http://vportal.tistory.com/4<br><br>이 메모리 발루닝 기능에 의해 메모리 부족현상이 발생할 수 있는지 vmware 측에 문의해볼 필요가 있습니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2017-04-18T05:00:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000JJ6UcIAL"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2017-04-18T04:23:09Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2017-04-18T04:23:09Z</b><br><br>답변감사합니다.<br>말씀하신 vm.min_free_kbytes 기능은 어떠한 것이며, 변경시 서비스에 영향도는 없는건가요??<br><br>vmware 가상 시스템에 메모리 발루닝 기능이 활성화는 어떤것을 말씀하시는 건가요??<br><br>sosreport sa15가 존재합니다. 다시 확인 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-04-18T04:23:09Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000JJ6EAIA1"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-04-18T03:22:06Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-04-18T03:22:06Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>DMIDECODE<br>  BIOS:<br>    Vend: Phoenix Technologies LTD    Vers: 6.00    Date: 09/21/2015    BIOS Rev: 4.6<br>  System:<br>    Prod: VMware Virtual Platform<br>  CPU:<br>    4 logical processors (4 CPU cores)<br>    Vers: Intel(R) Xeon(R) CPU E5-2650 v3 @ 2.30GHz<br>  Memory:<br>    Total: 49152 MiB (48 GiB)<br><br>OS<br>  Hostname: SLVEAPAL02<br>  Distro:   [redhat-release] Red Hat Enterprise Linux Server release 6.6 (Santiago)<br>  Kernel:<br>    Booted kernel:  2.6.32-504.23.4.el6.x86_64<br>    Booted kernel cmdline:<br>      ro root=UUID=77b1462f-ffbd-46eb-8f4c-54ae94a0a986 intel_iommu=on amd_iommu=on<br>      rd_NO_LUKS rd_NO_LVM LANG=en_US.UTF-8 rd_NO_MD SYSFONT=latarcyrheb-sun16<br>      KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet crashkernel=256M nmi_watchdog=0<br>      transparent_hugepage=never<br>    Taint-check: 1  (see https://access.redhat.com/solutions/40594)<br>       0  PROPRIETARY_MODULE: Proprietary module has been loaded<br>    - - - - - - - - - - - - - - - - - - -<br>  Sys time:  Tue Apr 18 08:33:37 KST 2017<br>  Boot time: Sun Apr 16 09:11:34 KST 2017  (epoch: 1492301494)<br>  Uptime:    1 day, 23:22,  2 users<br>  LoadAvg:   [4 CPU] 0.10 (2%), 0.07 (2%), 0.05 (1%)<br>  /proc/stat:<br>    procs_running: 1   procs_blocked: 0    processes [Since boot]: 252512<br>    cpu [Utilization since boot]:<br>      us 1%, ni 0%, sys 0%, idle 99%, iowait 0%, irq 0%, sftirq 0%, steal 0%<br><br>KDUMP CONFIG<br>  kexec-tools rpm version:<br>    kexec-tools-2.0.0-280.el6_6.2.x86_64<br>  Service enablement:<br>    kdump  0:off  1:off  2:on  3:on  4:on  5:on  6:off<br>  kdump initrd/initramfs:<br>    5213368 Jul  3  2016 initrd-2.6.32-504.23.4.el6.x86_64kdump.img<br>  Memory reservation config:<br>    /proc/cmdline { crashkernel=256M }<br>  kdump.conf:<br>    raw /dev/vg9/DUMP<br>    core_collector makedumpfile -c -d 17<br>  Panic sysctls:<br>    kernel.sysrq [bitmask] =  &quot;1&quot;  (all SysRqs allowed)<br>    kernel.panic [secs] =  0  (no autoreboot on panic)<br>    kernel.hung_task_panic =  0<br>    kernel.panic_on_oops =  0<br>    kernel.panic_on_io_nmi =  1<br>    kernel.panic_on_unrecovered_nmi =  1<br>    kernel.panic_on_stackoverflow =<br>    kernel.softlockup_panic =  0<br>    kernel.unknown_nmi_panic =  1<br>    kernel.nmi_watchdog =  0<br>    vm.panic_on_oom [0-2] =  0  (no panic)<br><br>    swappiness [0-100] =  &quot;30&quot;<br>$ cat proc/sys/vm/min_free_kbytes <br>28178<br><br><br>/var/log/sa/sar15 /var/log/sa/sa15 파일이 누락되어 해당 시간에 자원사용량을 확인할 수 없었습니다.<br><br>Apr 15 23:16:47 SLVEAPAL02 crond[48763]: (root) INFO (Job execution of per-minute job scheduled for 23:15 delayed into subsequent minute 23:16. Skipping job run.)<br>Apr 15 23:18:27 SLVEAPAL02 CROND[48808]: (root) CMD (/usr/lib64/sa/sa1 1 1)<br>Apr 15 23:19:59 SLVEAPAL02 kernel: java invoked oom-killer: gfp_mask=0x200da, order=0, oom_adj=0, oom_score_adj=0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: java cpuset=/ mems_allowed=0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Pid: 29769, comm: java Tainted: P           ---------------    2.6.32-504.23.4.el6.x86_64 #1<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Call Trace:<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff810d4241&gt;] ? cpuset_print_task_mems_allowed+0x91/0xb0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81127500&gt;] ? dump_header+0x90/0x1b0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8122ee7c&gt;] ? security_real_capable_noaudit+0x3c/0x70<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81127982&gt;] ? oom_kill_process+0x82/0x2a0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff811278c1&gt;] ? select_bad_process+0xe1/0x120<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81127dc0&gt;] ? out_of_memory+0x220/0x3c0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff811346ff&gt;] ? __alloc_pages_nodemask+0x89f/0x8d0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81124520&gt;] ? sync_page_killable+0x0/0x40<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8116caaa&gt;] ? alloc_pages_vma+0x9a/0x150<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81160652&gt;] ? read_swap_cache_async+0xf2/0x160<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81161179&gt;] ? valid_swaphandles+0x69/0x150<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81160747&gt;] ? swapin_readahead+0x87/0xc0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8114f8bd&gt;] ? handle_pte_fault+0x6dd/0xb00<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8114ff79&gt;] ? handle_mm_fault+0x299/0x3d0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8104d096&gt;] ? __do_page_fault+0x146/0x500<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff810fd0b2&gt;] ? ring_buffer_lock_reserve+0xa2/0x160<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff810fd0b2&gt;] ? ring_buffer_lock_reserve+0xa2/0x160<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff811024b3&gt;] ? trace_nowake_buffer_unlock_commit+0x43/0x60<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff81018599&gt;] ? ftrace_raw_event_sys_exit+0xb9/0xc0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8153001e&gt;] ? do_page_fault+0x3e/0xa0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [&lt;ffffffff8152d3d5&gt;] ? page_fault+0x25/0x30<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Mem-Info:<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 DMA free:13976kB min:4kB low:4kB high:4kB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:13580kB mlocked:0kB dirty:0kB writeback:0kB mapped:0kB shmem:0kB slab_reclaimable:0kB slab_unreclaimable:0kB kernel_stack:0kB pagetables:0kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:0 all_unreclaimable? yes<br>Apr 15 23:20:20 SLVEAPAL02 kernel: lowmem_reserve[]: 0 3000 48450 48450<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 DMA32 free:183328kB min:1744kB low:2180kB high:2616kB active_anon:0kB inactive_anon:100kB active_file:4kB inactive_file:0kB unevictable:0kB isolated(anon):0kB isolated(file):0kB present:3072032kB mlocked:0kB dirty:0kB writeback:100kB mapped:4kB shmem:0kB slab_reclaimable:156kB slab_unreclaimable:7360kB kernel_stack:56kB pagetables:16kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:175 all_unreclaimable? yes<br>Apr 15 23:20:20 SLVEAPAL02 kernel: lowmem_reserve[]: 0 0 45450 45450<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 Normal free:26524kB min:26424kB low:33028kB high:39636kB active_anon:327364kB inactive_anon:327420kB active_file:560kB inactive_file:12468kB unevictable:0kB isolated(anon):3456kB isolated(file):0kB present:46540800kB mlocked:0kB dirty:8kB writeback:18016kB mapped:1400kB shmem:0kB slab_reclaimable:20820kB slab_unreclaimable:103180kB kernel_stack:8728kB pagetables:37916kB unstable:0kB bounce:0kB writeback_tmp:0kB pages_scanned:480 all_unreclaimable? no<br>Apr 15 23:20:20 SLVEAPAL02 kernel: lowmem_reserve[]: 0 0 0 0<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 DMA: 2*4kB 2*8kB 2*16kB 3*32kB 2*64kB 1*128kB 1*256kB 0*512kB 1*1024kB 0*2048kB 3*4096kB = 13976kB<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 DMA32: 6084*4kB 4044*8kB 2391*16kB 1716*32kB 489*64kB 1*128kB 0*256kB 0*512kB 0*1024kB 1*2048kB 0*4096kB = 183328kB<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Node 0 Normal: 6587*4kB 17*8kB 0*16kB 0*32kB 0*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 26484kB<br>Apr 15 23:20:20 SLVEAPAL02 kernel: 8498 total pagecache pages<br>Apr 15 23:20:20 SLVEAPAL02 kernel: 5173 pages in swap cache<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Swap cache stats: add 3647213, delete 3642040, find 70185/109827<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Free swap  = 20145500kB<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Total swap = 33553700kB<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: [19872]  1014 19872   545018       21   0       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [63172]    29 63172     5837        7   1       0             0 rpc.statd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [96124]     0 96124   521284        9   1       0             0 console-kit-dae<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [119152]     0 119152    51036        7   2       0             0 python<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [119153]     0 119153   218882       30   0       0             0 python<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29414]  1108 29414    26523        2   2       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29417]  1108 29417    26557        2   0       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29457]  1108 29457    26523        2   3       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29462]  1108 29462    26557        2   2       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29514]  1108 29514    26523        2   2       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29519]  1108 29519    26557        2   1       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29577]  1108 29577    26523        2   1       0             0 sh<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29580]  1108 29580    26557        2   0       0             0 startWebLogic.s<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29596]  1108 29596  2067669       41   2       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29650]  1108 29650  2050257       43   2       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29678]  1108 29678  2598266   159583   1       0             0 java &lt;&lt;------------------------- killed<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [29710]  1108 29710  2598935       61   0       0             0 java<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48800]     0 48800     2503        7   0       0             0 mxMANAGER<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48804]     0 48804    34945       45   2       0             0 crond<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48807]     0 48807    16079       22   1       0             0 bpclntcmd<br>Apr 15 23:20:20 SLVEAPAL02 kernel: [48811]     0 48811     2500      168   3       0             0 mxMANAGER<br><br>Apr 15 23:20:20 SLVEAPAL02 kernel: Out of memory: Kill process 29678 (java) score 49 or sacrifice child<br>Apr 15 23:20:20 SLVEAPAL02 kernel: Killed process 29678, UID 1108, (java) total-vm:10393064kB, anon-rss:637948kB, file-rss:260kB<br>Apr 16 09:12:13 SLVEAPAL02 kernel: imklog 5.8.10, log source = /proc/kmsg started.<br><br>해당 oom 은 java 애플리케이션이 페이지 요청시에 여유 페이지가 부족하여 oom 이 동작한 것으로 확인됩니다.<br>vm.min_free_kbytes 설정이 다소 적게 설정되어있으며, 해당 값을 140890 로 5배 늘려보시기 바랍니다.<br>또한, vmware 가상 시스템에 메모리 발루닝 기능이 활성화되어있는지 확인해보시고,<br>이 기능에 의한 메모리 부족 현상은 아니었는지 vmware 측에 확인해보시기 바랍니다. <br>또한, 해당 기능을 비활성화하여 타 시스템과 메모리 공유가 아닌, 가상 시스템 독자적인 메모리 사용을 해볼 수 있을 것입니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2017-04-18T03:22:06Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>