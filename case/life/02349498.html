======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2019-03-29T01:17:02Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2019-04-16T04:46:24Z</b><br><b>id : 5002K00000dZdppQAC</b><br>======================<br><br><b><font size=15>
제목  : 멀티패스 리로드시 fail메시지 발생
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요. 타임게이트 송기호입니다.<br>기존의 멀티패스에 LUN을 추가로 구성하고 멀티패스 리로드하니 아래와 같은 메시지가 발생하였습니다.<br>root@SLDIMGDL01 &lt;DR Center&gt;:/sysadmin # multipath -r<br>Mar 28 17:35:40 | asm/.asm_ctl_spec: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg0: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg1: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg2: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg3: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg4: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg5: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg6: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg7: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg8: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vdbg: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio0: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio1: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio10: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio11: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio12: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio13: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio14: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio15: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio16: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio17: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio18: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio19: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio2: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio20: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio21: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio22: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio23: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio24: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio25: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio26: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio27: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio28: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio29: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio3: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio30: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio31: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio4: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio5: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio6: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio7: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio8: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vio9: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vmb: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | ofsctl: HDIO_GETGEO failed with 25<br>reload: OCR_VOTE1 (360060e80166484000001648400003400) undef HITACHI ,OPEN-V<br>size=10G features='1 queue_if_no_path' hwhandler='0' wp=undef<br>`-+- policy='service-time 0' prio=1 status=undef<br>  |- 2:0:0:0  sdc                8:32   active ready running<br>  `- 4:0:0:0  sdu                65:64  active ready running<br>reload: OCR_VOTE2 (360060e80166484000001648400003401) undef HITACHI ,OPEN-V<br>size=10G features='1 queue_if_no_path' hwhandler='0' wp=undef<br>`-+- policy='service-time 0' prio=1 status=undef<br>  |- 2:0:0:1  sdd                8:48   active ready running<br>  `- 4:0:0:1  sdv                65:80  active ready running<br>reload: DG_SYSTEM1 (360060e8016648400000164840000340a) undef HITACHI ,OPEN-V<br>size=50G features='1 queue_if_no_path' hwhandler='0' wp=undef<br><br>스토리지는 <br>운용: 히타치 VSP G1000<br>DR : 히타치 VSP<br>를 사용중입니다.<br><br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLDIMGDL01</hostname><br><br><br><comment id="a0a2K00000PoBcsQAF"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2019-03-29T05:26:40Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2019-03-29T05:26:40Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Senior Technical Support Engineer 황 영 입니다.<br><br>Mar 28 17:35:40 | asm/.asm_ctl_spec: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg0: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg1: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg2: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg3: HDIO_GETGEO failed with 25<br>Mar 28 17:35:40 | asm/.asm_ctl_vbg4: HDIO_GETGEO failed with 25<br><br>상기 출력 결과에 의하면 asm 관련 디바이스인것으로 보이는데 상기와 같은 디바이스들을 멀티패스에서<br>blacklist를 하신후 이슈가 해소되는지 확인 부탁 드립니다.<br><br># cat /etc/multipath.conf<br>...<br>blacklist<br>{<br>        devnode &quot;^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*&quot;<br>        devnode &quot;^asm/*&quot;<br>        devnode &quot;^ofsctl&quot;<br>}<br><br># service multipathd reload<br><br>참고문서:<br>What is the reason multipath daemon reported &quot;multipathd:asm!.asm_ctl_vmb&quot; or &quot;multipathd: ofsctl: failed to get path uid&quot; in message log ?<br>https://access.redhat.com/solutions/29537<br><br>만일 blacklist후 지속적으로 에러가 발생된다면 sosreport를 수집하셔서 케이스에<br>업로드 부탁 드립니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-29T05:26:40Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>