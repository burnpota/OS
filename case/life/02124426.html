======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-06-20T06:32:12Z</b><br><b>마지막 답변자 : Xingbin Li</b><br><b>마지막 수정 일자 : 2018-06-29T02:54:51Z</b><br><b>id : 500A000000b90OwIAI</b><br>======================<br><br><b><font size=15>
제목  : Spectre,Meltdown 적용전 커널 버전 확인요청
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하십니까 타임게이트 오선우입니다<br><br>Spectre,Meltdown 관련하여 문의사항이 있어서 케이스 오픈합니다<br><br>고객 장비가 RHEL7.4(3.10.0-693.el7.x86_64) 버전을 사용중입니다<br><br>1. Spectre,Meltdown 패치가 포함되지 않은 최신 버전의 커널을 적용하려고 합니다<br><br>kenel 변경된 log를 보면 아래 버전부터 해당 CVE넘버가 포함되어 있는것 같은데요<br><br>2017-12-13 Denys Vlasenko &lt;dvlasenk@redhat.com&gt; [3.10.0-693.11.3.el7]<br><br>1. 홈페이지에서 다운이 가능한 바로 아래 버전- 3.10.0-693.11.1.el7으로 업데이트시 Spectre,Meltdown 이 적용되지 않은 커널로 업데이트가 가능한것인가요?<br><br>성능저하를 걱정하여 Spectre,Meltdown 패치가 적용되지 않은 환경에 최신의 커널로 업데이트가 필요한 상황입니다<br><br>2. Spectre,Meltdown 패치로 인한 성능저하등의 이슈가 해결된 커널버전 또는 패치가 제공된다면 언제쯤 조치가 가능할까요?<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Other</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000MvkcdIAB"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-06-29T02:54:49Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-06-29T02:54:48Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service입니다.<br><br>마지막 안내후 일정기간동안 답변이 없으셔서 본 케이스를 close 처리 하려고 합니다.<br>만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재오픈하실 수 있습니다.  <br>  <br>케이스가 처리 완료되면 가능하게 고객 설문조사 메일이 발생됩니다. <br>고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다. <br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.  <br>  <br>감사합니다.<br><br><publishedDate>2018-06-29T02:54:48Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Mv73uIAB"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-06-27T01:22:21Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-06-27T01:22:21Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 추가적으로 문의하실 사항이 있으신가요?<br><br>본 안내 후 일정기간 답변이 없다면 본 케이스는 자동으로 종료 상태가 됨을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하시다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-06-27T01:22:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MuR7TIAV"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-06-25T06:48:17Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-06-25T06:48:17Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>Q1.kernel-3.10.0-693.21.1.el7.x86_64.rpm<br>버전이 7.4GA버전의 최신 인지확인 부탁드리며<br><br>A1. 말씀하신 &quot;GA 최신버전&quot;이란 것이 RHEL 7.4 에서의 zstream 최신버전을 말씀하신 것으로 제가 이해한 것이 맞다면,<br>kernel-3.10.0-693.21.1.el7 은 zstream 최신 버전이 맞습니다.<br><br>현재 RHEL 7 버전에서의 최신 GA버전은 RHEL 7.5 GA (kernel-3.10.0-862.el7) 이며, <br>마이너버전 포함 RHEL 7의 최신 커널버전은 kernel-3.10.0-862.3.3.el7 입니다.<br><br>Q2.추가로/proc/cmdline에 내용이 들어갔다는것 이외에  spectre_v2=off nopti 적용후에 정상적으로 적용이 되었는지 <br>확인 할 수 있는 방법을 알려주시기 바랍니다.<br><br>A2. grup cmdline에 옵션 추가후 재부팅후 아래의 세 명령 출력결과가 모두 0이라면 적용된 것으로 보실수 있습니다.<br>    # cat /sys/kernel/debug/x86/pti_enabled<br>    # cat /sys/kernel/debug/x86/retp_enabled<br>    # cat /sys/kernel/debug/x86/ibrs_enabled<br><br>감사합니다.<br><br><publishedDate>2018-06-25T06:48:17Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MuQJqIAN"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-06-25T05:30:37Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-06-25T05:30:37Z</b><br><br>답변감사합니다.<br>추가 문의가 있어서 추가 오픈합니다.<br>7.4 GA kernel 최신 버전 업데이트 후에 아래에서 권고 해주셨던 방법으로<br>기능을 disable할려고 하는데요.<br><br>kernel-3.10.0-693.21.1.el7.x86_64.rpm<br>버전이 7.4GA버전의 최신 인지확인 부탁드리며<br><br>추가로/proc/cmdline에 내용이 들어갔다는것 이외에  spectre_v2=off nopti 적용후에 정상적으로 적용이 되었는지 <br>확인 할 수 있는 방법을 알려주시기 바랍니다.<br><br><publishedDate>2018-06-25T05:30:37Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Mtkr6IAB"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-06-21T02:21:52Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-06-21T02:21:52Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>Q1. 홈페이지에서 다운이 가능한 바로 아래 버전- 3.10.0-693.11.1.el7으로 업데이트시 Spectre,Meltdown 이 적용되지 않은 커널로 업데이트가 가능한것인가요?<br><br>A1. 네 맞습니다, 스펙터,멜트다운 패치가 된 다운이 가능한 커널버전은 kernel-3.10.0-693.11.6.el7.x86_64.rpm 부터입니다, 따라서 해당 패치가 적용이 안된 버전을 설치하시려면<br>   kernel-3.10.0-693.11.1.el7.x86_64.rpm 를 다운받으실수 있습니다.<br><br>Q2. Spectre,Meltdown 패치로 인한 성능저하등의 이슈가 해결된 커널버전 또는 패치가 제공된다면 언제쯤 조치가 가능할까요?<br><br>A2. Spectre,Meltdown 패치로 인한 성능저하는 막을수 없습니다. 다만 &quot;Retpoline&quot; code를 적용한 패치가 릴리즈 된후 내부적으로 테스트한 결과 성능저하정도 일정하게 완화되었다고 보고되었습니다. 아래의 문서를 참고하실수 있습니다.<br>    <br>    https://access.redhat.com/articles/3307751<br><br>또한 스펙터, 멜트다운 보안결함 패치가 적용된 커널을 설치후, 옵션을 통해서 해당 패치를 disable 시킴으로써 최신 커널 버전을 설치후에도 성능저하를 막을수 있는 방법도 존재합니다. <br>그 방법은 아래와 같습니다.<br><br>=================================<br># vi /etc/default/grub<br><br>GRUB_CMDLINE_LINUX 항목에 아래의 옵션을 추가후 재부팅합니다.<br><br>spectre_v2=off nopti<br><br>=================================<br>자세한 내용은 아래의 문서를 참고하실수 있습니다.<br><br>Controlling the Performance Impact of Microcode and Security Patches for CVE-2017-5754 CVE-2017-5715 and CVE-2017-5753 using Red Hat Enterprise Linux Tunables<br><br>- https://access.redhat.com/articles/3311301#disabling-the-cves-3<br><br><br>감사합니다.<br><br><publishedDate>2018-06-21T02:21:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MtkVtIAJ"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2018-06-21T01:37:52Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2018-06-21T01:37:52Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>저는 이성빈이라고 하며 본 케이스를 담당하게 되었습니다.<br>현재 문의 주신 내용에 관해 확인 중에 있으며 답변이 정리되는 대로 코멘트를 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-06-21T01:37:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>