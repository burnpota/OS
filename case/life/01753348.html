======================<br><b>생성계정 : 타임게이트 (주)</b><br><b>생성날짜 : 2016-12-07T01:55:45Z</b><br><b>마지막 답변자 : Min Woo Park</b><br><b>마지막 수정 일자 : 2016-12-26T00:25:35Z</b><br><b>id : 500A000000VopXZIAZ</b><br>======================<br><br><b><font size=15>
제목  : [삼성생명] JBoss EWS2.1 user/group 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>.<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>.<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat JBoss Web Server</b><br><b>버젼  : 2.1.0</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000IWm52IAD"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-12-26T00:25:34Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-12-26T00:25:34Z</b><br><br>안녕하세요,  <br>      <br>요청에 의해 본 케이스를 처리완료하도록 하겠습니다. 만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재오픈하실 수 있습니다.  <br>     <br>케이스가 처리 완료되면 가능하게 고객 설문조사 메일이 발생됩니다. 고객님께서 남기 신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다. 향후 기술  지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다. <br><br>그리고 아래 Red Hat Customer Portal group을 통하여 많은 유용한 정보들을 볼수 있으니 참고하시기 바랍니다.<br><br>Featured Groups:<br>Red Hat Enterprise Linux - https://access.redhat.com/groups/red-hat-enterprise-linux<br>Red Hat Enterprise Linux 7 Ideas - https://access.redhat.com/groups/red-hat-enterprise-linux-7-ideas<br>Red Hat Enterprise Linux Developer Program (beta) - https://access.redhat.com/groups/red-hat-enterprise-linux-developer-program-beta<br>Red Hat Enterprise Virtualization - https://access.redhat.com/groups/red-hat-enterprise-virtualization<br>Red Hat Storage - https://access.redhat.com/groups/red-hat-storage<br>JBoss Enterprise Middleware - https://access.redhat.com/groups/jboss-enterprise-middleware<br>Red Hat Network Satellite - https://access.redhat.com/groups/red-hat-network-satellite<br>       <br>감사합니다.  <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Customer Experience and Engagement (CEE)<br><br><publishedDate>2016-12-26T00:25:34Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000IWm4iIAD"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-12-26T00:20:21Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-12-26T00:20:21Z</b><br><br>감사합니다 <br>현재 ews 외에 sso 관련 이슈로 인해 발생한 것으로 판단되어 SR종료합니다.<br><br><publishedDate>2016-12-26T00:20:21Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000IToKVIA1"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-12-08T00:25:12Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-12-08T00:25:12Z</b><br><br>안녕하세요,<br><br>다시 한번 말씀드리자면, /APP/jboss/httpd 디레토리에서의 permission error인 경우 반드시 상위 디렉토리들의 permission도 확인되어야 합니다.<br><br>(example)<br>* apache의 user:group = apache:apache<br><br>case 1) /var/www/html 디렉토리의 permission이 없는 경우<br><br>$ cd /var/www<br>$ chmod 750 html    -----&gt; other의 permission 변경<br>$ ls -al<br>drwxr-x--- 2 root root    4096  4월 25  2016 html<br><br>==&gt; 에러발생<br>[core:error] [pid 3358] (13)Permission denied: [client 127.0.0.1:36495] AH00035: access to /test.html denied (filesystem path '/var/www/html/test.html') because search permissions are missing on a component of the path<br><br>case 2) /var/www 디렉토리의 permission이 없는 경우<br><br>$ cd /var/www<br>$ chmod 755 html    -----&gt; html 디렉토리 permission 복구<br>$ ls -al<br>drwxr-xr-x   2 root root    4096  4월 25  2016 html<br><br>$ cd /var<br>$ chmod 750 www<br>$ ls -al<br>drwxr-x---   5 root root 4096  1월 25  2016 www<br><br>==&gt; 에러 발생 <br>[Thu Dec 08 09:01:56.042202 2016] [core:error] [pid 3362] (13)Permission denied: [client 127.0.0.1:36507] AH00035: access to /test.html denied (filesystem path '/var/www/html') because search permissions are missing on a component of the path<br><br>즉, apache user:group으로 설정된 user:group이 해당 디렉토리 및 그 상위 디렉토리들에 대한 read, execute permission이 있는지 확인 바랍니다.<br><br>(example)<br>$ cd /<br>$ ls -al<br>drwxr-xr-x.  18 root root   4096 12월  1 17:31 .<br>drwxr-xr-x.  21 root root   4096 12월  1 17:31 var<br>$ cd /var<br>$ ls -al <br>drwxr-xr-x   5 root root 4096  1월 25  2016 www<br>$ cd /var/www<br>$ ls -al<br>drwxr-xr-x   2 root root    4096  4월 25  2016 html<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Customer Experience and Engagement (CEE)<br><br><publishedDate>2016-12-08T00:25:12Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ITnq9IAD"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-12-07T23:54:53Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-12-07T23:54:52Z</b><br><br>답변감사합니다. <br>현재 고객사 일정 확정 후 진행하도록 하겠습니다.<br><br><publishedDate>2016-12-07T23:54:52Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000ITVcRIAX"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-12-07T04:25:11Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-12-07T04:25:10Z</b><br><br>안녕하세요,  <br><br>모든 레벨의 디렉토리에 대한 read &amp; execute 권한이 있어야 합니다.<br><br>즉 에러가 발생하는 경로가 /APP/jboss/httpd 인 경우, 아래의 디렉토리들이 nobody:nobody 권한으로 read &amp; execute 권한이 있어야 합니다.<br>~~~<br>/<br>/APP<br>/APP/jboss<br>/APP/jboss/httpd<br>~~~<br><br>보내주신 결과를 보면, / 와 /APP의 권한은 파악이 안됩니다.<br>/APP/jboss의 경우를 보면,<br>apache 유저와 apache 그룹에는 read &amp; execute 권한이 있지만, 다른 group (i.e. nobody:nobody)의 user는 권한이 없습니다.<br><br>apache@FLPTRSW0A /APP # ls -l<br>drwxr-x--- 5 apache apache  4096 Oct 25 22:17 jboss<br><br>즉, 아래의 디렉토리들에 대해 nobody user &amp; group 에서 read &amp; execute 할 수 있는 권한을 주고 테스트 바랍니다.<br>~~~<br>/<br>/APP<br>/APP/jboss<br>/APP/jboss/httpd<br>~~~<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Customer Experience and Engagement (CEE)<br><br><publishedDate>2016-12-07T04:25:10Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ITVEXIA5"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-12-07T03:42:31Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-12-07T03:42:31Z</b><br><br>안녕하세요<br>빠른 답변에 감사드립니다. <br><br>상위 /APP를 제외하고 755로 확인됩니다. <br><br>요청하신 각 경로별 권한을 하기와 같이 전달드립니다 .<br><br>##### /APP #####<br>apache@FLPTRSW0A /APP/jboss/httpd # cd /APP<br>apache@FLPTRSW0A /APP # ls -l<br>total 20<br>drwxr-x--- 5 apache apache  4096 Oct 25 22:17 jboss<br>drwx------ 2 root   root   16384 Sep 30  2013 lost+found<br>#####<br><br>##### /APP/jboss #####<br>apache@FLPTRSW0A /APP # cd jboss<br>apache@FLPTRSW0A /APP/jboss # ls -l<br>total 12<br>drwxr-xr-x 14 apache apache 4096 Oct 25 20:36 httpd<br>drwxr-x--- 14 apache apache 4096 Jun  4  2016 httpd_20161025<br>drwxr-x---  2 apache apache 4096 Oct 25 20:34 jboss-ews-2.1<br>#####<br><br>##### /APP/jboss/httpd #####<br>apache@FLPTRSW0A /APP/jboss # cd httpd<br>apache@FLPTRSW0A /APP/jboss/httpd # ls -l<br>total 256<br>-rw-r--r-- 1 apache apache  14882 Nov 22  2004 ABOUT_APACHE<br>-rw-r--r-- 1 apache apache 131477 Nov 11  2013 CHANGES<br>-rw-r--r-- 1 apache apache  28690 Jan 19  2008 LICENSE<br>-rw-r--r-- 1 apache apache    828 Jan  6  2013 NOTICE<br>-rw-r--r-- 1 apache apache   5823 Jul 18  2014 README<br>-rw-r--r-- 1 apache apache   8183 Oct 18  2005 VERSIONING<br>drwxr-xr-x 2 apache apache   4096 Aug  9  2014 bin<br>drwxr-xr-x 4 apache apache   4096 Jul 18  2014 cache<br>drwxr-xr-x 3 apache apache   4096 Dec  6 19:39 conf<br>drwxr-xr-x 3 apache apache   4096 Oct 25 20:36 conf.d<br>drwxr-xr-x 2 apache apache   4096 Oct 25 19:32 include<br>drwxr-xr-x 3 apache apache   4096 Aug  9  2014 lib<br>drwxr-xr-x 2 apache apache  12288 Dec  7 10:14 logs<br>drwxr-xr-x 2 apache apache   4096 Oct 25 19:32 modules<br>drwxr-xr-x 2 apache apache   4096 Dec  6 20:19 run<br>drwxr-xr-x 2 apache apache   4096 Oct 25 21:49 sbin<br>drwxr-xr-x 3 apache apache   4096 Oct 25 20:36 var<br>drwxr-xr-x 6 apache apache   4096 Jul 18  2014 www<br>#####<br><br>확인요청드립니다.<br><br><publishedDate>2016-12-07T03:42:31Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000ITUHCIA5"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-12-07T02:17:00Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-12-07T02:17:00Z</b><br><br>안녕하세요,  <br>  <br>Red Hat Global Support Services를 이용해주셔서 감사합니다.  <br>저는 박민우라고 하고 앞으로 이 케이스를 담당하게 되었습니다.<br><br>해당 에러는 filesystem path '/APP/jboss/httpd' 에 대해 nobody user가 read/execute permission이 없어서 발생합니다.<br>해당 디렉토리(각 레벨별 확인)에 대한 permission 확인 부탁드립니다.<br><br>Example) /var/www/html<br><br>~~~<br>$ namei -l /var/www/html/  &lt;&lt;&lt; The -l option returns the long listing (equivalent to ls -l)<br>f: /var/www/html/          &lt;&lt;&lt; The pathname currently being resolved<br>dr-xr-xr-x root root /<br>drwxr-xr-x root root var<br>drwxr-xr-x root root www<br>drwxr-xr-x root root html<br>~~~<br><br>If namei is not installed/available, check the output of ls -l on every directory of your DocumentRoot:<br>~~~<br>$ ls -l /<br>$ ls -l /var/<br>$ ls -l /var/www/<br>$ ls -l /var/www/html/<br>~~~<br><br>/var/www/html에 대해 ownership 및 permissions(read and execute) 변경<br><br>~~~<br>$ chown -R apache:apache /var/www/html/   &lt;&lt;&lt; Both of these are only making changes to `/html` at `/var/www/` you will have to<br>$ chmod -R 500 /var/www/html/             &lt;&lt;&lt; repeat similar operations at each level that is restricting the apache user<br>~~~<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Customer Experience and Engagement (CEE)<br><br><publishedDate>2016-12-07T02:17:00Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000ITU7vIAH"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-12-07T02:01:23Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-12-07T02:01:23Z</b><br><br>안녕하세요<br><br>## 고객정보 ##<br>성명 : 이해인<br>고객사 : 삼성생명<br>연락처 : 010-7191-8130<br>##<br>## 환경 ##<br>OS : RHEL6<br>webserver : EWS2.1(apache 2.2.26)<br>##<br><br>고객사 내 보안정책으로 apache의 user/group 명이 기존 일반 유져에서 nobody로 변경한 후 하기와 같이 httpd 기동은 되나 permission denied가 발생하며 정상 서비스가 되지 않습니다. <br>## httpd.conf ##<br>AS_IS)<br>User apache<br>Group apache<br><br>TO_BE)<br>User nobody<br>Group nobody<br>##<br><br>## 로그 일부 ##<br>[Tue Dec 06 20:11:28 2016] [error] [client 아이피] (13)Permission denied: access to / denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path<br>[Tue Dec 06 20:12:11 2016] [error] [client 아이피] (13)Permission denied: access to / denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path<br>[Tue Dec 06 20:12:52 2016] [error] [client 아이피] (13)Permission denied: access to / denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path<br>[Tue Dec 06 20:12:59 2016] [error] [client 아이피] (13)Permission denied: access to /js/extended5.js denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path, referer: https://URL<br>[Tue Dec 06 20:12:59 2016] [error] [client 아이피] (13)Permission denied: access to /css/style.css denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path, referer: https://URL<br>[Tue Dec 06 20:12:59 2016] [error] [client 아이피] (13)Permission denied: access to /js/rsa2.js denied (filesystem path '/APP/jboss/httpd') because search permissions are missing on a component of the path, referer: https://URL<br>###<br><br>번들 httpd server의 경우 동일 설정으로 정상 서비스가 되는데 현재 EWS2.1 에서 해당 이슈가 발생합니다. <br><br>확인 요청드립니다. <br><br>감사합니다.<br><br><publishedDate>2016-12-07T02:01:23Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>