======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-06-26T14:28:18Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-07-21T10:04:14Z</b><br><b>id : 500A000000b9s6MIAQ</b><br>======================<br><br><b><font size=15>
제목  : [구성문의]RHEL6 RHCS PING CHECK문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요. <br>현재 구성되어있는 RHCS에 모든장비에 Gateway로 ping를 체크하는 내용을 아래와 같이 추가하고자 합니다.<br>2node이며 쿼럼장치는 사용하고 있지 않습니다. <br>..생략<br>&lt;cman expected_votes=&quot;3&quot; quorum_dev_poll=&quot;75000&quot;/&gt;<br>..생략<br> &lt;quorumd interval=&quot;3&quot; label=&quot;qdisk&quot; min_score=&quot;1&quot; tko=&quot;10&quot; votes=&quot;1&quot;&gt;<br>  &lt;heuristic program=&quot;ping -c1 -w1 182.192.0.1&quot; tko=&quot;5&quot;/&gt;<br>  &lt;heuristic program=&quot;ping -c1 -w1 10.255.255.23&quot; tko=&quot;5&quot;/&gt;<br>  &lt;heuristic program=&quot;ping -c1 -w1 10.255.255.24&quot; tko=&quot;5&quot;/&gt;<br> &lt;/quorumd&gt;<br>..생략<br><br>Q1) 위의 내용을 추가하는방법이 Gateway로 ping를 추가하는 내용이 맞나요?<br><br>Q2) 현재 구성은 쿼럼장치를 사용하지 않고 있는데 위의 내용을 추가하고자 한다면 쿼럼장치를 추가해야하나요?<br><br>Q3) Gateway로 핑을 체크하는 다른 방법이 있다면 부탁드립니다.<br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김태현 (책임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-3734-0720<br>- 메일주소 : 김태현 &lt;th0720.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(책임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.4</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>NA</hostname><br><br><br><comment id="a0aA000000N9vi6IAB"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-07-06T08:19:14Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-07-06T08:19:14Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>먼저 통화시간을 내주셔서 감사합니다.<br>추가 문의하신 내용은 fence 에 관련된 내용이기 때문에 문제의 단일화를 위해서 02135908 에서 진행할 수 있도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-07-06T08:19:14Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000N9vPsIAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-06T07:48:53Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-06T07:48:53Z</b><br><br>fence_agent업데이트 부분은 GFS관련 이슈로 보여서 업데이트를 진행하지 않아도 될것으로 판단됩니다.<br>https://access.redhat.com/solutions/290333<br><br><publishedDate>2018-07-06T07:48:53Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000N9vIlIAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-06T07:39:07Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-06T07:39:07Z</b><br><br>답변감사합니다.<br>담당자 분의 연락처 : 01036209917<br>성함 : 송기호 <br>소속 : 타임게이트<br>통화가능 시간 : 언제든지 가능합니다.<br><br>감사합니다.<br><br><publishedDate>2018-07-06T07:39:07Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000N9sd9IAB"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-07-06T01:56:06Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-07-06T01:56:06Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>Q1) fence-agents 낮은 버전이 간혹 패닉 이슈가 있다는 이야기를 들어서 최신 버전 fence-agents-4.0.15-13.el6_9.2.x86_64 로 업데이트를 계획중입니다.<br>A1) 패닉 이슈가 어떤 것인지 좀 더 정확한 내용이나 참조하신 자료를 부탁드립니다.<br><br>코멘트에 나열하신 fence_scsi_check 작업과 watchdog 작업은 무엇을 위한것인지요?<br>각 명령어 별 작업을 진행하신 이유와 참조한 문서가 있다면 답변 부탁드립니다.<br><br>추가적으로 해당 케이스 내용 관련하여 통화하고자 합니다.<br>담당자 분의 연락처 / 성함 / 소속 / 통화가능 시간을 코멘트로 남겨주시면 연락드릴 수 있도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-07-06T01:56:06Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000N9a3PIAR"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-05T12:08:35Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-05T12:08:35Z</b><br><br>답변감사합니다.<br>아래의 cluster.conf 설정에서보면 scsi fence를 사용중인데요.<br>현재<br>fence-agents 낮은 버전이 간혹 패닉 이슈가 있다는 이야기를 들어서<br>최신 버전 fence-agents-4.0.15-13.el6_9.2.x86_64 로 업데이트를 계획중입니다.<br><br>1. 최신 버전 업데이트 후에 기존 fence_scsi_check.pl삭제<br><br>2. ln -s /usr/share/cluster/fence_scsi_check_hardreboot.pl /etc/watchdog.d/<br><br>3. kernel.watchdog = 1 설정<br><br>4. service watchdog start <br><br>5. 펜싱테스트<br>ex) fence_node [node명]<br><br>으로 진행하면 될까요??<br><br>감사합니다.<br><br><publishedDate>2018-07-05T12:08:35Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000N9GUFIA3"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-07-04T02:23:10Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-07-04T05:18:31Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>요청하신 내용에 대한 답변입니다.<br><br>Q) heuristic 를 한개만 등록하고자 하는데요. min_score를 1로 하였을때 heuristic 가 1 인상태인데 heuristic 보다 min_score가 작아야 하는 것으로 알고 있는데요. 구성에 상관이 없을까요??<br>A) 문서[1] 을 토대로 문의하신 내용을 재정리해서 말씀드리면 hueristics 의 총 score 가 min_score 보다 작으면 안됩니다.<br>   즉, 문서[1] 의 예제와 동일한 heuristic score 가 1 이고 min_score 가 1 인 구성은 특별히 문제 없어 보입니다.<br>   만약 heuristic 이 실패해서 총 score(예: 0) 가 min_score(예: 1) 보다 작아진다면 시스템 리붓을 초래할 것입니다.(상세내용: 문서[1] 참조)<br><br>다음은 변경 사항에 대한 확인 결과입니다.<br><br>1) &lt;cman expected_votes=&quot;1&quot; two_node=&quot;1&quot;&gt; &lt;-------- &lt;cman expected_votes=&quot;3&quot; quorum_dev_poll=&quot;75000&quot;/&gt;변경<br><br>  =&gt; expected_votes 값은 클러스터 노드 개수 * 2 - 1 과 같아야합니다. 따라서 문제 없을 것으로 판단됩니다.<br><br>2) &lt;quorumd interval=&quot;3&quot; label=&quot;qdisk&quot; min_score=&quot;1&quot; tko=&quot;10&quot; votes=&quot;1&quot;&gt; &lt;-------------------추가<br>    &lt;heuristic program=&quot;ping -c1 -w1 [gateway ip]” tko=&quot;5&quot;/&gt; &lt;-------------------------------추가<br>   &lt;/quorumd&gt; &lt;------------------------------------------------------------------------------추가<br><br>  =&gt; quorumd 의 vote 값은 전체 클러스터 노드 개수에서 -1  한 값과 같아야 하며, 문제 없을 것으로 판단됩니다.<br>     min_score 앞서 말씀드린 것과 같이 문제 없습니다.<br>     interval 설정은 heuristisc 의 tko * interval 은 quorumd 의 interval * (tko-1) 보다 작거나 같아야 합니다. <br>     별도의 heuristic interval 값을 설정하지 않으신 경우는 기본 값이 2초이기 때문에 현재의 interval 설정도 문제되지 않을 것으로 판단됩니다.<br><br>3) &lt;totem token=&quot;75000&quot;/&gt; &lt;----------------------------------------------------------------------추가<br><br>  =&gt; totem token 값은 quorum 의 ( tko * interval ) * 2 보다 커야합니다. 따라서 문제 없을 것으로 판단 됩니다.<br><br>4) quorum_dev_poll  값은 totem token 값과 일치 해야합니다. 따라서 문제 없을 것으로 판단됩니다.<br><br>5) quorum disk 를 클러스터에 적용하려면 클러스터 전체를 재시작 해야합니다. 따라서 이전 코멘트에 나열하신 작업이 다 끝나면 클러스터 전체를 재시작 해주시기 바랍니다.<br><br><br>상기와 같이 제가 관련 내용을 확인하였습니다만 고객사마다 환경이 다르며 Qdisk의 기대 동작이 다르기 때문에 설정 변경 후 반드시 테스트를 진행하시기 바랍니다.<br>아래에 문의하신 내용을 포함, 도움이 되실만한 문서들을 나열하였으므로 업무에 참조하시기 바랍니다.<br>마지막으로 각 파라메터 값들에 대한 최적화 설정은 기술지원 범위에 해당 하지 않으므로 추가 문의에 대하여 지원이 어려울 수 있는 점 참고 부탁드립니다.<br><br><br>[1] Does a quorum disk require a heuristic be defined on RHEL 5 and RHEL 6? <br>https://access.redhat.com/solutions/708393<br><br>[2] Why does my Red Hat Cluster Suite node get fenced when my qdisk heuristic fails once and my quorum disk has a tko greater than one?<br>https://access.redhat.com/solutions/18481<br><br>[3] What is the meaning of the quorum disk heuristics in cluster<br>https://access.redhat.com/solutions/1275923<br><br>[4] How do I create and initialize a quorum disk?<br>https://access.redhat.com/solutions/4365<br><br>[5] What is the meaning of the quorum disk options in cluster<br>https://access.redhat.com/solutions/1275923<br><br>[6] How to Optimally Configure a Quorum Disk in Red Hat Enterprise Linux Clustering and High-Availability Environments<br>https://access.redhat.com/sites/default/files/attachments/rhel_cluster_qdisk.pdf<br><br>감사합니다.<br><br><publishedDate>2018-07-04T02:23:10Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000MwNxpIAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-03T04:33:57Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-03T04:33:57Z</b><br><br>추가 질문드립니다.<br>현재 heuristic 를 한개만 등록하고자 하는데요<br>min_score를 1로 하였을때 heuristic 가 1 인상태인데<br>heuristic 보다 min_score가 작아야 하는 것으로 알고 있는데요<br>구성에  상관이 없을까요??<br><br><publishedDate>2018-07-03T04:33:57Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000MwNqtIAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-03T04:17:40Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-03T04:17:40Z</b><br><br>답변감사합니다. 쿼럼추가하는 작업은 처음이라서 아래의 방법이 정확한지 확인 부탁드립니다.<br><br>1. 쿼럼디스크 1기가 추가 후 멀티패스 작업<br>2. mkqdisk -c /dev/mapper/qdisk -l qdisk 쿼럼생성<br>3. mkqdisk -L 로 정보확안<br>4. &lt;cman expected_votes=&quot;3&quot; quorum_dev_poll=&quot;75000&quot;/&gt;<br>5. &lt;quorumd interval=&quot;3&quot; label=&quot;qdisk&quot; min_score=&quot;1&quot; tko=&quot;10&quot; votes=&quot;1&quot;&gt;<br>&lt;heuristic program=&quot;ping -c1 -w1 [gateway ip]” tko=&quot;5&quot;/&gt;<br>&lt;/quorumd&gt; <br>6. &lt;totem token=&quot;75000&quot;/&gt; 토템토큰추가<br><br>변경후전문 변경과 추가 부분은 확인 부탁드립니다.<br><br>&lt;?xml version=&quot;1.0&quot;?&gt;<br>&lt;cluster config_version=&quot;17&quot; name=&quot;IDM-CLUSTER&quot;&gt;<br>        &lt;fence_daemon post_fail_delay=&quot;0&quot; post_join_delay=&quot;3&quot;/&gt;<br>        &lt;clusternodes&gt;<br>                &lt;clusternode name=&quot;FLPIDMM01.CS&quot; nodeid=&quot;1&quot;&gt;<br>                        &lt;fence&gt;<br>                                &lt;method name=&quot;Method1&quot;&gt;<br>                                        &lt;device delay=&quot;30&quot; key=&quot;13&quot; name=&quot;scsi_fence&quot;/&gt;<br>                                &lt;/method&gt;<br>                        &lt;/fence&gt;<br>                        &lt;altname name=&quot;FLPIDMM01&quot;/&gt;<br>                        &lt;unfence&gt;<br>                                &lt;device action=&quot;on&quot; key=&quot;13&quot; name=&quot;scsi_fence&quot;/&gt;<br>                        &lt;/unfence&gt;<br>                &lt;/clusternode&gt;<br>                &lt;clusternode name=&quot;FLPIDMM02.CS&quot; nodeid=&quot;2&quot;&gt;<br>                        &lt;fence&gt;<br>                                &lt;method name=&quot;Method1&quot;&gt;<br>                                        &lt;device key=&quot;14&quot; name=&quot;scsi_fence&quot;/&gt;<br>                                &lt;/method&gt;<br>                        &lt;/fence&gt;<br>                        &lt;altname name=&quot;FLPIDMM02&quot;/&gt;<br>                        &lt;unfence&gt;<br>                                &lt;device action=&quot;on&quot; key=&quot;14&quot; name=&quot;scsi_fence&quot;/&gt;<br>                        &lt;/unfence&gt;<br>                &lt;/clusternode&gt;<br>        &lt;/clusternodes&gt;<br>        &lt;cman expected_votes=&quot;1&quot; two_node=&quot;1&quot;&gt; &lt;-------- &lt;cman expected_votes=&quot;3&quot; quorum_dev_poll=&quot;75000&quot;/&gt;변경<br>                &lt;multicast addr=&quot;239.192.10.43&quot;/&gt;<br>                &lt;altmulticast addr=&quot;239.192.10.44&quot;/&gt;<br>        &lt;/cman&gt;<br>        &lt;fencedevices&gt;<br>                &lt;fencedevice agent=&quot;fence_scsi&quot; devices=&quot;/dev/mapper/exts0,/dev/mapper/exts1,/dev/mapper/exts2,/dev/mapper/exts3,/dev/mapper/exts4,/dev/mapper/exts5,/dev/mapper/exts6,/dev/mapper/exts7,/dev/mapper/exts8,/dev/mapper/exts9,/dev/mapper/exts10,/dev/mapper/exts11,/dev/mapper/exts12,/dev/mapper/exts13,/dev/mapper/exts14,/dev/mapper/exts15&quot; name=&quot;scsi_fence&quot;/&gt;<br>        &lt;/fencedevices&gt;<br>        &lt;rm&gt;<br>                &lt;failoverdomains&gt;<br>                        &lt;failoverdomain name=&quot;cluster-FD&quot; nofailback=&quot;1&quot; ordered=&quot;0&quot;&gt;<br>                                &lt;failoverdomainnode name=&quot;FLPIDMM01.CS&quot; priority=&quot;1&quot;/&gt;<br>                                &lt;failoverdomainnode name=&quot;FLPIDMM02.CS&quot; priority=&quot;1&quot;/&gt;<br>                        &lt;/failoverdomain&gt;<br>                &lt;/failoverdomains&gt;<br>                &lt;resources&gt;<br>                        &lt;ip address=&quot;100.254.180.53&quot; sleeptime=&quot;10&quot;/&gt;<br>                        &lt;fs device=&quot;/dev/mapper/vg3-lv_data&quot; force_unmount=&quot;1&quot; fsid=&quot;&quot; fstype=&quot;ext4&quot; mountpoint=&quot;/DATA&quot; name=&quot;data&quot; options=&quot;rw,nobarrier&quot; self_fence=&quot;1&quot;/&gt;<br>                &lt;/resources&gt;<br>                &lt;service domain=&quot;cluster-FD&quot; name=&quot;service&quot; recovery=&quot;relocate&quot;&gt;<br>                        &lt;ip ref=&quot;100.254.180.53&quot;/&gt;<br>                        &lt;fs ref=&quot;data&quot;/&gt;<br>                &lt;/service&gt;<br>        &lt;/rm&gt;<br><br>&lt;quorumd interval=&quot;3&quot; label=&quot;qdisk&quot; min_score=&quot;1&quot; tko=&quot;10&quot; votes=&quot;1&quot;&gt; &lt;-------------------추가<br><br><br>&lt;heuristic program=&quot;ping -c1 -w1 [gateway ip]” tko=&quot;5&quot;/&gt;&lt;-------------------------------추가<br><br>&lt;/quorumd&gt; &lt;-------------------------------------------------------------------------------------추가<br><br>&lt;totem token=&quot;75000&quot;/&gt; &lt;----------------------------------------------------------------------추가<br>&lt;/cluster&gt;<br><br>설정에 문제가 될 부분은 있으면 부탁드립니다.<br>감사합니다.<br><br><publishedDate>2018-07-03T04:17:40Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000MwMS8IAN"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-07-03T00:34:49Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-07-03T00:34:49Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>네 가능합니다. quorum disk 를 사용한다고 해서 서비스를 한쪽 노드에서만 실행해야하는 것은 아닙니다.<br>원하시는 답변이 아니었다면 우려되는 부분이 어떤 것인지 말씀부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-07-03T00:34:49Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Mw8vQIAR"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-02T08:35:48Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-02T08:35:48Z</b><br><br>답변감사합니다.<br>추가 궁금한 사항이 있는데요.<br>현재 각가의 서비스를 각각의 노드에 start된 상태입니다.<br>예를들면<br>node1에는 A-service가<br>node2에는 B-service가 구동중입니다.<br><br>만약 quorum을 사용하게 된다면<br>현재와 같은 구동을 유지할수 있을까요??<br><br><publishedDate>2018-07-02T08:35:48Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Mw62dIAB"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-07-02T03:34:46Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-07-02T03:34:46Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>알고 계시겠지만 고객사의 환경에 따라 변할 수 있는 값에 대해서는 Red Hat 에서 권고하는 경우가 많지 않습니다.<br>heuristic 도 특별한 별도의 권고값이 없으며, sh -c 로 실행할 수 있는 명령어들을 사용하시면 됩니다. 다음은 저희 문서의 일부입니다.<br><br>&quot;참고&quot;<br>쿼럼 디스크 매개 변수 및 휴리스틱스는 사이트 환경과 필요한 특정 요건에 따라 달라집니다. 쿼럼 디스크 매개 변수 및 휴리스틱스 사용을 이해하려면 qdisk(5) man 페이지에서 참조하십시오.<br>쿼럼 디스크의 이해 및 사용에 대한 지원이 필요하실 경우 Red Hat 지원 담당자에게 문의하십시오.<br><br>추가로 말씀드리고 싶은 부분은 qdisk 및 heuristic 은 클러스터 동작은 위하여 반드시 설정되어야 하는 부분이 아니며,<br>추가 관리 사항들이 발생할 수 있기 때문에 반드시 클러스터를 더 안정적으로 운용할 수 있다고 말씀드리기 어렵습니다. 만약 2 노드라면 더욱 그렇습니다.<br>따라서 qdisk 및 heuristic 이 정말 필요한지 고려하신 후, heuristic 의 설정에 대한 항목들은 운용중인 서버에서 이전에 발생했던 장애 사례 등을 고려하여 해당 부분을 체크하는 항목을 설정하시면 좋을것 같습니다.<br><br>감사합니다.<br><br><publishedDate>2018-07-02T03:34:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Mw5N1IAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-07-02T01:34:35Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-07-02T01:34:35Z</b><br><br>답변감사합니다.<br>heuristic  구성시에 옵션부분중 추가를 권고 해주실 부분이있을까요?<br>일단 여러가지 권고를 해주시면 <br>작업시 추가할 부분에 대해서 추가하도록 하겠습니다.<br>감사합니다.<br><br><publishedDate>2018-07-02T01:34:35Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Mv8KxIAJ"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-06-27T04:06:39Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-06-27T04:26:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>문의하신 내용에 대한 답변입니다.<br><br>Q1) 위의 내용을 추가하는방법이 Gateway로 ping를 추가하는 내용이 맞나요?<br>A1) 이 내용은 저희 KCS 에 잘 나타나 있습니다. 아래는 KCS 의 일부이며, 자세한 내용은 별첨 문서 [1] 을 참조 부탁드립니다.<br><br>...<br>&lt;heuristic interval=&quot;2&quot; tko=&quot;10&quot; score=&quot;1&quot; program=&quot;/bin/ping -c 1 -w 1 &lt;gateway ip address&gt;&quot;/&gt;<br>...<br><br>Q2) 현재 구성은 쿼럼장치를 사용하지 않고 있는데 위의 내용을 추가하고자 한다면 쿼럼장치를 추가해야하나요?<br>A2) heuristic 는 Quorum Disk 의 파라메터 중 일부 입니다. 따라서 Quorum Disk 를 사용하셔야 합니다.<br>Quorum Disk 설정 관련하여 별첨 문서 [2] 를 참조 부탁드립니다.<br><br>Q3) Gateway로 핑을 체크하는 다른 방법이 있다면 부탁드립니다.<br>A3) rgmanager 기반의 클러스터는 heuristic 을 이용하여 gateway ping check 를 하셔야합니다. 다른 방법은 확인되지 않습니다.<br><br>추가적으로 말씀드리고 싶은 부분은 Quorum Disk 를 사용하시기 전에 몇가지 고려사항에 대한 부분입니다.<br>가령 3 노드 이상의 클러스터에서 2 개의 노드가 실패하고 1 개의 노드만 살아 남아도 해당 정족수를 만족시킬필요가 있는 특수한 상황이 아니라면,<br>일반적으로 Quorum Disk 가 필요하지 않습니다. 이와 관련하여 별첨 문서 [3] 을 참조하시면 도움이 되실 것입니다.<br><br>###<br>[1] &quot;How to optimally configure heuristics in a quorum disk&quot;<br>https://access.redhat.com/solutions/1133203<br><br>[2] &quot;4.5.5. Quorum Disk Configuration&quot; [언어 선택으로 한글 문서 조회 가능]<br>https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html-single/cluster_administration/#s1-config-qdisk-conga-CA<br><br>[3] &quot;3.9. CONSIDERATIONS FOR USING QUORUM DISK&quot; [언어 선택으로 한글 문서 조회 가능]<br>https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/cluster_administration/s1-qdisk-considerations-ca<br>###<br><br>감사합니다.<br><br><publishedDate>2018-06-27T04:06:39Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Mv8DXIAZ"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-06-27T03:47:58Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-06-27T03:47:58Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해 주셔서 감사합니다.<br><br>해당 케이스에 대하여 확인중에 있습니다.<br>확인 후 업데이트 드리겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-06-27T03:47:58Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>