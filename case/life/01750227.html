======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-12-01T12:13:09Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2016-12-17T11:06:43Z</b><br><b>id : 500A000000VoBnuIAF</b><br>======================<br><br><b><font size=15>
제목  : password 없이 ssh접근
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br>PBKMML01SL(호스트)의  nbuadmin계정에 클라이언트root가 ssh를  password없이 접근 하고자 합니다.<br>클라이언트의 pub키는 PBKMML01SL에 /home/nbuadmin/.ssh/authorized_keys 에 복사하였고<br>각각의 퍼미션 조정도 다한후 접근을 하였는데 연결이 진행되지 않고<br>세션이 close됩니다.<br><br>구성상 문제가 있는지 확인부탁드립니다.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>*연결시 로그<br>[root@ES-VTL10 ~]# ssh -vvv nbuadmin@172.18.12.191<br>OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013<br>debug1: Reading configuration data /etc/ssh/ssh_config<br>debug1: Applying options for *<br>debug2: ssh_connect: needpriv 0<br>debug1: Connecting to 172.18.12.191 [172.18.12.191] port 22.<br>debug1: Connection established.<br>debug1: permanently_set_uid: 0/0<br>debug1: identity file /root/.ssh/identity type -1<br>debug1: identity file /root/.ssh/identity-cert type -1<br>debug3: Not a RSA1 key file /root/.ssh/id_rsa.<br>debug2: key_type_from_name: unknown key type '-----BEGIN'<br>debug3: key_read: missing keytype<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug2: key_type_from_name: unknown key type '-----END'<br>debug3: key_read: missing keytype<br>debug1: identity file /root/.ssh/id_rsa type 1<br>debug1: identity file /root/.ssh/id_rsa-cert type -1<br>debug3: Not a RSA1 key file /root/.ssh/id_dsa.<br>debug2: key_type_from_name: unknown key type '-----BEGIN'<br>debug3: key_read: missing keytype<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug2: key_type_from_name: unknown key type '-----END'<br>debug3: key_read: missing keytype<br>debug1: identity file /root/.ssh/id_dsa type -1<br>debug1: identity file /root/.ssh/id_dsa-cert type -1<br>debug1: identity file /root/.ssh/id_ecdsa type -1<br>debug1: identity file /root/.ssh/id_ecdsa-cert type -1<br>debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1<br>debug1: match: OpenSSH_6.6.1 pat OpenSSH*<br>debug1: Enabling compatibility mode for protocol 2.0<br>debug1: Local version string SSH-2.0-OpenSSH_5.3<br>debug2: fd 3 setting O_NONBLOCK<br>debug1: SSH2_MSG_KEXINIT sent<br>debug3: Wrote 960 bytes for a total of 981<br>debug1: SSH2_MSG_KEXINIT received<br>debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1<br>debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib<br>debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit: first_kex_follows 0<br>debug2: kex_parse_kexinit: reserved 0<br>debug2: kex_parse_kexinit: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1<br>debug2: kex_parse_kexinit: ssh-rsa,ecdsa-sha2-nistp256,ssh-ed25519<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: none,zlib@openssh.com<br>debug2: kex_parse_kexinit: none,zlib@openssh.com<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit: first_kex_follows 0<br>debug2: kex_parse_kexinit: reserved 0<br>debug2: mac_setup: found hmac-md5<br>debug1: kex: server-&gt;client aes128-ctr hmac-md5 none<br>debug2: mac_setup: found hmac-md5<br>debug1: kex: client-&gt;server aes128-ctr hmac-md5 none<br>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;8192) sent<br>debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP<br>debug3: Wrote 24 bytes for a total of 1005<br>debug2: dh_gen_key: priv key bits set: 140/256<br>debug2: bits set: 516/1024<br>debug1: SSH2_MSG_KEX_DH_GEX_INIT sent<br>debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY<br>debug3: Wrote 144 bytes for a total of 1149<br>debug3: check_host_in_hostfile: host 172.18.12.191 filename /root/.ssh/known_hosts<br>debug3: check_host_in_hostfile: host 172.18.12.191 filename /root/.ssh/known_hosts<br>debug3: check_host_in_hostfile: match line 5<br>debug1: Host '172.18.12.191' is known and matches the RSA host key.<br>debug1: Found key in /root/.ssh/known_hosts:5<br>debug2: bits set: 481/1024<br>debug1: ssh_rsa_verify: signature correct<br>debug2: kex_derive_keys<br>debug2: set_newkeys: mode 1<br>debug1: SSH2_MSG_NEWKEYS sent<br>debug1: expecting SSH2_MSG_NEWKEYS<br>debug3: Wrote 16 bytes for a total of 1165<br>debug2: set_newkeys: mode 0<br>debug1: SSH2_MSG_NEWKEYS received<br>debug1: SSH2_MSG_SERVICE_REQUEST sent<br>debug3: Wrote 48 bytes for a total of 1213<br>debug2: service_accept: ssh-userauth<br>debug1: SSH2_MSG_SERVICE_ACCEPT received<br>debug2: key: /root/.ssh/identity ((nil))<br>debug2: key: /root/.ssh/id_rsa (0x7f15050a12f0)<br>debug2: key: /root/.ssh/id_dsa ((nil))<br>debug2: key: /root/.ssh/id_ecdsa ((nil))<br>debug3: Wrote 64 bytes for a total of 1277<br>debug3: input_userauth_banner<br>                        *********** W A R N I N G ***********<br> This system is available to authorized personnels only of Samsung Life Insurance Co.,LTD.<br> Your all activities are being monitored and you can be penalized for<br> illegal access according to related regulations.<br>                        *************************************<br>debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password<br>debug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password<br>debug3: preferred publickey,keyboard-interactive,password<br>debug3: authmethod_lookup publickey<br>debug3: remaining preferred: keyboard-interactive,password<br>debug3: authmethod_is_enabled publickey<br>debug1: Next authentication method: publickey<br>debug1: Trying private key: /root/.ssh/identity<br>debug3: no such identity: /root/.ssh/identity<br>debug1: Offering public key: /root/.ssh/id_rsa<br>debug3: send_pubkey_test<br>debug2: we sent a publickey packet, wait for reply<br>debug3: Wrote 368 bytes for a total of 1645<br>debug1: Server accepts key: pkalg ssh-rsa blen 277<br>debug2: input_userauth_pk_ok: SHA1 fp 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug3: sign_and_send_pubkey: RSA 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug1: read PEM private key done: type RSA<br>debug3: Wrote 640 bytes for a total of 2285<br>Connection closed by 172.18.12.191<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000IK7ZPIA1"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-12-02T03:16:18Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-12-02T03:16:18Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>올려주신 로그에 의하면 서버에서 pubkey를 accept한 다음 컨낵션이 끊혔습니다.<br><br>debug3: send_pubkey_test<br>debug2: we sent a publickey packet, wait for reply<br>debug3: Wrote 368 bytes for a total of 1645<br>debug1: Server accepts key: pkalg ssh-rsa blen 277<br>debug2: input_userauth_pk_ok: SHA1 fp 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug3: sign_and_send_pubkey: RSA 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug1: read PEM private key done: type RSA<br>debug3: Wrote 640 bytes for a total of 2285<br>Connection closed by 172.18.12.191<br><br>pam 로그를 보면 pam에 의한 이슈인것으로 보입니다.<br><br>Dec  1 17:10:01 PBKMML01SL sshd[86942]: fatal: Access denied for user nbuadmin by PAM account configuration [preauth]<br>Dec  1 17:10:01 PBKMML01SL sshd[86950]: fatal: Access denied for user nbuadmin by PAM account configuration [preauth]<br>Dec  1 17:10:01 PBKMML01SL sshd[86956]: Connection closed by 100.254.147.186 [preauth]<br>Dec  1 17:10:01 PBKMML01SL sshd[86958]: Connection closed by 100.254.147.186 [preauth]<br><br>따라서 pam 설정을 확인 결과는 아래와 같습니다.<br><br>/etc/pam.d/system-auth와 /etc/pam.d/password-auth 설정에 아래의 pam_tally2.so 설정은 응당 pam_unix.so 위에 <br>설정되어야 합니다.<br><br>account     required      pam_unix.so<br>account     required      pam_tally2.so<br><br>현재 기본 설정에서는 아래와 같은 사항이 확인이 되지 않고 있는데 이와 같은 설정을 주석 처리후 이슈가 재현되는지 확인 부탁드립니다.<br><br>/etc/pam.d/sshd<br>...<br># account<br>required<br>pam_acl.so<br># session<br>required<br>pam_acl.so<br>log<br><br>감사합니다.<br><br><publishedDate>2016-12-02T03:16:18Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>PBKMML01SL(호스트)의  nbuadmin계정에 클라이언트root가 ssh를  password없이 접근 하고자 합니다.<br>클라이언트의 pub키는 PBKMML01SL에 /home/nbuadmin/.ssh/authorized_keys 에 복사하였고<br>각각의 퍼미션 조정도 다한후 접근을 하였는데 연결이 진행되지 않고<br>세션이 close됩니다.<br><br>구성상 문제가 있는지 확인부탁드립니다.</issue><environment>*연결시 로그<br>[root@ES-VTL10 ~]# ssh -vvv nbuadmin@172.18.12.191<br>OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013<br>debug1: Reading configuration data /etc/ssh/ssh_config<br>debug1: Applying options for *<br>debug2: ssh_connect: needpriv 0<br>debug1: Connecting to 172.18.12.191 [172.18.12.191] port 22.<br>debug1: Connection established.<br>debug1: permanently_set_uid: 0/0<br>debug1: identity file /root/.ssh/identity type -1<br>debug1: identity file /root/.ssh/identity-cert type -1<br>debug3: Not a RSA1 key file /root/.ssh/id_rsa.<br>debug2: key_type_from_name: unknown key type '-----BEGIN'<br>debug3: key_read: missing keytype<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug2: key_type_from_name: unknown key type '-----END'<br>debug3: key_read: missing keytype<br>debug1: identity file /root/.ssh/id_rsa type 1<br>debug1: identity file /root/.ssh/id_rsa-cert type -1<br>debug3: Not a RSA1 key file /root/.ssh/id_dsa.<br>debug2: key_type_from_name: unknown key type '-----BEGIN'<br>debug3: key_read: missing keytype<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug3: key_read: missing whitespace<br>debug2: key_type_from_name: unknown key type '-----END'<br>debug3: key_read: missing keytype<br>debug1: identity file /root/.ssh/id_dsa type -1<br>debug1: identity file /root/.ssh/id_dsa-cert type -1<br>debug1: identity file /root/.ssh/id_ecdsa type -1<br>debug1: identity file /root/.ssh/id_ecdsa-cert type -1<br>debug1: Remote protocol version 2.0, remote software version OpenSSH_6.6.1<br>debug1: match: OpenSSH_6.6.1 pat OpenSSH*<br>debug1: Enabling compatibility mode for protocol 2.0<br>debug1: Local version string SSH-2.0-OpenSSH_5.3<br>debug2: fd 3 setting O_NONBLOCK<br>debug1: SSH2_MSG_KEXINIT sent<br>debug3: Wrote 960 bytes for a total of 981<br>debug1: SSH2_MSG_KEXINIT received<br>debug2: kex_parse_kexinit: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1<br>debug2: kex_parse_kexinit: ssh-rsa-cert-v01@openssh.com,ssh-dss-cert-v01@openssh.com,ssh-rsa-cert-v00@openssh.com,ssh-dss-cert-v00@openssh.com,ssh-rsa,ssh-dss<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib<br>debug2: kex_parse_kexinit: none,zlib@openssh.com,zlib<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit: first_kex_follows 0<br>debug2: kex_parse_kexinit: reserved 0<br>debug2: kex_parse_kexinit: curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1<br>debug2: kex_parse_kexinit: ssh-rsa,ecdsa-sha2-nistp256,ssh-ed25519<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-gcm@openssh.com,aes256-gcm@openssh.com,chacha20-poly1305@openssh.com,aes128-cbc,3des-cbc,blowfish-cbc,cast128-cbc,aes192-cbc,aes256-cbc,arcfour,rijndael-cbc@lysator.liu.se<br>debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: hmac-md5-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-ripemd160-etm@openssh.com,hmac-sha1-96-etm@openssh.com,hmac-md5-96-etm@openssh.com,hmac-md5,hmac-sha1,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-ripemd160,hmac-ripemd160@openssh.com,hmac-sha1-96,hmac-md5-96<br>debug2: kex_parse_kexinit: none,zlib@openssh.com<br>debug2: kex_parse_kexinit: none,zlib@openssh.com<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit:<br>debug2: kex_parse_kexinit: first_kex_follows 0<br>debug2: kex_parse_kexinit: reserved 0<br>debug2: mac_setup: found hmac-md5<br>debug1: kex: server-&gt;client aes128-ctr hmac-md5 none<br>debug2: mac_setup: found hmac-md5<br>debug1: kex: client-&gt;server aes128-ctr hmac-md5 none<br>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;8192) sent<br>debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP<br>debug3: Wrote 24 bytes for a total of 1005<br>debug2: dh_gen_key: priv key bits set: 140/256<br>debug2: bits set: 516/1024<br>debug1: SSH2_MSG_KEX_DH_GEX_INIT sent<br>debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY<br>debug3: Wrote 144 bytes for a total of 1149<br>debug3: check_host_in_hostfile: host 172.18.12.191 filename /root/.ssh/known_hosts<br>debug3: check_host_in_hostfile: host 172.18.12.191 filename /root/.ssh/known_hosts<br>debug3: check_host_in_hostfile: match line 5<br>debug1: Host '172.18.12.191' is known and matches the RSA host key.<br>debug1: Found key in /root/.ssh/known_hosts:5<br>debug2: bits set: 481/1024<br>debug1: ssh_rsa_verify: signature correct<br>debug2: kex_derive_keys<br>debug2: set_newkeys: mode 1<br>debug1: SSH2_MSG_NEWKEYS sent<br>debug1: expecting SSH2_MSG_NEWKEYS<br>debug3: Wrote 16 bytes for a total of 1165<br>debug2: set_newkeys: mode 0<br>debug1: SSH2_MSG_NEWKEYS received<br>debug1: SSH2_MSG_SERVICE_REQUEST sent<br>debug3: Wrote 48 bytes for a total of 1213<br>debug2: service_accept: ssh-userauth<br>debug1: SSH2_MSG_SERVICE_ACCEPT received<br>debug2: key: /root/.ssh/identity ((nil))<br>debug2: key: /root/.ssh/id_rsa (0x7f15050a12f0)<br>debug2: key: /root/.ssh/id_dsa ((nil))<br>debug2: key: /root/.ssh/id_ecdsa ((nil))<br>debug3: Wrote 64 bytes for a total of 1277<br>debug3: input_userauth_banner<br>                        *********** W A R N I N G ***********<br> This system is available to authorized personnels only of Samsung Life Insurance Co.,LTD.<br> Your all activities are being monitored and you can be penalized for<br> illegal access according to related regulations.<br>                        *************************************<br>debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password<br>debug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password<br>debug3: preferred publickey,keyboard-interactive,password<br>debug3: authmethod_lookup publickey<br>debug3: remaining preferred: keyboard-interactive,password<br>debug3: authmethod_is_enabled publickey<br>debug1: Next authentication method: publickey<br>debug1: Trying private key: /root/.ssh/identity<br>debug3: no such identity: /root/.ssh/identity<br>debug1: Offering public key: /root/.ssh/id_rsa<br>debug3: send_pubkey_test<br>debug2: we sent a publickey packet, wait for reply<br>debug3: Wrote 368 bytes for a total of 1645<br>debug1: Server accepts key: pkalg ssh-rsa blen 277<br>debug2: input_userauth_pk_ok: SHA1 fp 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug3: sign_and_send_pubkey: RSA 63:2d:4b:33:b1:f6:cd:78:42:2c:e7:42:c9:46:f5:c8:fd:06:8c:af<br>debug1: read PEM private key done: type RSA<br>debug3: Wrote 640 bytes for a total of 2285<br>Connection closed by 172.18.12.191</environment><cep>false</cep></case>