======================<br><b>생성계정 : 타임게이트 (주)</b><br><b>생성날짜 : 2016-04-20T01:55:21Z</b><br><b>마지막 답변자 : Min Woo Park</b><br><b>마지막 수정 일자 : 2016-04-27T08:19:04Z</b><br><b>id : 500A000000U30hrIAB</b><br>======================<br><br><b><font size=15>
제목  : [JBOSS] 프로세스 비정상적인 shutdown 발생
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>.<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>.<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat JBoss Enterprise Application Platform</b><br><b>버젼  : 6.1.0</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 2 (High)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000GyIrKIAV"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-27T08:19:02Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-27T08:19:02Z</b><br><br>안녕하세요,  <br>     <br>본 케이스를 처리완료하도록 하겠습니다. 만약 본 케이스와 관련하여 추가 질문이 있으시다면 언제든지 재오픈하실 수 있습니다.  <br>     <br>케이스가 처리 완료되면 가능하게 고객 설문조사 메일이 발생됩니다. 고객님께서 남기 신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다. 향후 기술  지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다. <br><br>그리고 아래 Red Hat Customer Portal group을 통하여 많은 유용한 정보들을 볼수 있으니 참고하시기 바랍니다.<br><br>Featured Groups:<br>Red Hat Enterprise Linux - https://access.redhat.com/groups/red-hat-enterprise-linux<br>Red Hat Enterprise Linux 7 Ideas - https://access.redhat.com/groups/red-hat-enterprise-linux-7-ideas<br>Red Hat Enterprise Linux Developer Program (beta) - https://access.redhat.com/groups/red-hat-enterprise-linux-developer-program-beta<br>Red Hat Enterprise Virtualization - https://access.redhat.com/groups/red-hat-enterprise-virtualization<br>Red Hat Storage - https://access.redhat.com/groups/red-hat-storage<br>JBoss Enterprise Middleware - https://access.redhat.com/groups/jboss-enterprise-middleware<br>Red Hat Network Satellite - https://access.redhat.com/groups/red-hat-network-satellite<br>       <br>감사합니다.  <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-27T08:19:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GyGe4IAF"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-27T04:56:36Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-27T04:56:35Z</b><br><br>안녕하세요,<br><br>고객 account 정보에 진행되었던 case history가 남기 때문에, <br>새로운 case를 오픈하실 때 SR 번호(01620572)를 남겨주시면 참조가 가능합니다.<br><br>그럼, 이 case에 대해서는 별다른 update가 없으면 오늘 업무 마감 시간(17시) 즈음에 close 하도록 하겠습니다.<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-27T04:56:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GyGbqIAF"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-04-27T04:50:54Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-04-27T04:50:53Z</b><br><br>안녕하세요! <br>고객의 의사결정이 길어짐에 따라 해당 SR을 종료요청드립니다. <br>추가로 동일 이슈 발생 시 동일 SR 번호(01620572)로 다시 오픈하는 것이 가능한지 확인 요청드립니다. <br>감사합니다.<br><br><publishedDate>2016-04-27T04:50:53Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Gxj82IAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-25T00:43:37Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-25T00:43:37Z</b><br><br>안녕하세요,<br><br>네, 확인 후 추가적으로 도움이 필요하신 부분이 생기면 업데이트 부탁드립니다.<br>수고하세요.<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-25T00:43:37Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Gxj2sIAB"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-04-25T00:25:35Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-04-25T00:25:35Z</b><br><br>안녕하세요!<br>빠른 답변 감사드립니다. <br>현재 고객의 의사결정을 기다리고 있습니다.<br>확인 후 답변드리도록 하겠습니다. <br>감사합니다.<br><br><publishedDate>2016-04-25T00:25:35Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Gx4T3IAJ"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-22T05:48:50Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-22T05:48:50Z</b><br><br>안녕하세요,<br><br>유선상으로 추가로 문의하신 EAP Upgrade 관련 내용입니다.<br><br>Red Hat Document는 [1]을 참조하실 수 있습니다.<br><br>~~~<br>* Procedure 3.7. Upgrade to the latest JBoss EAP 6 version<br><br>1. Move the downloaded ZIP archive to the desired location. It is recommended that this is a different location to the existing JBoss EAP 6 installation.<br>!! Important<br>If you wish to install the latest version of JBoss EAP 6 to the same directory location as the existing installation, you will need to move the existing installation to a different location before proceeding. This is to prevent modified configuration files, deployments, and upgrades from being lost.<br><br>2. Unzip the archive. This step installs a clean instance of the latest JBoss EAP 6 release.<br><br>3. Copy the EAP_HOME/domain/ and EAP_HOME/standalone/ directories from the previous installation over the new installation directories.<br>!! Note<br>New features in the new release, such as new subsystems, may not be activated if configuration files are copied from an older JBoss EAP 6 installation. To use these new features, it is necessary to compare and update the old configuration files with the ones from the new version.<br><br>4. Review the changes made to the bin directory of the previous installation, and make the equivalent modifications to the new directory.<br>!! Warning<br>Files in the bin directory should not be overwritten by the files from previous versions. Changes should be made manually.<br><br>5. Review the remaining modified files from the previous installation, and move these changes into the new installation. These files may include:<br><br>The welcome-content directory.<br><br>Custom modules in the modules directory.<br><br>Custom bundles in the bundles directory. <br>! Optional: If JBoss EAP 6 was previously configured to run as a service, remove the existing service and configure a new service for the upgraded installation. <br><br>The JBoss EAP 6 ZIP installation has been successfully upgraded to the latest release. <br>~~~<br><br>위의 3,4,5 과정에서 설명되어 있듯이, 기존의 domain(or standalone), bin 등을 그래도 사용하실 수는 없습니다.<br>변경된 내용에 대한 수정이 필요하며, 특히 domain.xml, standalone.xml 에는 하기와 같이 각 subsystem module들의 버전 정보가 표기되어 있습니다.<br><br>&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:1.5&quot;&gt;<br>&lt;subsystem xmlns=&quot;urn:jboss:domain:infinispan:1.5&quot;&gt;<br>...<br><br>이러한 부분들도 모두 manual하게 수정이 되어야 합니다. (위 3의 Note 참조)<br><br>즉, 새롭게 EAP 6.4.x 버전 install and configure 하는 방식과 비교하여 manual 작업의 양이 크게 달라지지 않을 것으로 보입니다.<br>오히려 기존 설정을 그대로 사용할 경우에 fault가 발생될 가능성이 크기 때문에 가급적이면 fresh install and configure 방식을 권고드립니다.<br><br>또한 patch 적용, minor version upgrade, major version upgrade 등의 작업은 개발 장비에서 변경 후 application 검증 테스트가 충분히 이루어진 이후에 작업이 되는 것을 권고합니다.<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br>[1] https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/Installation_Guide/sect-Upgrading_JBoss_EAP_6.html#Upgrade_the_JBoss_Enterprise_Application_Platform_6_ZIP_Installation<br><br><publishedDate>2016-04-22T05:48:50Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GwsKpIAJ"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-21T08:52:22Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-21T08:52:21Z</b><br><br>안녕하세요,<br><br><br>올려주신 로그를 확인하였습니다.<br><br>1. gc_cdts_11.log.xxxx<br>해당 JBoss Server의 경우 Host-Controller와의 커넥션에 영향을 줄 만한 GC Overhead가 발생하지 않았습니다.<br><br>2. cdts_slave01.out.xxxx<br>Case 생성 시에 남겨주신 아래와 같은 형태의 Error 외에 특이사항 없습니다.<br>~~~<br>JBREM000200: Remote connection failed: org.xnio.channels.ReadTimeoutException: Read timed out<br>java.io.IOException: JBAS012175: Channel closed<br>~~~<br><br>결론부터 말씀드리면 현재 사용하시는 EAP 6.1.0 의 업그레이드가 필요한 상황입니다.<br><br>아시다시피 EAP는 JBoss community version인 Wildfly를 기반으로 합니다.<br>'Wildfly 7 = EAP 6'와 같이 community version-1 이 EAP 버전이라고 보실 수 있습니다.<br><br>위의 2와 같은 현상은 Community 버전에서 확인된 '[WFLY-2174] make sure servers are connected before getting the server-state' Bug와 동일한 현상을 보이고 있습니다.<br>Host-Controller의 restart 또는 Host-Controller와의 커넥션이 실패했을 경우에 해당 에러가 발생할 수 있습니다.<br>WFLY-2174 bug가 fix된 community version이 EAP 6.2.0 입니다.<br>아쉽게도 해당 BUG가 EAP 상에는 backport가 되지 않아서 Red Hat 링크를 확인해 드릴수가 없습니다.<br><br>Host-Conroller와 JBoss Server와의 커넥션 실패는 Full GC와 같은 STW 상태, 과부하로 인하여 response 불가능 상태, network(tcp connection) 상의 일시적인 단절 등으로 발생할 수 있습니다.<br>당시의 JBoss Server의 상태는 Full GC나 응답을 주지 못할 상태는 아니었으며, tcp connection 상의 일시적인 문제로 인해 발생했을 가능성이 있습니다.<br><br>또한 #8에서 언급해드린 것처럼, JBoss가 Host-Controller와의 reconnect 시도를 한번만 하고 실패 시 Jboss Server가 shutdown되는 Bug가 있습니다.[1]<br>해당 Bug는 EAP 6.3.3, EAP 6.4.0에 fix된 상태입니다.<br><br>JBoss Server와 Host-Controller와의 커넥션 실패는 위에 말씀드린 것처럼 Full GC, network 실패 등 일상적인 상황에서도 발생할 수 있습니다.<br>다만 이러한 실패가 WFLY-2174 또는 [1]에 링크된 Bug로 인해 제 2의 문제를 발생하고 있습니다.<br><br>이러한 이슈를 피하기 위해서는 사용하시는 EAP 버전을 latest version으로 upgrade가 필요합니다.<br>해당 이슈를 해결할 수 있는 간단한 solution이나 Workaround를 제공해드리지 못해서 죄송합니다.<br><br>참고로, proccess-controller과 host-controller log에 대해서 재구동 시점마다 override하지 않고 rotate할수 있는 방법은 [2]을 참조하실 수 있습니다.<br><br>~~~~~~<br>Define the PeriodicRotatingFileHandler in $JBOSS_HOME/domain/configuration/logging.properties as following:<br><br># File handler configuration<br>handler.BOOT_FILE=org.jboss.logmanager.handlers.PeriodicRotatingFileHandler<br>handler.BOOT_FILE.level=INFO --&gt; (필요시 DEBUG)<br>handler.BOOT_FILE.properties=autoFlush,append,fileName,suffix<br>handler.BOOT_FILE.autoFlush=true<br>handler.BOOT_FILE.append=true<br>handler.BOOT_FILE.suffix=.yyyy-MM-dd<br>handler.BOOT_FILE.fileName=${org.jboss.boot.log.file:boot.log}<br>handler.BOOT_FILE.formatter=PATTERN<br>~~~~~<br><br>수고하세요.<br><br>[1] https://access.redhat.com/solutions/744793<br>[2] https://access.redhat.com/solutions/412673<br><br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-21T08:52:21Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GwraAIAR"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-21T07:27:01Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-21T07:27:01Z</b><br><br>안녕하세요,<br><br>업데이트 감사합니다.<br>로그 확인 후 업데이트 하도록 하겠습니다.<br><br>수고하세요. <br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-21T07:27:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GwrLUIAZ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-04-21T07:02:54Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-04-21T07:02:54Z</b><br><br>안녕하세요!<br>빠른 답변에 감사드립니다 <br>요청하신 파일을 첨부드립니다. <br>확인요청드립니다.<br><br><publishedDate>2016-04-21T07:02:54Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Gwd2NIAR"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-20T07:34:49Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-20T07:34:48Z</b><br><br>안녕하세요,<br><br>유선상으로 말씀드린 것처럼 현재 남겨진 error 는 jboss server와 host-controller 간의 연결이 끊어지면서 문제가 발생하였습니다.<br>우선적으로 connection이 왜 끊겼는지를 확인해야 원인 분석이 가능할 듯 한데,<br>당시의 host-controller, process-controller 로그가 재구동되면서 존재하지 않아 쉽지 않아 보입니다.<br><br>그 외의 server.log, gc log 등 해당 이슈가 발생한 시점에 남겨진 로그파일이 있으면 업데이트 가능할까요?<br><br>현재 사용하고 계신 EAP 버전은 6.1로 상당히 오래된 버전입니다.<br>관련 Bug들을 찾아보면, EAP 6.4.0, EAP 6.3.3에 fix된 bug로 host-controller와 jboss server 간에 connection fail이 발생하여 jboss server가 down되는 bug가 있습니다. [1]<br><br>그러나, 당시 jboss server 프로세스가 좀비 상태처럼 남아있다고 하셔서 해당 bug라고 단정지을 수는 없습니다.<br><br>또한 community jboss(wildfly, EAP 6.2버전과 동일한 버전) 상에도 삼성생명에서 발생한 로그와 동일한 trace가 발생된 이슈가 있으나, EAP 상에 backport가 되었는지는 확인중에 있습니다.<br><br>현재 사용하고 계신 EAP 버전이 너무 오래된 버전이기 때문에 위에 말씀드린 [1]의 case 외에 다른 bug 상황을 만날 확률이 크기 때문에 업그레이드를 권고드리며,<br>현재 이슈와 관련된 내용을 좀 더 확인하기 위해 당시 남겨진 log 파일들을 업로드 부탁드리겠습니다.<br><br>[1] https://access.redhat.com/solutions/744793<br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-20T07:34:48Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GwbKEIAZ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-04-20T03:43:58Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-04-20T03:43:58Z</b><br><br>안녕하세요!<br>빠른 답변 감사드립니다. <br><br>하기의 정보를 전달드립니다 .<br><br>* 고객 담당자 정보<br>- 성함(직급) :  이해인 (선임)<br>- 회사명(부서명) : 삼성생명 CI그룹 (인프라운영)<br>- 전화번호 : 02-751-8851<br>- 메일주소 : hi919.lee@miracom.co.kr<br><br>* 파트너사 담당자 정보<br>- 성함(직급) : 안상훈(선임)<br>- 회사명(부서명) : 타임게이트(엔터프라이즈 솔루션 팀)<br>- 전화번호 : 010-3957-1209<br>- 메일주소 : sh.ahn@time-gate.com<br><br>* 제품 정보<br>EAP Version :  jboss-eap-6.1<br>Java Version :<br>OS version :<br>Linux FLPTRSA01 2.6.32-358.23.2.el6.x86_64 #1 SMP Sat Sep 14 05:32:37 EDT 2013 x86_64 x86_64 x86_64 GNU/Linux<br><br>또한 요청하신 설정파일을 함께 첨부드리며 host-controller.log는 재기동 시 해당 파일에 덮어씌어졌다고 합니다. <br><br>확인 요청드립니다. <br><br>감사합니다.<br><br><publishedDate>2016-04-20T03:43:58Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000GwayfIAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2016-04-20T02:31:27Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2016-04-20T02:31:27Z</b><br><br>안녕하세요,  <br>  <br>Red Hat Global Support Services를 이용해주셔서 감사합니다.  <br>저는 박민우라고 하고 앞으로 이 케이스를 담당하게 되었습니다.<br><br>해당 이슈 분석을 위해 아래 정보업데이트 부탁드립니다.<br><br>* 고객 담당자 정보<br>- 성함(직급) :<br>- 회사명(부서명) :<br>- 전화번호 :<br>- 메일주소 :<br><br>* 파트너사 담당자 정보<br>- 성함(직급) :<br>- 회사명(부서명) :<br>- 전화번호 :<br>- 메일주소 :<br><br>* 제품 정보<br>EAP Version :<br>Java Version :<br>OS version :<br> <br>해당 에러는 host controller와 managed server 사이의 connection이 끊김으로 인해 발생하고 있습니다.<br>위의 정보와 더불어 현재 사용중이신 configuration file (standalone*.xml or domain.xml)과 host-controller.log도 업로드 부탁드리겠습니다.<br> <br><br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Red Hat Global Support Services<br><br><publishedDate>2016-04-20T02:31:27Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GwaokIAB"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2016-04-20T01:59:14Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2016-04-20T01:59:14Z</b><br><br>안녕하세요! 현재 jboss domain type으로 운영중인 시스템이며 갑자기 서비스가 안되는 현상이 발생하였습니다. <br><br>해당 인스턴스에 마지막으로 적재된 로그스택이며 현 증상이 발생할 경우 실제 부하가 유입이 안됩니다(APM 툴 및 로그 적재로 확인)<br>domain 로그<br>####<br>Host Controller] 09:52:19,321 ERROR [org.jboss.remoting.remote.connection] (Remoting &quot;flptrsa01:MANAGEMENT&quot; read-1) JBREM000200: Remote connection failed: org.xnio.channels.ReadTimeoutException: Read timed out<br>[Host Controller] 10:06:36,623 ERROR [org.jboss.as.controller.management-operation] (domain-connection-threads - 2) JBAS014612: Operation (&quot;composite&quot;) failed - address: ([<br>[Host Controller]     (&quot;host&quot; =&gt; &quot;slave01&quot;),<br>[Host Controller]     (&quot;server&quot; =&gt; &quot;cdts_11&quot;)<br>[Host Controller] ]): java.lang.RuntimeException: java.io.IOException: JBAS012175: Channel closed<br>[Host Controller]       at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:183) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.TransformingProxyController$TransformingProxyControllerImpl.execute(TransformingProxyController.java:149) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.ProxyStepHandler.execute(ProxyStepHandler.java:130) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:194) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:115) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:112) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.execute(TransactionalProtocolOperationHandler.java:95) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296) [jboss-as-protocol-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518) [jboss-as-protocol-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) [rt.jar:1.7.0_09-icedtea]<br>[Host Controller]       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) [rt.jar:1.7.0_09-icedtea]<br>[Host Controller]       at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_09-icedtea]<br>[Host Controller]       at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.0.Final-redhat-1.jar:2.1.0.Final-redhat-1]<br>[Host Controller] Caused by: java.io.IOException: JBAS012175: Channel closed<br>[Host Controller]       at org.jboss.as.host.controller.ManagedServerProxy$DisconnectedProtocolClient.execute(ManagedServerProxy.java:114)<br>[Host Controller]       at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:92)<br>[Host Controller]       at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:80)<br>[Host Controller]       at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:139) [jboss-as-controller-7.2.0.Final-redhat-8.jar:7.2.0.Final-redhat-8]<br>[Host Controller]       ... 16 more<br>[Host Controller]<br>####<br><br>또한 해당 증상 발생 시 threaddump 및 heapdump를 발생시키려 했지만 하기와 같이 해당 process에 아무런 dump가 발생하지 않습니다. <br><br>jboss@FLPTRSA01 /LOG/jboss # jmap -dump:format=b,file=/LOG/jbosss/heapdump_`date +'%y%m%d_%H%M%S'`.hprof 21558<br>21558: Unable to open socket file: target process not responding or HotSpot VM not loaded<br>The -F option can be used when the target process is not responding<br>jboss@FLPTRSA01 /LOG/jboss/cdts_slave01 # kill -3 21558 &gt; /LOG/jboss/stack.log<br>jboss@FLPTRSA01 /LOG/jboss/cdts_slave01 # cd ..<br>jboss@FLPTRSA01 /LOG/jboss # ll<br>í•©ê³„ 8<br>drwxr-x--- 4 jboss jboss 4096 2014-01-16 20:18 cdts_master<br>drwxr-xr-x 4 jboss jboss 4096 2014-01-16 20:11 cdts_slave01<br>-rw-r----- 1 jboss jboss    0 2016-04-20 10:06 stack.log <br><br>또한 netstat으로 확인해보았을때 대부분이 TIME_WAIT 상태인것으로 확인되었습니다.<br><br>동일 증상이 드물기는 하지만 계속 반복적으로 발생하고 있습니다. <br><br>현재 운영중인 시스템임을 고려하여 빠른 답변을 요청드립니다. <br><br>감사합니다.<br><br><publishedDate>2016-04-20T01:59:14Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>