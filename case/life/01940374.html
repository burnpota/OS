======================<br><b>생성계정 : 타임게이트 (주)</b><br><b>생성날짜 : 2017-09-27T04:46:10Z</b><br><b>마지막 답변자 : 타임게이트 (주)</b><br><b>마지막 수정 일자 : 2017-10-09T01:12:23Z</b><br><b>id : 500A000000YRG7hIAH</b><br>======================<br><br><b><font size=15>
제목  : [삼성생명] 번들 http server  user / group 변경 관련 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>.<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>.<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>.<br><br>해결 기간이나 업무에 미치는 영향에 대한 정보를 제공해 주시겠습니까?<br><br>.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.3</b><br><b>타입  : Configuration issue</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000KfY55IAF"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-10-09T01:08:52Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-10-09T01:08:52Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>금일은 한글날 공휴일이며, 엔지니어 대부분이 휴무입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2017-10-09T01:08:52Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Kf45fIAB"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-10-05T11:14:22Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-10-05T11:14:22Z</b><br><br>빠른 확인 감사드립니다.<br><br><publishedDate>2017-10-05T11:14:22Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000KZ9bcIAD"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-09-27T06:25:08Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-09-27T06:25:08Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다.<br><br>원하시는 내용이 weblogic 유저로 httpd 구동 후, fork되는 child httpd process들의 user/group이 nobody:nobody로 되게 하고 싶으신거죠?<br><br>아쉽지만, User/Group 설정을 통해 원하시는 기능이 동작하기 위해서는 apache를 root로 구동하셔야 합니다.<br>아시다시피 root 권한으로 parent 프로세스가 구동되어 child httpd process들이 httpd.conf의 User/Group 권한으로 fork가 됩니다.<br>그렇다 보니, 일반 유저 weblogic으로 구동되는 경우에는 해당 기능이 동작하지 않습니다.<br><br>httpd.conf의 User/Group 설명 구문에도 해당 내용이 다음과 같이 나와 있는 것을 확인하실 수 있습니다.<br>&quot;If you wish httpd to run as a different user or group, you must run httpd as root initially and it will switch.&quot;<br><br>~~~~~<br># If you wish httpd to run as a different user or group, you must run<br># httpd as root initially and it will switch.<br>#<br># User/Group: The name (or #number) of the user/group to run httpd as.<br># It is usually good practice to create a dedicated user and group for<br># running httpd, as with most system services.<br>~~~~~<br><br>root user로 httpd 구동 시, 아래와 같이 parent process가 root 권한으로 구동되어 nobody:nobody 권한의 child httpd process를 fork 하게 됨을 확인할 수 있습니다.<br>~~~~~<br>localhost.localdomain\:/etc/httpd/conf&gt; ps -ef | grep httpd<br>root      5519     1  1 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>nobody    5520  5519  0 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>nobody    5521  5519  0 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>nobody    5522  5519  0 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>nobody    5523  5519  0 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>nobody    5524  5519  0 14:12 ?        00:00:00 /usr/sbin/httpd -DFOREGROUND<br>~~~~~<br><br>감사합니다.<br><br><publishedDate>2017-09-27T06:25:08Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000KZ8lrIAD"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-09-27T04:50:50Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-09-27T04:50:50Z</b><br><br>안녕하세요!<br><br>## 고객정보 ##<br>1. 고객사 : 삼성생명<br>2. 고객명 : 이해인 선임<br>3. 연락처 : 010-7191-8130<br>##<br><br>## 문의 ##<br>고객사 보안여건 상 http server process 기동 시 user및 group를 nobody 로 변경해야 합니다. <br>하기와 같이 설정파일인 httpd.conf에 설정 후 재기동하여도 터미널 계정인 weblogic으로 ps 확인이되어 문의드립니다. <br>확인요청드립니다. <br>참고URL : https://access.redhat.com/solutions/32308<br><br>cat /APP/iba/apache/conf/httpd.conf<br>## 중략 ##<br>User nobody<br>Group nobody<br>## 이하생략 ##<br><br>common_error.log 일부<br>##<br> Fri Sep 22 19:40:00.280475 2017] [mpm_worker:notice] [pid 5176:tid 140659777652800] AH00295: caught SIGTERM, shutting down<br>[Fri Sep 22 19:40:04.263142 2017] [weblogic:notice] [pid 40368:tid 140118112225344] WebLogic Server Plugin version 12.1.3 &lt;WLSPLUGINS_12.1.3.0.0_LINUX.X64_140429.1732&gt;<br>[Fri Sep 22 19:40:04.263801 2017] [ssl:warn] [pid 40368:tid 140118112225344] AH01873: Init: Session Cache is not configured [hint: SSLSessionCache]<br>[Fri Sep 22 19:40:04.267642 2017] [mpm_worker:notice] [pid 40368:tid 140118112225344] AH00292: Apache/2.4.6 (Red Hat Enterprise Linux) OpenSSL/1.0.1e-fips configured -- resuming normal operations<br>[Fri Sep 22 19:40:04.267662 2017] [core:notice] [pid 40368:tid 140118112225344] AH00094: Command line: '/usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf'<br>##<br><br>ps 확인 결과<br>## <br>ps -ef | grep httpd<br>weblogic  40368      1  0 Sep22 ?        00:00:10 /usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf -k start<br>weblogic  48896  40368  1 15:23 ?        00:00:41 /usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf -k start<br>weblogic  52311  40368  1 15:49 ?        00:00:22 /usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf -k start<br>weblogic  53182  40368  1 15:56 ?        00:00:16 /usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf -k start<br>weblogic  54291  40368  1 16:01 ?        00:00:12 /usr/sbin/httpd -f /APP/iba/apache/conf/httpd.conf -k start<br>weblogic  55359  52038  0 16:17 pts/6    00:00:00 grep --color=auto httpd<br>##<br><br><publishedDate>2017-09-27T04:50:50Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>