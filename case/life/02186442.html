======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-09-20T06:47:40Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-10-06T10:12:10Z</b><br><b>id : 500A000000bz8pZIAQ</b><br>======================<br><br><b><font size=15>
제목  : [로그문의] blk_update_request : I/O error
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요. 송기호입니다.<br>현재 서버의 로그에서 아래와 같은 이벤트가 발생중입니다.<br><br>Aug 12 10:00:58 SLPSLOAL01 kernel: blk_update_request: I/O error, dev sdh, sector 2294064<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 Sense Key : Aborted Command [current]<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 &lt;&lt;vendor&gt;&gt;ASC=0xc0 ASCQ=0x3<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 CDB: Write(10) 2a 00 00 29 b7 e8 00 00 08 00<br><br>멀티패스에서는<br>Aug 12 10:06:27 SLPSLOAL01 multipathd: sde: mark as failed<br>Aug 12 10:06:27 SLPSLOAL01 kernel: device-mapper: multipath: Failing path 8:64.<br>Aug 12 10:06:27 SLPSLOAL01 multipathd: DISK1: remaining active paths: 1<br>Aug 12 10:06:34 SLPSLOAL01 multipathd: DISK1: switch to path group #1<br>Aug 12 10:06:35 SLPSLOAL01 multipathd: checker failed path 8:96 in map DISK2<br>Aug 12 10:06:35 SLPSLOAL01 multipathd: DISK2: remaining active paths: 1<br>Aug 12 10:06:35 SLPSLOAL01 kernel: device-mapper: multipath: Failing path 8:96.<br>Aug 12 10:06:36 SLPSLOAL01 multipathd: checker failed path 8:128 in map DISK3<br>Aug 12 10:06:36 SLPSLOAL01 multipathd: DISK3: remaining active paths: 1<br><br>뿌리고 있습니다.<br><br>예상에는 해당 블럭장치의 wirte error로 보입니다만 최근 로그 파일에서는 해당로그가 보이지 않고 있습니다. <br><br>그런데 이상한건 multipath -ll을 보면<br>DISK3 (360060e80103543c0057f1f0c00000008) dm-1 HITACHI ,DF600F<br>size=350G features='1 queue_if_no_path' hwhandler='0' wp=rw<br>|-+- policy='service-time 0' prio=0 status=active<br>| `- 1:0:0:2  sdi 8:128 active undef unknown<br>`-+- policy='service-time 0' prio=0 status=enabled<br>  `- 10:0:0:2 sdj 8:144 active undef unknown<br>DISK2 (360060e80103543c0057f1f0c00000007) dm-2 HITACHI ,DF600F<br>size=1.5T features='1 queue_if_no_path' hwhandler='0' wp=rw<br>|-+- policy='service-time 0' prio=0 status=active<br>| `- 10:0:0:1 sdh 8:112 active undef unknown<br>`-+- policy='service-time 0' prio=0 status=enabled<br>  `- 1:0:0:1  sdg 8:96  active undef unknown<br>DISK1 (360060e80103543c0057f1f0c00000006) dm-0 HITACHI ,DF600F<br>size=1.5T features='1 queue_if_no_path' hwhandler='0' wp=rw<br>|-+- policy='service-time 0' prio=0 status=active<br>| `- 1:0:0:0  sde 8:64  active undef unknown<br>`-+- policy='service-time 0' prio=0 status=enabled<br>  `- 10:0:0:0 sdf 8:80  active undef unknown<br><br>running 가 아닌 unknown으로 보이고 있습니다.<br><br>이와 같은 상황을 종합하여 볼때 해당 시스템이 문제가 있는지 대한 분석과 해결방안부탁드립니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.4</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLPSLOAL01</hostname><br><br><br><comment id="a0aA000000NnG3CIAV"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-09-21T01:01:23Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-09-21T01:01:23Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>Aug 12 10:00:58 SLPSLOAL01 kernel: blk_update_request: I/O error, dev sdh, sector 2294064<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 FAILED Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 Sense Key : Aborted Command [current]<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 &lt;&lt;vendor&gt;&gt;ASC=0xc0 ASCQ=0x3<br>Aug 12 10:00:58 SLPSLOAL01 kernel: sd 10:0:0:1: [sdh] tag#5 CDB: Write(10) 2a 00 00 29 b7 e8 00 00 08 00<br><br>올려주신 메시지 중 &lt;&lt;vendor&gt;&gt; ASC=0xc0 ASCQ=0x3 는 스토리지에서 보내어지는 에러코드이고, 아래의 참고문서[1]에서 보고 된것과 같이<br>대부분이 스토리지 측면의 이슈로 인해서 나타나는것으로 알려져 있으니 I/O 가 왜 정상적으로 완료되지 않았는지와 관련된 정밀점검 요청을 스토리<br>지 벤더로 기술문의 하실것을 권장드립니다.<br><br>이후에도 혹시 저희 Red Hat 의 지원이 필요하시다면 언제든지 글 남기시거나 연락주십시오.<br><br><br>[ 참고문서 ]<br><br>[1] What does &quot;SCSI error: return code = 0x08000002&quot; events within in messages file mean when they include a description of &lt;&lt;vendor&gt;&gt;<br>- https://access.redhat.com/solutions/33097<br><br>감사합니다.<br><br><publishedDate>2018-09-21T01:01:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NnFjvIAF"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-09-21T00:18:36Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-09-21T00:18:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Senior Technical Support Engineer 문종영 입니다.<br>올려주신 문의내용은 현재 자세히 살펴보고 있는중이며, 관련된 내용이 확인이 되는대로 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-09-21T00:18:36Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>