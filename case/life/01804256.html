======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2017-03-06T02:14:30Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2017-03-16T04:34:05Z</b><br><b>id : 500A000000WVe1QIAT</b><br>======================<br><br><b><font size=15>
제목  : [기술]fdisk와/dev 연관ㅅ
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br>fdisk -l 를 통해서 나오는 디바이스의 파티션 정보와 /dev 디렉토리에 보이는 파티션 정보의<br>연관성에 대해서 알고 싶습니다. partprobe 나 리부팅을 하여도 /dev 에서 안보이는 경우가 있나요?<br>감사합니다.<br><br>ex) Disk /dev/sdb: 1073 MB, 1073741824 bytes<br>139 heads, 8 sectors/track, 1885 cylinders<br>Units = cylinders of 1112 * 512 = 569344 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk identifier: 0x23135534<br> Device Boot      Start         End      Blocks   Id  System<br>/dev/sdb1               2        1886     1047552   83  Linux<br>-------------------------------------------------------------<br>brw-rw----  1 root disk      8,  16 2017-03-06 09:41 sdb<br>brw-rw----  1 root disk      8,  17 2017-03-06 09:41 sdb1<br><br>What information can you provide around timeframes and the business impact?<br><br>=========================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김경희 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-3049-1440 <br>- 메일주소 : 김경희 &lt;khsds.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com<br>=========================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.6</b><br><b>타입  : Configuration issue</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000J3aT8IAJ"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-03-16T04:34:04Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-03-16T04:34:04Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2017-03-16T04:34:04Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000J1puGIAR"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-03-08T05:44:34Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-03-08T05:44:34Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2017-03-08T05:44:34Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000J1DnlIAF"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2017-03-06T05:57:50Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2017-03-06T05:57:50Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>fdisk 는 기본적으로 커널이 인식하는 /proc/partitions 에서 정보를 가져오게 됩니다.<br><br>util-linux-ng-2.17.2/fdisk<br>..........................<br><br>2837 /*<br>2838  * for fdisk -l:<br>2839  * try all things in /proc/partitions that look like a full disk<br>2840  */<br>2841 static void<br>2842 tryprocpt(void) {<br>2843         FILE *procpt;<br>2844         char line[128], ptname[128], devname[256];<br>2845         int ma, mi;<br>2846         unsigned long long sz;<br>2847 <br>2848         procpt = fopen(PROC_PARTITIONS, &quot;r&quot;);<br>2849         if (procpt == NULL) {<br>2850                 fprintf(stderr, _(&quot;cannot open %s\n&quot;), PROC_PARTITIONS);<br>2851                 return;<br>2852         }<br>2853 <br>2854         while (fgets(line, sizeof(line), procpt)) {<br>2855                 if (sscanf (line, &quot; %d %d %llu %128[^\n ]&quot;,<br>2856                             &amp;ma, &amp;mi, &amp;sz, ptname) != 4)<br>2857                         continue;<br>2858                 snprintf(devname, sizeof(devname), &quot;/dev/%s&quot;, ptname);<br>2859                 if (is_whole_disk(devname))<br>2860                         try(devname, 0);<br>2861         }<br>2862         fclose(procpt);<br>2863 }<br><br>하지만 아래 문서에서는 해당 패키지의 버그 혹은 스토리지 벤더 프로그램의 오류등으로<br>/dev 와 fdisk -l 정보가 일치하지 않는 경우가 있다고 합니다.<br><br>fdisk -l does not shows all devices in /proc/partitions as expected <br>https://access.redhat.com/solutions/783403<br><br>Inconsistency in the device partitions listed under &quot;/proc/partitions&quot; file and &quot;fdisk -l&quot; output <br>https://access.redhat.com/solutions/229723<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2017-03-06T05:57:50Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>fdisk -l 를 통해서 나오는 디바이스의 파티션 정보와 /dev 디렉토리에 보이는 파티션 정보의<br>연관성에 대해서 알고 싶습니다. partprobe 나 리부팅을 하여도 /dev 에서 안보이는 경우가 있나요?<br>감사합니다.<br><br>ex) Disk /dev/sdb: 1073 MB, 1073741824 bytes<br>139 heads, 8 sectors/track, 1885 cylinders<br>Units = cylinders of 1112 * 512 = 569344 bytes<br>Sector size (logical/physical): 512 bytes / 512 bytes<br>I/O size (minimum/optimal): 512 bytes / 512 bytes<br>Disk identifier: 0x23135534<br> Device Boot      Start         End      Blocks   Id  System<br>/dev/sdb1               2        1886     1047552   83  Linux<br>-------------------------------------------------------------<br>brw-rw----  1 root disk      8,  16 2017-03-06 09:41 sdb<br>brw-rw----  1 root disk      8,  17 2017-03-06 09:41 sdb1</issue><timeFramesAndUrgency>=========================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김경희 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-3049-1440 <br>- 메일주소 : 김경희 &lt;khsds.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com<br>=========================================================</timeFramesAndUrgency><cep>false</cep></case>