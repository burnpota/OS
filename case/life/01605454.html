======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-03-23T06:22:27Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2016-04-05T00:11:18Z</b><br><b>id : 500A000000TtLz1IAF</b><br>======================<br><br><b><font size=15>
제목  : rhel7 에서 aslr,  transparent hugepages disable하는 방법요청드립니다.
</font></b><br><br>======================<br><b>사전문의<br></b><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김태현 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-3734-0720<br>- 메일주소 : 김태현 &lt;th0720.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000Go5SHIAZ"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-04-05T00:11:17Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-04-05T00:11:17Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-04-05T00:11:17Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Glz2hIAB"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-29T01:06:32Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-29T01:06:32Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br>Jay Shin<br>Technical Support Engineer<br>GSS, Asia Pacific, Red Hat Inc<br><br><publishedDate>2016-03-29T01:06:32Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000GlESAIA3"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2016-03-23T23:43:20Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2016-03-23T23:43:20Z</b><br><br>안녕하세요<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>알고 계신 방법이 맞습니다.<br><br>아래 문서도 참고하시기 바랍니다.<br><br>* How to disable transparent hugepages (THP) on Red Hat Enterprise Linux 7 <br>  https://access.redhat.com/solutions/1320153<br><br>* What is the function of kernel parameter 'randomize_va_space'? <br>  https://access.redhat.com/solutions/44460<br><br>감사합니다.<br><br><br>Jay Shin, Technical Support Engineer<br><br>Office: +82 2 3490 5200 - ext 3 (기술문의)<br>Email: jaeshin@redhat.com <br><br>Red Hat, Asia-Pacific Pty Ltd <br>Website: www.redhat.com<br><br><publishedDate>2016-03-23T23:43:20Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Gl9IIIAZ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-03-23T15:17:04Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-03-23T15:17:04Z</b><br><br>안녕하세요.<br>아래의 방법이<br>*aslr(address space layout randomization) disable &amp; transparent hugepages disable 맞는지 확인 부탁드립니다.<br>------------------------------------------------------------------------------------------------------------------------------------------------------<br>*aslr(address space layout randomization) disable<br>[root@node3 ~]# vi /etc/sysctl.conf<br># System default settings live in /usr/lib/sysctl.d/00-system.conf.<br># To override those settings, enter new settings here, or in an /etc/sysctl.d/&lt;name&gt;.conf file<br>#<br># For more information, see sysctl.conf(5) and sysctl.d(5).<br>kernel.randomize_va_space = 0  &lt;-------------------추가<br>:wq<br><br>[root@node3 ~]# sysctl -p<br>kernel.randomize_va_space = 0<br><br>[확인법]<br>[root@node3 ~]# sysctl -a | grep kernel.randomize_va_space<br>kernel.randomize_va_space = 0<br><br>------------------------------------------------------------------------------------------------------------------------------------------------------<br>*transparent hugepages disable<br>[root@node3 ~]# tuned-adm active<br>Current active profile: virtual-guest<br>[root@node3 ~]# mkdir /etc/tuned/myprofile-nothp<br>[root@node3 ~]# vi /etc/tuned/myprofile-nothp/tuned.conf<br>[main]<br>include= virtual-guest<br><br>[vm]<br>transparent_hugepages=never<br>:wq<br><br>[root@node3 ~]# chmod +x /etc/tuned/myprofile-nothp/tuned.conf<br>[root@node3 ~]# tuned-adm profile myprofile-nothp<br>[root@node3 ~]# vi /etc/sysconfig/grub<br>GRUB_TIMEOUT=5<br>GRUB_DISTRIBUTOR=&quot;$(sed 's, release .*$,,g' /etc/system-release)&quot;<br>GRUB_DEFAULT=saved<br>GRUB_DISABLE_SUBMENU=true<br>GRUB_TERMINAL_OUTPUT=&quot;console&quot;<br>GRUB_CMDLINE_LINUX=&quot;crashkernel=auto quiet transparent_hugepage=never&quot; &lt;------transparent_hugepage=never 추가<br>GRUB_DISABLE_RECOVERY=&quot;true&quot;<br>:wq<br><br>[root@node3 ~]# reboot<br><br>[확인법]<br>[root@node3 ~]# cat /sys/kernel/mm/transparent_hugepage/enabled<br>always madvise [never]  &lt;---------- never 확인 <br>[root@node3 ~]# cat /proc/meminfo | grep -i huge<br>AnonHugePages:         0 kB &lt;---------------------0 kB확인<br>HugePages_Total:       0<br>HugePages_Free:        0<br>HugePages_Rsvd:        0<br>HugePages_Surp:        0<br>Hugepagesize:       2048 kB<br>------------------------------------------------------------------------------------------------------------------------------------------------------<br><br>이상입니다.<br><br><publishedDate>2016-03-23T15:17:04Z</publishedDate><createdByType>Customer</createdByType><br>======================<br></comments><br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김태현 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-3734-0720<br>- 메일주소 : 김태현 &lt;th0720.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================</timeFramesAndUrgency><cep>false</cep></case>