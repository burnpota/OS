======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2017-10-17T15:56:24Z</b><br><b>마지막 답변자 : Xingbin Li</b><br><b>마지막 수정 일자 : 2017-11-03T10:06:17Z</b><br><b>id : 500A000000YTav8IAD</b><br>======================<br><br><b><font size=15>
제목  : TCP parameter 문의
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br>클라이언트에서 연결을 요청시 <br>서버에서 대기하는 시간에 대한 parameter가 있는 지 알고 싶습니다.<br><br>예를들어, 클라이언트가 세번의 SYN를 보냈고<br>네번째 SYN를 보낼때 네트워크 이상으로 보내지 못하였을시<br>서버에서 어느정도 시간동안 대기를 하는지.<br>그리고 이같은 설정을 담당하는 혹은 연관있는 parameter 가 있는지 확인부탁드립니다.<br><br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 박태진 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-2062-0157<br>- 메일주소 : 박우진 &lt;ewoojinn.park@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(책임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.4</b><br><b>타입  : Account / Customer Service Request</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 4 (Low)</b><br><hostname>NA</hostname><br><br><br><comment id="a0aA000000KhrQdIAJ"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2017-10-18T06:26:56Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2017-10-18T06:26:56Z</b><br><br>안녕하세여,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>말씀하신 예로 답변을 드리도록 하겠습니다.<br><br>TCP 연결을 위해 먼저 SYN을 보낸쪽 (클라이언트)에서 SYN 재전송에 관련된 커널 파라메터는 아래와 같습니다.<br>~~~~<br>#sysctl -a | grep tcp_syn_retries<br>net.ipv4.tcp_syn_retries = 5<br>~~~~<br>따라서 클라이언트 쪽에서는 1s+2s+4s+8s+16s+32s=63s 가량 첫 SYN을 재전송 시도하게 됩니다.<br><br>SYN을 받게 되는쪽(서버) 에서는 두가지 상황이 있을수 있습니다.<br>첫째는 클라이언트 쪽에서 받은 SYN을 확인후 SYN+ACK 패킷을 보내게 되는 상황입니다. 이때 네트워크 이슈때문에 <br>클라이언트 쪽에서 보내오는 마지막 ACK 패킷의 도착이 확인이 안된다면 SYN+ACK패킷의 재전송을 시도하게 됩니다.<br>SYN+ACK 패킷 재전송에 관련된 커널 파라메터는 아래와 같습니다.<br>~~~~<br>sysctl -a | grep tcp_synack_retries<br>net.ipv4.tcp_synack_retries = 5<br>~~~~<br>따라서 서버 쪽에서도 1s+2s+4s+8s+16s+32s=63s 가량 SYN+ACK의 재전송을 시도하고 TCP 연결을 끊게 됩니다.<br><br>두번째 상황은 네트워크 문제로 서버쪽에서 아예 첫번째 SYN 패킷도 못 받은 상황입니다.이때는 서버가 SYN 패킷도 <br>받지 못한 상황이기에 TCP 연결 시도 자체를 인지할수 없다고 보실수 있습니다.<br><br>감사합니다.<br><br><publishedDate>2017-10-18T06:26:56Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Khr0dIAB"><br>======================<br><b>생성계정 : Li, Xingbin</b><br><b>생성날짜 : 2017-10-18T05:39:50Z</b><br><b>마지막 답변자 : Li, Xingbin</b><br><b>마지막 수정 일자 : 2017-10-18T05:39:50Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>현재 문의주신 내용을 자세히 살펴보는 중이며 답변이 정리되는 대로 업데이트 해드리겠습니다.<br><br>감사합니다<br><br><publishedDate>2017-10-18T05:39:50Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>클라이언트에서 연결을 요청시 <br>서버에서 대기하는 시간에 대한 parameter가 있는 지 알고 싶습니다.<br><br>예를들어, 클라이언트가 세번의 SYN를 보냈고<br>네번째 SYN를 보낼때 네트워크 이상으로 보내지 못하였을시<br>서버에서 어느정도 시간동안 대기를 하는지.<br>그리고 이같은 설정을 담당하는 혹은 연관있는 parameter 가 있는지 확인부탁드립니다.<br><br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 박태진 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-2062-0157<br>- 메일주소 : 박우진 &lt;ewoojinn.park@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(책임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================</issue><cep>false</cep></case>