======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-09-17T01:12:38Z</b><br><b>마지막 답변자 : Jay Shin</b><br><b>마지막 수정 일자 : 2019-04-15T07:21:38Z</b><br><b>id : 500A000000byc9UIAQ</b><br>======================<br><br><b><font size=15>
제목  : yum update 작업 수행시 패키지 중복 install
</font></b><br><br>======================<br><actionPlan>다음과 같이 진행하시면 만약을 위해 기존 상황도 백업되고 손쉽게 중복 패키지 삭제 및 검증하실 수 있을 것으로 생각됩니다.<br>====<br># yum-complete-transaction, or &quot;yum-complete-transaction --cleanup-only&quot; and &quot;yum history redo last&quot;  // 트랜젝션이 정상적으로 되었는지를 검증후<br># tar czf /tmp/rpm_db.tar.xz /var/lib/{rpm,yum}   <br># yum check &amp;&gt; /tmp/pre_yumcheck  <br># package-cleanup --dupes<br># package-cleanup --cleandupes<br># yum check  <br># rpm -Va<br>====</actionPlan><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요. 고객사에서 패키지 업데이트 시 update가 아닌 install로 작업이 진행되었습니다.<br><br>문제가 된 작업은 18년 3월 25일이고(yum history ID : 24) , 9월 16일에 패키지 업데이트 작업(yum history ID :25) 하면서 아래와 같은 결과가 확인되었습니다.<br>duplicate 메시지가 출력되었고, 실제 서버에서 rpm -qa |grep 으로 확인한 결과 해당 패키지들이 2개씩 확인되었습니다.<br><br>update 명령으로 작업을 하였는데, install 된 원인과 <br>운영중에 이전버전을 삭제해도 서비스에 영향이 없는지, 그리고 올바른 삭제 방법 가이드 부탁드립니다.<br><br>해당 서버 sosreport 는 드롭박스에 첨부하였습니다.<br>확인 부탁드립니다.  <br>감사합니다.<br> (파일명 : sosreport-SLQEAIAL01-20180916143913.tar.xz)<br>======================<br>root@SLQEAIAL01 /root # yum history<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>ID     | Command line             | Date and time    | Action(s)      | Altered<br>-------------------------------------------------------------------------------<br>    25 | -d 2 -y update           | 2018-09-16 10:13 | I, U           |    3 PP<br>    24 | -d 2 -y update           | 2018-03-25 09:04 | I, U           |   65 *&lt;<br>    23 | install syslinux         | 2017-08-14 14:18 | Install        |    1 &gt;&lt;<br>    22 | update                   | 2017-07-08 22:10 | E, I, U        |   13 &gt;&lt;<br>    21 | remove java-1.7.0*       | 2017-06-12 14:35 | Erase          |   19 &gt;&lt;<br>    20 | update                   | 2017-01-24 09:44 | I, U           |   38 &gt;&lt;<br>    19 | update                   | 2016-05-21 20:19 | Update         |   19 &gt;E<br>    18 | remove PackageKit-comman | 2016-05-16 14:02 | Erase          |    1 P&lt;<br>    17 | update                   | 2016-03-20 19:12 | Update         |    9 &gt;<br>    16 | update                   | 2016-03-20 18:44 | I, O, U        |  896 E&lt;<br>    15 | install open-vm-tools*   | 2015-11-06 21:33 | Install        |    2 &gt;<br>    14 | remove open-vm-tools*    | 2015-11-06 21:21 | Erase          |    2<br>    13 | install telnet.x86_64    | 2015-10-21 10:16 | Install        |    1 P&lt;<br>    12 | localinstall ./libuser-0 | 2015-07-29 10:39 | I, U           |    4 &gt;<br>    11 | install sapconf          | 2015-07-21 13:36 | Install        |    2<br>    10 | install compat-locales-s | 2015-07-21 13:35 | Install        |    2<br>     9 | install sysfsutils uuidd | 2015-07-21 11:08 | Install        |    9<br>     8 | install libaio libaio-de | 2015-07-21 11:07 | Install        |    2<br>     7 | install xinetd           | 2015-07-21 11:04 | Install        |    1<br>     6 | localinstall ./ntp-4.2.6 | 2015-07-21 10:21 | Update         |    2<br>history list<br>root@SLQEAIAL01 /root #<br>root@SLQEAIAL01 /root # yum history info 25<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Transaction ID : 25<br>Begin time     : Sun Sep 16 10:13:38 2018<br>Begin rpmdb    : 1691:47e48afcd43d642a0a4dd66824d66bf96dc78eb8<br>End time       :                           (0 seconds)<br>End rpmdb      : 1692:98acc44c854b50b99be5e2d26d370099ec9847ce<br>User           : root &lt;root&gt;<br>Return-Code    : Success<br>Command Line   : -d 2 -y update<br>Transaction performed with:<br>    Installed     rpm-4.11.3-17.el7.x86_64                  @rhel7.2_update<br>    Installed     subscription-manager-1.15.9-15.el7.x86_64 @rhel7.2_update<br>    Installed     yum-3.4.3-132.el7.noarch                  @rhel7.2_update<br>Packages Altered:<br>    Dep-Install libfastjson-0.99.4-2.el7.x86_64              @pm<br>    Updated     rsyslog-7.4.7-12.el7.x86_64                  @rhel7.2_update<br>    Update              8.24.0-16.el7_5.4.x86_64             @pm<br>    Updated     rsyslog-mmjsonparse-7.4.7-12.el7.x86_64      @rhel7.2_update<br>    Update                          8.24.0-16.el7_5.4.x86_64 @pm<br>Rpmdb Problems:<br>    requires: redcastle-4.0.3-1.x86_64 has missing requires of librcs2o.so()(64bit)<br>        Installed     redcastle-4.0.3-1.x86_64 installed<br>    duplicate: 32:bind-libs-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-libs-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-libs-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: 32:bind-libs-lite-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-libs-lite-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-libs-lite-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: 32:bind-license-9.9.4-51.el7_4.2.noarch is a duplicate with 32:bind-license-9.9.4-29.el7_2.4.noarch<br>        Installed     32:bind-license-9.9.4-51.el7_4.2.noarch installed<br>    duplicate: 32:bind-pkcs11-libs-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-pkcs11-libs-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-pkcs11-libs-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: device-mapper-multipath-libs-0.4.9-111.el7_4.2.x86_64 is a duplicate with device-mapper-multipath-libs-0.4.9-85.el7_2.6.x86_64<br>        Installed     device-mapper-multipath-libs-0.4.9-111.el7_4.2.x86_64 installed<br>    duplicate: dracut-033-502.el7_4.1.x86_64 is a duplicate with dracut-033-359.el7.x86_64<br>        Installed     dracut-033-502.el7_4.1.x86_64 installed<br>    duplicate: dracut-config-rescue-033-502.el7_4.1.x86_64 is a duplicate with dracut-config-rescue-033-359.el7.x86_64<br>        Installed     dracut-config-rescue-033-502.el7_4.1.x86_64 installed<br>    duplicate: dracut-network-033-502.el7_4.1.x86_64 is a duplicate with dracut-network-033-359.el7.x86_64<br>        Installed     dracut-network-033-502.el7_4.1.x86_64 installed<br>    duplicate: 1:java-1.8.0-openjdk-1.8.0.111-1.b15.el7_2.x86_64 is a duplicate with 1:java-1.8.0-openjdk-1.8.0.65-3.b17.el7.x86_64<br>        Installed     1:java-1.8.0-openjdk-1.8.0.111-1.b15.el7_2.x86_64 installed<br>    duplicate: 1:java-1.8.0-openjdk-headless-1.8.0.111-1.b15.el7_2.x86_64 is a duplicate with 1:java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64<br>        Installed     1:java-1.8.0-openjdk-headless-1.8.0.111-1.b15.el7_2.x86_64 installed<br>    duplicate: kmod-20-15.el7_4.7.x86_64 is a duplicate with kmod-20-8.el7_2.x86_64<br>        Installed     kmod-20-15.el7_4.7.x86_64 installed<br>    duplicate: kpartx-0.4.9-111.el7_4.2.x86_64 is a duplicate with kpartx-0.4.9-85.el7_2.6.x86_64<br>        Installed     kpartx-0.4.9-111.el7_4.2.x86_64 installed<br>    duplicate: krb5-libs-1.15.1-8.el7.x86_64 is a duplicate with krb5-libs-1.13.2-10.el7.x86_64<br>        Installed     krb5-libs-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-pkinit-1.15.1-8.el7.x86_64 is a duplicate with krb5-pkinit-1.13.2-10.el7.x86_64<br>        Installed     krb5-pkinit-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-server-1.15.1-8.el7.x86_64 is a duplicate with krb5-server-1.13.2-10.el7.x86_64<br>        Installed     krb5-server-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-workstation-1.15.1-8.el7.x86_64 is a duplicate with krb5-workstation-1.13.2-10.el7.x86_64<br>        Installed     krb5-workstation-1.15.1-8.el7.x86_64 installed<br>    duplicate: libcollection-0.6.2-27.el7.x86_64 is a duplicate with libcollection-0.6.2-25.el7.x86_64<br>        Installed     libcollection-0.6.2-27.el7.x86_64 installed<br>    duplicate: libgudev1-219-42.el7_4.7.x86_64 is a duplicate with libgudev1-219-19.el7_2.20.x86_64<br>        Installed     libgudev1-219-42.el7_4.7.x86_64 installed<br>    duplicate: libini_config-1.3.0-27.el7.x86_64 is a duplicate with libini_config-1.2.0-25.el7.x86_64<br>        Installed     libini_config-1.3.0-27.el7.x86_64 installed<br>    duplicate: libselinux-2.5-11.el7.x86_64 is a duplicate with libselinux-2.2.2-6.el7.x86_64<br>        Installed     libselinux-2.5-11.el7.x86_64 installed<br>    duplicate: libselinux-python-2.5-11.el7.x86_64 is a duplicate with libselinux-python-2.2.2-6.el7.x86_64<br>        Installed     libselinux-python-2.5-11.el7.x86_64 installed<br>    duplicate: libselinux-utils-2.5-11.el7.x86_64 is a duplicate with libselinux-utils-2.2.2-6.el7.x86_64<br>        Installed     libselinux-utils-2.5-11.el7.x86_64 installed<br>    duplicate: libsemanage-2.5-8.el7.x86_64 is a duplicate with libsemanage-2.1.10-18.el7.x86_64<br>        Installed     libsemanage-2.5-8.el7.x86_64 installed<br>    duplicate: libsemanage-python-2.5-8.el7.x86_64 is a duplicate with libsemanage-python-2.1.10-18.el7.x86_64<br>        Installed     libsemanage-python-2.5-8.el7.x86_64 installed<br>    duplicate: libsepol-2.5-6.el7.x86_64 is a duplicate with libsepol-2.1.9-3.el7.x86_64<br>        Installed     libsepol-2.5-6.el7.x86_64 installed<br>    duplicate: libtirpc-0.2.4-0.10.el7.x86_64 is a duplicate with libtirpc-0.2.4-0.6.el7.x86_64<br>        Installed     libtirpc-0.2.4-0.10.el7.x86_64 installed<br>    duplicate: linux-firmware-20170606-58.gitc990aae.el7_4.noarch is a duplicate with linux-firmware-20150904-43.git6ebf5d5.el7.noarch<br>        Installed     linux-firmware-20170606-58.gitc990aae.el7_4.noarch installed<br>    duplicate: nspr-4.13.1-1.0.el7_3.x86_64 is a duplicate with nspr-4.11.0-1.el7_2.x86_64<br>        Installed     nspr-4.13.1-1.0.el7_3.x86_64 installed<br>    duplicate: nss-softokn-freebl-3.28.3-8.el7_4.i686 is a duplicate with nss-softokn-freebl-3.16.2.3-13.el7_1.x86_64<br>        Installed     nss-softokn-freebl-3.28.3-8.el7_4.i686 installed<br>    duplicate: nss-util-3.28.4-3.el7.x86_64 is a duplicate with nss-util-3.21.4-1.el7_2.x86_64<br>        Installed     nss-util-3.28.4-3.el7.x86_64 installed<br>    duplicate: ntp-4.2.6p5-25.el7_3.2.x86_64 is a duplicate with ntp-4.2.6p5-22.el7_2.2.x86_64<br>        Installed     ntp-4.2.6p5-25.el7_3.2.x86_64 installed<br>    duplicate: ntpdate-4.2.6p5-25.el7_3.2.x86_64 is a duplicate with ntpdate-4.2.6p5-22.el7_2.2.x86_64<br>        Installed     ntpdate-4.2.6p5-25.el7_3.2.x86_64 installed<br>    duplicate: openssh-7.4p1-13.el7_4.x86_64 is a duplicate with openssh-6.6.1p1-25.el7_2.x86_64<br>        Installed     openssh-7.4p1-13.el7_4.x86_64 installed<br>    duplicate: openssh-clients-7.4p1-13.el7_4.x86_64 is a duplicate with openssh-clients-6.6.1p1-25.el7_2.x86_64<br>        Installed     openssh-clients-7.4p1-13.el7_4.x86_64 installed<br>    duplicate: 1:openssl-1.0.2k-8.el7.x86_64 is a duplicate with 1:openssl-1.0.1e-51.el7_2.7.x86_64<br>        Installed     1:openssl-1.0.2k-8.el7.x86_64 installed<br>    duplicate: 1:openssl-libs-1.0.2k-8.el7.x86_64 is a duplicate with 1:openssl-libs-1.0.1e-51.el7_2.7.x86_64<br>        Installed     1:openssl-libs-1.0.2k-8.el7.x86_64 installed<br>    duplicate: policycoreutils-2.5-17.1.el7.x86_64 is a duplicate with policycoreutils-2.2.5-20.el7.x86_64<br>        Installed     policycoreutils-2.5-17.1.el7.x86_64 installed<br>    duplicate: rpcbind-0.2.0-42.el7.x86_64 is a duplicate with rpcbind-0.2.0-32.el7.x86_64<br>        Installed     rpcbind-0.2.0-42.el7.x86_64 installed<br>    duplicate: selinux-policy-3.13.1-166.el7_4.7.noarch is a duplicate with selinux-policy-3.13.1-60.el7.noarch<br>        Installed     selinux-policy-3.13.1-166.el7_4.7.noarch installed<br>    duplicate: setools-libs-3.3.8-1.1.el7.x86_64 is a duplicate with setools-libs-3.3.7-46.el7.x86_64<br>        Installed     setools-libs-3.3.8-1.1.el7.x86_64 installed<br>    duplicate: sudo-1.8.19p2-11.el7_4.x86_64 is a duplicate with sudo-1.8.6p7-16.el7.x86_64<br>        Installed     sudo-1.8.19p2-11.el7_4.x86_64 installed<br>    duplicate: syslinux-4.05-13.el7.x86_64 is a duplicate with syslinux-4.05-12.el7.x86_64<br>        Installed     syslinux-4.05-13.el7.x86_64 installed<br>    duplicate: systemd-219-42.el7_4.7.x86_64 is a duplicate with systemd-219-19.el7_2.20.x86_64<br>        Installed     systemd-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-libs-219-42.el7_4.7.x86_64 is a duplicate with systemd-libs-219-19.el7_2.20.x86_64<br>        Installed     systemd-libs-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-python-219-42.el7_4.7.x86_64 is a duplicate with systemd-python-219-19.el7_2.20.x86_64<br>        Installed     systemd-python-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-sysv-219-42.el7_4.7.x86_64 is a duplicate with systemd-sysv-219-19.el7_2.20.x86_64<br>        Installed     systemd-sysv-219-42.el7_4.7.x86_64 installed<br>    conflicts: libselinux-2.5-11.el7.x86_64 has installed conflicts systemd &lt; ('0', '219', '20'): systemd-219-19.el7_2.20.x86_64<br>        Installed     libselinux-2.5-11.el7.x86_64   installed<br>        Installed     systemd-219-19.el7_2.20.x86_64 @patch<br>    conflicts: openssh-7.4p1-13.el7_4.x86_64 has installed conflicts selinux-policy &lt; ('0', '3.13.1', '92'): selinux-policy-3.13.1-60.el7.noarch<br>        Installed     openssh-7.4p1-13.el7_4.x86_64       installed<br>        Installed     selinux-policy-3.13.1-60.el7.noarch @rhel7.2_update<br>    conflicts: systemd-219-42.el7_4.7.x86_64 has installed conflicts dracut &lt; ('0', '033', '499'): dracut-033-359.el7.x86_64<br>        Installed     dracut-033-359.el7.x86_64     @rhel7.2_update<br>        Installed     systemd-219-42.el7_4.7.x86_64 installed<br>history info<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Defect / Bug</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>SLQEAIAL01</hostname><br><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2019-04-15T07:21:35Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2019-04-15T07:21:35Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>본 기술 문의의 상태를 처리완료 상태로 변경하고자 합니다.<br><br>만약 본 기술 문의와 관련하여 추가 질문이 있으시다면 언제든지 본 기술 문의를 *재개*하실 수 있습니다.<br><br>기술 문의가 처리 완료되면 *고객 설문조사* 메일이 발송됩니다. 고객님께서 남기신 의견은 보다 나은 서비스를 위해 지속적으로 반영될 것입니다.<br>향후 기술 지원 서비스의 품질 향상을 위해, 소중한 시간을 내어 주시면 대단히 감사드리겠습니다.<br><br>만약 본 이슈와 관련하여 추가적인 문의 사항이 있으실 경우 연락 주시기 바랍니다.<br><br>감사합니다.<br><br>Jay Shin,<br>Software Maintenance Engineer, Brisbane, APAC<br>Red Hat Customer Experience and Engagement<br><br><publishedDate>2019-04-15T07:21:35Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PoXdIQAV"><br>======================<br><b>생성계정 : Shin, Jay</b><br><b>생성날짜 : 2019-04-01T06:24:36Z</b><br><b>마지막 답변자 : Shin, Jay</b><br><b>마지막 수정 일자 : 2019-04-01T06:24:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 입니다.<br><br>본 케이스와 연관되어 더 궁금한 사항이 있거나 추가적인 지원이 필요하신가요?<br><br>본 안내 후 일주일 이내에 별다른 답변이 없다면 자동으로 종료 상태가 된다는 것을 알려 드립니다.<br><br>만약 추가적인 지원이 필요하다면, 연락 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2019-04-01T06:24:36Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PYa5PQAT"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-18T08:31:02Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-18T08:31:02Z</b><br><br>안녕하세요, 송기호책임님<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>다음과 같이 진행하시면 만약을 위해 기존 상황도 백업되고 손쉽게 중복 패키지 삭제 및 검증하실 수 있을 것으로 생각됩니다.<br>====<br># yum-complete-transaction, or &quot;yum-complete-transaction --cleanup-only&quot; and &quot;yum history redo last&quot;  // 트랜젝션이 정상적으로 되었는지를 검증후<br># tar czf /tmp/rpm_db.tar.xz /var/lib/{rpm,yum}   <br># yum check &amp;&gt; /tmp/pre_yumcheck  <br># package-cleanup --dupes<br># package-cleanup --cleandupes<br># yum check  <br># rpm -Va<br>====<br><br>감사합니다.<br><br><publishedDate>2019-03-18T08:31:02Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PYCsJQAX"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2019-03-15T06:37:20Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2019-03-15T06:37:20Z</b><br><br>안녕하세요. 타임게이트 송기호입니다.<br>우선 작업간 최대한 안정성을 위주로 작업하고자 <br>추가 오픈합니다<br><br>해당 이슈를 해소하기 위해서<br><br># yum-complete-transaction, or &quot;yum-complete-transaction --cleanup-only&quot; and &quot;yum history redo last&quot;  // 트랜젝션이 정상적으로 되었는지를 검증후<br># tar cjf /tmp/rpm_db.tar.bz2 /var/lib/{rpm,yum}   <br># yum check &amp;&gt; /tmp/yumcheck  <br># grep &quot;duplicate&quot; /tmp/yumcheck | awk '{ print $NF }' | egrep -v &quot;\:&quot; &gt; /tmp/duplicaterpms  <br># grep &quot;duplicate&quot; /tmp/yumcheck | awk '{ print $NF }' | egrep &quot;:&quot; | awk -F':' '{ print $NF }' &gt;&gt; /tmp/duplicaterpms  <br># for i in $(cat /tmp/duplicaterpms); do rpm -e --justdb --nodeps $i; done <br># yum update <br><br>진행하면되나요?<br><br>아니면 <br><br>yum packages-cleanup 만 진행하면 위의 과정이 모든 포함된 작업이 진행되는 부분인가요??<br>답변 부탁드립니다.<br><br><publishedDate>2019-03-15T06:37:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PXD5cQAH"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-12T01:24:01Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-12T01:24:01Z</b><br><br>안녕하세요, 선임님<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>피드백 감사드립니다.<br><br>우선 &quot;# yum history undo 25&quot; 실행시 다음 메시지가 확인됩니다.<br>====<br>There are unfinished transactions remaining. You might consider running yum-complete-transaction, or &quot;yum-complete-transaction --cleanup-only&quot; and &quot;yum history redo last&quot;, first to finish them. If those don't work you'll have to try removing/installing packages by hand (maybe package-cleanup can help).<br>====<br>즉, 기존의 설치 트랜잭션이 정상적으로 완료되지 않았을 경우, 해당 메시지가 출력됩니다.<br><br>해당 메시지와 관련하여 추가 조사한 결과, 다음 문서가 확인됩니다.<br><br>How to remove duplicate packages from a failed yum transaction <br>  https://access.redhat.com/solutions/3924551<br><br>결론적으로 history undo 로 롤백할 경우, 기존에 정상적으로 설치되어 있는 패키지들도 의존성 관계로 삭제될 수 있기에<br>상기 문서를 토대로 yum-complete-transaction 이후, 복구를 시도해보시거나 기존의 package-cleanup 커멘드를 이용해<br>중복 패키지들을 삭제하시는 것이 보다 일반적인 방법으로 보입니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-12T01:24:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PWycQQAT"><br>======================<br><b>생성계정 : KIM, JIMIN</b><br><b>생성날짜 : 2019-03-11T09:05:59Z</b><br><b>마지막 답변자 : KIM, JIMIN</b><br><b>마지막 수정 일자 : 2019-03-11T09:05:59Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>요청 결과 보내드립니다.<br><br>root@SLQEAIAL01 / # package-cleanup --dupes<br>Loaded plugins: langpacks, product-id<br>openssh-clients-7.4p1-13.el7_4.x86_64<br>openssh-clients-6.6.1p1-25.el7_2.x86_64<br>rpcbind-0.2.0-32.el7.x86_64<br>rpcbind-0.2.0-42.el7.x86_64<br>bind-libs-9.9.4-29.el7_2.4.x86_64<br>bind-libs-9.9.4-51.el7_4.2.x86_64<br>sudo-1.8.19p2-11.el7_4.x86_64<br>sudo-1.8.6p7-16.el7.x86_64<br>bind-pkcs11-libs-9.9.4-51.el7_4.2.x86_64<br>bind-pkcs11-libs-9.9.4-29.el7_2.4.x86_64<br>libgudev1-219-19.el7_2.20.x86_64<br>libgudev1-219-42.el7_4.7.x86_64<br>linux-firmware-20150904-43.git6ebf5d5.el7.noarch<br>linux-firmware-20170606-58.gitc990aae.el7_4.noarch<br>libtirpc-0.2.4-0.6.el7.x86_64<br>libtirpc-0.2.4-0.10.el7.x86_64<br>bind-license-9.9.4-29.el7_2.4.noarch<br>bind-license-9.9.4-51.el7_4.2.noarch<br>openssl-libs-1.0.2k-8.el7.x86_64<br>openssl-libs-1.0.1e-51.el7_2.7.x86_64<br>kmod-20-15.el7_4.7.x86_64<br>kmod-20-8.el7_2.x86_64<br>systemd-219-42.el7_4.7.x86_64<br>systemd-219-19.el7_2.20.x86_64<br>syslinux-4.05-13.el7.x86_64<br>syslinux-4.05-12.el7.x86_64<br>java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64<br>java-1.8.0-openjdk-headless-1.8.0.111-1.b15.el7_2.x86_64<br>ntpdate-4.2.6p5-22.el7_2.2.x86_64<br>ntpdate-4.2.6p5-25.el7_3.2.x86_64<br>dracut-network-033-502.el7_4.1.x86_64<br>dracut-network-033-359.el7.x86_64<br>krb5-pkinit-1.13.2-10.el7.x86_64<br>krb5-pkinit-1.15.1-8.el7.x86_64<br>dracut-config-rescue-033-502.el7_4.1.x86_64<br>dracut-config-rescue-033-359.el7.x86_64<br>libselinux-python-2.5-11.el7.x86_64<br>libselinux-python-2.2.2-6.el7.x86_64<br>krb5-workstation-1.13.2-10.el7.x86_64<br>krb5-workstation-1.15.1-8.el7.x86_64<br>krb5-server-1.13.2-10.el7.x86_64<br>krb5-server-1.15.1-8.el7.x86_64<br>policycoreutils-2.2.5-20.el7.x86_64<br>policycoreutils-2.5-17.1.el7.x86_64<br>nss-softokn-freebl-3.16.2.3-13.el7_1.x86_64<br>nss-softokn-freebl-3.28.3-8.el7_4.x86_64<br>nss-softokn-freebl-3.28.3-8.el7_4.i686<br>nss-softokn-freebl-3.16.2.3-13.el7_1.i686<br>setools-libs-3.3.7-46.el7.x86_64<br>setools-libs-3.3.8-1.1.el7.x86_64<br>kpartx-0.4.9-111.el7_4.2.x86_64<br>kpartx-0.4.9-85.el7_2.6.x86_64<br>ntp-4.2.6p5-22.el7_2.2.x86_64<br>ntp-4.2.6p5-25.el7_3.2.x86_64<br>systemd-libs-219-19.el7_2.20.x86_64<br>systemd-libs-219-42.el7_4.7.x86_64<br>libsemanage-python-2.1.10-18.el7.x86_64<br>libsemanage-python-2.5-8.el7.x86_64<br>systemd-python-219-19.el7_2.20.x86_64<br>systemd-python-219-42.el7_4.7.x86_64<br>libcollection-0.6.2-25.el7.x86_64<br>libcollection-0.6.2-27.el7.x86_64<br>selinux-policy-3.13.1-60.el7.noarch<br>selinux-policy-3.13.1-166.el7_4.7.noarch<br>java-1.8.0-openjdk-1.8.0.111-1.b15.el7_2.x86_64<br>java-1.8.0-openjdk-1.8.0.65-3.b17.el7.x86_64<br>dracut-033-502.el7_4.1.x86_64<br>dracut-033-359.el7.x86_64<br>nspr-4.11.0-1.el7_2.x86_64<br>nspr-4.13.1-1.0.el7_3.x86_64<br>openssh-7.4p1-13.el7_4.x86_64<br>openssh-6.6.1p1-25.el7_2.x86_64<br>openssl-1.0.2k-8.el7.x86_64<br>openssl-1.0.1e-51.el7_2.7.x86_64<br>bind-libs-lite-9.9.4-51.el7_4.2.x86_64<br>bind-libs-lite-9.9.4-29.el7_2.4.x86_64<br>krb5-libs-1.15.1-8.el7.x86_64<br>krb5-libs-1.13.2-10.el7.x86_64<br>nss-util-3.28.4-3.el7.x86_64<br>nss-util-3.21.4-1.el7_2.x86_64<br>device-mapper-multipath-libs-0.4.9-111.el7_4.2.x86_64<br>device-mapper-multipath-libs-0.4.9-85.el7_2.6.x86_64<br>libsepol-2.5-6.el7.x86_64<br>libsepol-2.1.9-3.el7.x86_64<br>libsemanage-2.5-8.el7.x86_64<br>libsemanage-2.1.10-18.el7.x86_64<br>systemd-sysv-219-42.el7_4.7.x86_64<br>systemd-sysv-219-19.el7_2.20.x86_64<br>libselinux-2.5-11.el7.x86_64<br>libselinux-2.2.2-6.el7.x86_64<br>libselinux-utils-2.5-11.el7.x86_64<br>libselinux-utils-2.2.2-6.el7.x86_64<br>libini_config-1.3.0-27.el7.x86_64<br>libini_config-1.2.0-25.el7.x86_64<br><br>감사합니다.<br><br><publishedDate>2019-03-11T09:05:59Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PWdMmQAL"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-08T08:44:16Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-08T08:44:16Z</b><br><br>안녕하세요, 선임님<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>앞서 주신 결과와 다음 결과를 비교해보고자 합니다.<br>번거로우시겠지만 업데이트 부탁드립니다.<br><br># package-cleanup --dupes<br><br>감사합니다.<br><br><publishedDate>2019-03-08T08:44:16Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PWZD9QAP"><br>======================<br><b>생성계정 : KIM, JIMIN</b><br><b>생성날짜 : 2019-03-08T00:53:29Z</b><br><b>마지막 답변자 : KIM, JIMIN</b><br><b>마지막 수정 일자 : 2019-03-08T00:53:29Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>remote repository를 사용하고 있어서 아래와 같이 접근불가 메세지가 발생하면서<br>진행이되기는 합니다.<br><br>root@SLQEAIAL01 /var/log # yum history undo 25<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast<br>Undoing transaction 25, from Sun Sep 16 10:13:38 2018<br>    Dep-Install libfastjson-0.99.4-2.el7.x86_64              @pm<br>    Updated     rsyslog-7.4.7-12.el7.x86_64                  @rhel7.2_update<br>    Update              8.24.0-16.el7_5.4.x86_64             @pm<br>    Updated     rsyslog-mmjsonparse-7.4.7-12.el7.x86_64      @rhel7.2_update<br>    Update                          8.24.0-16.el7_5.4.x86_64 @pm<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>http://100.252.201.247/package/patch/rhel7/repodata/repomd.xml: [Errno 14] curl#7 - &quot;Failed connect to 100.252.201.247:80; Connection refused&quot;<br>Trying other mirror.<br>Failed to downgrade: rsyslog-7.4.7-12.el7.x86_64<br>Failed to downgrade: rsyslog-mmjsonparse-7.4.7-12.el7.x86_64<br>Resolving Dependencies<br>There are unfinished transactions remaining. You might consider running yum-complete-transaction, or &quot;yum-complete-transaction --cleanup-only&quot; and &quot;yum history redo last&quot;, first to finish them. If those don't work you'll have to try removing/installing packages by hand (maybe package-cleanup can help).<br>--&gt; Running transaction check<br>---&gt; Package libfastjson.x86_64 0:0.99.4-2.el7 will be erased<br>--&gt; Processing Dependency: libfastjson.so.4()(64bit) for package: rsyslog-8.24.0-16.el7_5.4.x86_64<br>--&gt; Running transaction check<br>---&gt; Package rsyslog.x86_64 0:8.24.0-16.el7_5.4 will be erased<br>--&gt; Processing Dependency: rsyslog = 8.24.0-16.el7_5.4 for package: rsyslog-mmjsonparse-8.24.0-16.el7_5.4.x86_64<br>--&gt; Running transaction check<br>---&gt; Package rsyslog-mmjsonparse.x86_64 0:8.24.0-16.el7_5.4 will be erased<br>--&gt; Processing Dependency: rsyslog-mmjsonparse for package: glusterfs-libs-3.7.1-16.el7.x86_64<br>--&gt; Running transaction check<br>---&gt; Package glusterfs-libs.x86_64 0:3.7.1-16.el7 will be erased<br>--&gt; Processing Dependency: glusterfs-libs = 3.7.1-16.el7 for package: glusterfs-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: glusterfs-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: glusterfs-client-xlators-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: libvirt-daemon-driver-storage-1.2.17-13.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: 10:qemu-kvm-1.5.3-105.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: glusterfs-api-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: 10:qemu-img-1.5.3-105.el7.x86_64<br>--&gt; Processing Dependency: libgfrpc.so.0()(64bit) for package: glusterfs-fuse-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: glusterfs-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: glusterfs-client-xlators-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: libvirt-daemon-driver-storage-1.2.17-13.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: 10:qemu-kvm-1.5.3-105.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: glusterfs-api-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: 10:qemu-img-1.5.3-105.el7.x86_64<br>--&gt; Processing Dependency: libgfxdr.so.0()(64bit) for package: glusterfs-fuse-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libglusterfs.so.0()(64bit) for package: glusterfs-fuse-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libglusterfs.so.0()(64bit) for package: glusterfs-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libglusterfs.so.0()(64bit) for package: glusterfs-client-xlators-3.7.1-16.el7.x86_64<br>--&gt; Processing Dependency: libglusterfs.so.0()(64bit) for package: libvirt-daemon-driver-storage-1.2.17-13.el7.x86_64<br>--&gt; Processing Dependency: libglusterfs.so.0()(64bit) for package: glusterfs-api-3.7.1-16.el7.x86_64<br>--&gt; Running transaction check<br>---&gt; Package glusterfs.x86_64 0:3.7.1-16.el7 will be erased<br>---&gt; Package glusterfs-api.x86_64 0:3.7.1-16.el7 will be erased<br>---&gt; Package glusterfs-client-xlators.x86_64 0:3.7.1-16.el7 will be erased<br>---&gt; Package glusterfs-fuse.x86_64 0:3.7.1-16.el7 will be erased<br>---&gt; Package libvirt-daemon-driver-storage.x86_64 0:1.2.17-13.el7 will be erased<br>--&gt; Processing Dependency: libvirt-daemon-driver-storage = 1.2.17-13.el7 for package: libvirt-daemon-kvm-1.2.17-13.el7.x86_64<br>---&gt; Package qemu-img.x86_64 10:1.5.3-105.el7 will be erased<br>---&gt; Package qemu-kvm.x86_64 10:1.5.3-105.el7 will be erased<br>--&gt; Running transaction check<br>---&gt; Package libvirt-daemon-kvm.x86_64 0:1.2.17-13.el7 will be erased<br>--&gt; Processing Dependency: libvirt-daemon-kvm for package: gnome-boxes-3.14.3.1-7.el7.x86_64<br>--&gt; Running transaction check<br>---&gt; Package gnome-boxes.x86_64 0:3.14.3.1-7.el7 will be erased<br>--&gt; Processing Dependency: /usr/bin/qemu-img for package: libvirt-daemon-driver-qemu-1.2.17-13.el7.x86_64<br>--&gt; Restarting Dependency Resolution with new changes.<br>--&gt; Running transaction check<br>---&gt; Package libvirt-daemon-driver-qemu.x86_64 0:1.2.17-13.el7 will be erased<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>================================================================================================================================================<br> Package                                       Arch                   Version                             Repository                       Size<br>================================================================================================================================================<br>Removing:<br> libfastjson                                   x86_64                 0.99.4-2.el7                        @pm                              56 k<br>Removing for dependencies:<br> glusterfs                                     x86_64                 3.7.1-16.el7                        @rhel7.2_update                 1.6 M<br> glusterfs-api                                 x86_64                 3.7.1-16.el7                        @rhel7.2_update                 141 k<br> glusterfs-client-xlators                      x86_64                 3.7.1-16.el7                        @rhel7.2_update                 3.2 M<br> glusterfs-fuse                                x86_64                 3.7.1-16.el7                        @rhel7.2_update                 313 k<br> glusterfs-libs                                x86_64                 3.7.1-16.el7                        @rhel7.2_update                 1.1 M<br> gnome-boxes                                   x86_64                 3.14.3.1-7.el7                      @rhel7.2_update                 4.3 M<br> libvirt-daemon-driver-qemu                    x86_64                 1.2.17-13.el7                       @rhel7.2_update                 1.3 M<br> libvirt-daemon-driver-storage                 x86_64                 1.2.17-13.el7                       @rhel7.2_update                 549 k<br> libvirt-daemon-kvm                            x86_64                 1.2.17-13.el7                       @rhel7.2_update                 0.0<br> qemu-img                                      x86_64                 10:1.5.3-105.el7                    @rhel7.2_update                 2.2 M<br> qemu-kvm                                      x86_64                 10:1.5.3-105.el7                    @rhel7.2_update                 5.7 M<br> rsyslog                                       x86_64                 8.24.0-16.el7_5.4                   @pm                             1.9 M<br> rsyslog-mmjsonparse                           x86_64                 8.24.0-16.el7_5.4                   @pm                              15 k<br>Not available:<br> rsyslog                                       x86_64                 7.4.7-12.el7                        -                               0.0<br> rsyslog-mmjsonparse                           x86_64                 7.4.7-12.el7                        -                               0.0<br><br>Transaction Summary<br>================================================================================================================================================<br>Remove         1 Package  (+13 Dependent packages)<br>Not available  2 Packages<br><br>Installed size: 22 M<br>Is this ok [y/N]: N<br>Exiting on user command<br>Your transaction was saved, rerun it with:<br> yum load-transaction /tmp/yum_save_tx.2019-03-08.09-41.mHqUhe.yumtx<br><br>감사합니다.<br><br><publishedDate>2019-03-08T00:53:29Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PWKSVQA5"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-07T07:55:19Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-07T07:55:19Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br># yum history undo &quot;번호&quot; 지정시에 어떻게 출력되는지<br>작업로그를 올려주시기 바랍니다.<br><br>&quot;is this ok&quot; 에서 &quot;N&quot; 를 선택하시면 적용되지 않습니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-07T07:55:19Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PWGcWQAX"><br>======================<br><b>생성계정 : KIM, JIMIN</b><br><b>생성날짜 : 2019-03-07T01:04:29Z</b><br><b>마지막 답변자 : KIM, JIMIN</b><br><b>마지막 수정 일자 : 2019-03-07T01:04:29Z</b><br><br>안녕하세요<br><br>SDS 김지민 선임입니다.<br><br>문제가 발생한 SLQEAIAL01 서버에 대해서는<br>yum 통해서 작업을 하다가 문제가 발생하였기 때문에<br>해결도 yum을 통해서 rollback시키는 것이 자연스러워 보이는데요.<br><br>개별 중복 패키지를 찾아내서 해결하기 보다 <br>혹시 yum undo 를 통해서 문제가된 업데이트 내역을 rollback한 후<br>다시 yum update를 수행하는 방식으로 해결이 가능할지 문의드리려고 합니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-07T01:04:29Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PW4gsQAD"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-06T12:03:51Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-06T12:03:50Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>일부러 유사 상황을 재현해보았습니다.<br><br>[root@localhost downrpm]# ls -lrt<br>total 6232<br>-rw-r--r--. 1 root root  100512 Dec 15  2017 lz4-1.7.5-2.el7.x86_64.rpm<br>-rw-r--r--. 1 root root  346020 Aug 15  2018 cryptsetup-libs-2.0.3-3.el7.x86_64.rpm<br>-rw-r--r--. 1 root root  416532 Feb 19 03:59 systemd-libs-219-62.el7_6.5.x86_64.rpm<br>-rw-r--r--. 1 root root   85608 Feb 19 03:59 systemd-sysv-219-62.el7_6.5.x86_64.rpm<br>-rw-r--r--. 1 root root 5299080 Feb 19 03:59 systemd-219-62.el7_6.5.x86_64.rpm<br>-rw-r--r--. 1 root root   98556 Feb 19 03:59 libgudev1-219-62.el7_6.5.x86_64.rpm<br><br>[root@localhost downrpm]# rpm -ivh * --force<br>Preparing...                          ################################# [100%]<br>Updating / installing...<br>   1:lz4-1.7.5-2.el7                  ################################# [ 17%]<br>   2:systemd-libs-219-62.el7_6.5      ################################# [ 33%]<br>   3:cryptsetup-libs-2.0.3-3.el7      ################################# [ 50%]<br>   4:systemd-219-62.el7_6.5           ################################# [ 67%]<br>   5:systemd-sysv-219-62.el7_6.5      ################################# [ 83%]<br>   6:libgudev1-219-62.el7_6.5         ################################# [100%]<br><br>[root@localhost downrpm]# rpm -qa | egrep -e systemd -e cryptsetup-libs<br>cryptsetup-libs-2.0.3-3.el7.x86_64<br>systemd-sysv-219-62.el7_6.5.x86_64<br>cryptsetup-libs-1.6.7-1.el7.x86_64<br>systemd-libs-219-62.el7_6.5.x86_64<br>systemd-219-62.el7_6.5.x86_64<br>systemd-libs-219-19.el7.x86_64<br>systemd-219-19.el7.x86_64<br>systemd-sysv-219-19.el7.x86_64<br><br>[root@localhost downrpm]# rpm -qa | egrep -e systemd -e cryptsetup-libs -e libgudev1<br>cryptsetup-libs-2.0.3-3.el7.x86_64<br>systemd-sysv-219-62.el7_6.5.x86_64<br>libgudev1-219-19.el7.x86_64<br>cryptsetup-libs-1.6.7-1.el7.x86_64<br>systemd-libs-219-62.el7_6.5.x86_64<br>systemd-219-62.el7_6.5.x86_64<br>libgudev1-219-62.el7_6.5.x86_64<br>systemd-libs-219-19.el7.x86_64<br>systemd-219-19.el7.x86_64<br>systemd-sysv-219-19.el7.x86_64<br><br>[root@localhost downrpm]# package-cleanup --dupes<br>Loaded plugins: product-id<br><br>systemd-sysv-219-62.el7_6.5.x86_64<br>systemd-sysv-219-19.el7.x86_64<br>systemd-libs-219-62.el7_6.5.x86_64<br>systemd-libs-219-19.el7.x86_64<br>systemd-219-62.el7_6.5.x86_64<br>systemd-219-19.el7.x86_64<br>libgudev1-219-19.el7.x86_64<br>libgudev1-219-62.el7_6.5.x86_64<br>cryptsetup-libs-2.0.3-3.el7.x86_64<br>cryptsetup-libs-1.6.7-1.el7.x86_64<br><br>[root@localhost downrpm]# package-cleanup --cleandupes<br>Loaded plugins: product-id<br>--&gt; Running transaction check<br>---&gt; Package cryptsetup-libs.x86_64 0:1.6.7-1.el7 will be erased<br>---&gt; Package libgudev1.x86_64 0:219-19.el7 will be erased<br>---&gt; Package systemd.x86_64 0:219-19.el7 will be erased<br>---&gt; Package systemd-libs.x86_64 0:219-19.el7 will be erased<br>---&gt; Package systemd-sysv.x86_64 0:219-19.el7 will be erased<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>==============================================================================================================================================================================================================================================<br> Package                                                      Arch                                                Version                                                    Repository                                                  Size<br>==============================================================================================================================================================================================================================================<br>Removing:<br> cryptsetup-libs                                              x86_64                                              1.6.7-1.el7                                                @anaconda/7.2                                              707 k<br> libgudev1                                                    x86_64                                              219-19.el7                                                 @anaconda/7.2                                               51 k<br> systemd                                                      x86_64                                              219-19.el7                                                 @anaconda/7.2                                               21 M<br> systemd-libs                                                 x86_64                                              219-19.el7                                                 @anaconda/7.2                                              1.0 M<br> systemd-sysv                                                 x86_64                                              219-19.el7                                                 @anaconda/7.2                                              3.9 k<br><br>Transaction Summary<br>==============================================================================================================================================================================================================================================<br>Remove  5 Packages<br><br>Installed size: 23 M<br>Is this ok [y/N]: n<br><br><br>상기와 같이 중복 패키지에 한해서 하위 버젼이 삭제됩니다만<br>'n' 를 누르시면 적용이 안되므로 실제 작업시 어떤 문제가 발생하는지 작업 로그를 올려주시기 바랍니다.<br><br>감사합니다.<br><br><publishedDate>2019-03-06T12:03:50Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PVzltQAD"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2019-03-06T06:03:14Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2019-03-06T06:03:14Z</b><br><br>아래 파일명으로 dropbox에 업로드하였습니다<br><br>sosreport-SLQEAIAL01-20190228103913.tar.xz<br><br>감사합니다<br><br><publishedDate>2019-03-06T06:03:14Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0a2K00000PVxgDQAT"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2019-03-06T01:33:47Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2019-03-06T01:33:47Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>마지막 커멘트 이후, 이미 많은 시간이 흘렀기 때문에<br>시스템의 현재 상황을 정확하게 파악하기 위해<br>해당 시스템의 sosreport 를 수집해서 올려주시기 바랍니다. <br><br>감사합니다.<br><br><publishedDate>2019-03-06T01:33:47Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0a2K00000PRDcFQAX"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2019-03-04T07:34:37Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2019-03-04T07:34:37Z</b><br><br>추가 질문이 있어 문의 드립니다.<br>1. <br>package-cleanup --dupes 명령어로 삭제를 할시에  디펜던시한 패키지가 삭제 되는것으로 보입니다.<br>듀플리케이트 난 패키지만 지우고자 한다면 <br># rpm -e &lt;패키지명&gt; --nodeps<br>으로 하면 되는지요?<br><br>2. <br>케이스 내용에 보듯이 yum history 의 conflict는 무엇을 말하는지? 이를 해결하기 위해서는 어떻게 해야하는지 답변 부탁드립니다.<br><br>duplicate: systemd-sysv-219-42.el7_4.7.x86_64 is a duplicate with systemd-sysv-219-19.el7_2.20.x86_64<br>        Installed     systemd-sysv-219-42.el7_4.7.x86_64 installed<br>    conflicts: libselinux-2.5-11.el7.x86_64 has installed conflicts systemd &lt; ('0', '219', '20'): systemd-219-19.el7_2.20.x86_64<br>        Installed     libselinux-2.5-11.el7.x86_64   installed<br>        Installed     systemd-219-19.el7_2.20.x86_64 @patch<br>    conflicts: openssh-7.4p1-13.el7_4.x86_64 has installed conflicts selinux-policy &lt; ('0', '3.13.1', '92'): selinux-policy-3.13.1-60.el7.noarch<br>        Installed     openssh-7.4p1-13.el7_4.x86_64       installed<br>        Installed     selinux-policy-3.13.1-60.el7.noarch @rhel7.2_update<br>    conflicts: systemd-219-42.el7_4.7.x86_64 has installed conflicts dracut &lt; ('0', '033', '499'): dracut-033-359.el7.x86_64<br>        Installed     dracut-033-359.el7.x86_64     @rhel7.2_update<br>        Installed     systemd-219-42.el7_4.7.x86_64 installed<br><br>감사합니다.<br><br><publishedDate>2019-03-04T07:34:37Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NmxKMIAZ"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-20T00:29:01Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-20T00:29:01Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>다음과 같이 실행시 어떤 패키지가 출력되나요?<br><br># rpm -qf /usr/lib/systemd/systemd<br><br>감사합니다.<br><br><publishedDate>2018-09-20T00:29:01Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NmgBdIAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-19T04:25:11Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-19T04:25:11Z</b><br><br>답변 감사드립니다.<br><br>말씀 주신대로 중복 패키지 제거 작업을 진행하려고하는데, 온라인 작업이 가능한가요??<br><br>본문 내용을 보시면 아시겠지만, systemd와 같이 시스템 주요 패키지가 다수 포함되어있습니다.<br><br>확인 부탁드립니다.<br>감사합니다.<br><br><publishedDate>2018-09-19T04:25:11Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NmVqqIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-18T14:44:36Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-18T14:44:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>말씀과 같이<br>새로 update 할 패키지가 없다면 package-cleanup 로 중복 패키지 삭제만 해주시면 됩니다.<br>====<br>예)<br><br># package-cleanup --dupes<br>vsftpd-3.0.2-21.el7.x86_64<br>vsftpd-3.0.2-22.el7.x86_64<br><br># rpm -q vsftpd<br>vsftpd-3.0.2-21.el7.x86_64<br>vsftpd-3.0.2-22.el7.x86_64<br><br># package-cleanup --cleandupes<br>Setting up yum<br>Loaded plugins: refresh-packagekit<br>I will remove the following old duplicate packages:  &lt;= 오래된 패키지가 삭제됨<br>vsftpd-3.0.2-21.el7.x86_64<br>Is this ok [y/N]: y<br>====<br> <br>감사합니다.<br><br><publishedDate>2018-09-18T14:44:36Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NmVLmIAN"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-18T14:21:51Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-18T14:21:51Z</b><br><br>추가 문의드립니다.<br><br>package-cleanup 명령어를 이용하여 중복을 제거한 후 다시 업데이트하시기 바랍니다<br><br>라고 가이드 주셨는데, <br>관련 지식베이스를보면 package-cleanup 명령이 이전버전을 삭제하는것으로 나와있습니다.<br> 이전버전만 삭제하는것이아니라 말씀하신대로 다시 업데이트하는작업이 반드시 필요한가요??<br><br><publishedDate>2018-09-18T14:21:51Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NmM2nIAF"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-18T01:47:47Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-18T01:47:46Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>실제 설치 과정은 다음과 같습니다.<br>====<br><br>[root@rhel66-test ~]# yum install vim<br>Loaded plugins: product-id, refresh-packagekit, security, subscription-manager<br><br>Setting up Install Process<br>Resolving Dependencies<br>--&gt; Running transaction check<br>---&gt; Package vim-enhanced.x86_64 2:7.2.411-1.8.el6 will be updated<br>---&gt; Package vim-enhanced.x86_64 2:7.4.629-5.el6_8.1 will be an update<br>--&gt; Processing Dependency: vim-common = 2:7.4.629-5.el6_8.1 for package: 2:vim-enhanced-7.4.629-5.el6_8.1.x86_64<br>--&gt; Running transaction check<br>---&gt; Package vim-common.x86_64 2:7.2.411-1.8.el6 will be updated<br>---&gt; Package vim-common.x86_64 2:7.4.629-5.el6_8.1 will be an update<br>--&gt; Processing Dependency: vim-filesystem for package: 2:vim-common-7.4.629-5.el6_8.1.x86_64<br>--&gt; Running transaction check<br>---&gt; Package vim-filesystem.x86_64 2:7.4.629-5.el6_8.1 will be installed<br>--&gt; Finished Dependency Resolution<br><br>Dependencies Resolved<br><br>=============================================================================================================================<br> Package                      Arch                 Version                            Repository                        Size<br>=============================================================================================================================<br>Updating:<br> vim-enhanced                 x86_64               2:7.4.629-5.el6_8.1                rhel-6-server-rpms               1.0 M<br>Installing for dependencies:<br> vim-filesystem               x86_64               2:7.4.629-5.el6_8.1                rhel-6-server-rpms                15 k<br>Updating for dependencies:<br> vim-common                   x86_64               2:7.4.629-5.el6_8.1                rhel-6-server-rpms               6.7 M<br><br>Transaction Summary<br>=============================================================================================================================<br>Install       1 Package(s)<br>Upgrade       2 Package(s)<br><br>Total download size: 7.8 M<br>Is this ok [y/N]: y<br>Downloading Packages:<br>(1/3): vim-common-7.4.629-5.el6_8.1.x86_64.rpm                                                        | 6.7 MB     00:02     <br>(2/3): vim-enhanced-7.4.629-5.el6_8.1.x86_64.rpm                                                      | 1.0 MB     00:00     <br>(3/3): vim-filesystem-7.4.629-5.el6_8.1.x86_64.rpm                                                    |  15 kB     00:00     <br>-----------------------------------------------------------------------------------------------------------------------------<br>Total                                                                                        2.0 MB/s | 7.8 MB     00:03     <br>Running rpm_check_debug<br>Running Transaction Test<br>Transaction Test Succeeded<br>Running Transaction<br>  Installing : 2:vim-filesystem-7.4.629-5.el6_8.1.x86_64                                                                 1/5 <br>  Updating   : 2:vim-common-7.4.629-5.el6_8.1.x86_64                                                                     2/5 <br>  Updating   : 2:vim-enhanced-7.4.629-5.el6_8.1.x86_64                                                                   3/5 <br>  Cleanup    : 2:vim-enhanced-7.2.411-1.8.el6.x86_64                                                                     4/5 <br>  Cleanup    : 2:vim-common-7.2.411-1.8.el6.x86_64                                                                       5/5 <br>  Verifying  : 2:vim-enhanced-7.4.629-5.el6_8.1.x86_64                                                                   1/5 <br>  Verifying  : 2:vim-common-7.4.629-5.el6_8.1.x86_64                                                                     2/5 <br>  Verifying  : 2:vim-filesystem-7.4.629-5.el6_8.1.x86_64                                                                 3/5 <br>  Verifying  : 2:vim-enhanced-7.2.411-1.8.el6.x86_64                                                                     4/5 <br>  Verifying  : 2:vim-common-7.2.411-1.8.el6.x86_64                                                                       5/5 <br><br>Dependency Installed:<br>  vim-filesystem.x86_64 2:7.4.629-5.el6_8.1                                                                                  <br><br>Updated:<br>  vim-enhanced.x86_64 2:7.4.629-5.el6_8.1                                                                                    <br><br>Dependency Updated:<br>  vim-common.x86_64 2:7.4.629-5.el6_8.1                                                                                      <br><br>Complete!<br>====<br><br>의존성 체크 =&gt; 관련 패키지 다운로드 =&gt; 설치, 업데이트, 삭제 =&gt; 확인<br><br>동일 패키지의 여러 버젼이 설치된 것과 관련된 다른 문서들도 안내드립니다.<br><br>How to remove the older versions of a package which has multiple versions installed on Red Hat Enterprise Linux? <br>  https://access.redhat.com/solutions/38644<br><br>원인: &quot;Interruption in the up2date or yum update process caused the installation of multiple versions of the same package.&quot;<br><br>Yum fails because multiple packages in duplicated versions on the system are present <br>  https://access.redhat.com/solutions/2540511<br><br>원인: &quot;Unfinished yum update e.g. by unexpected reboot or accidental shutdown resulted in presence of many duplicated packages on the system which was preventing any new installation depending on any of the duplicated packages from happening.&quot;<br><br>감사합니다.<br><br><publishedDate>2018-09-18T01:47:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NmLsnIAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-18T01:23:54Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-18T01:23:54Z</b><br><br>답변 감사합니다.<br>작업이 정상적으로 끝나지 않았을 가능성에대해서 말씀 주셨는데요...<br>패키지 업데이트 되는 프로세스가 궁금합니다.<br>기존 패키지가 있는 상태에서 최신패키지를 모두 설치하고 그다음에 구버전 패키지를 삭제하는 것인가요?<br>신규패키지는 모두 설치되어 있는것 같은데<br>구 패키지가 그대로 남아 있어 궁금합니다.<br>확인 바랍니다.<br><br><publishedDate>2018-09-18T01:23:54Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NmLMwIAN"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-18T00:57:00Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-18T00:57:25Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>일반적인 원인으로는 기존 업데이트 작업이 정상적으로 끝나지 않았을 가능성이 있습니다.<br><br>다음 문서를 참고로 package-cleanup 명령어를 이용하여 중복을 제거한 후 다시 업데이트하시기 바랍니다.<br><br>Yum fails with dependency error because multiple versions of the same package are installed on the system. <br>  https://access.redhat.com/solutions/21294<br><br>감사합니다.<br><br><publishedDate>2018-09-18T00:56:59Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Nm3pJIAR"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-17T02:19:15Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-17T02:19:14Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>해당 케이스에 sosreport 가 첨부되었습니다.<br>관련 내용은 조사후 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-09-17T02:19:14Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Nm3okIAB"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-17T02:17:09Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-17T02:17:09Z</b><br><br>추가로 드롭박스 해당 파일에 대한 링크 부탁드립니다.<br>감사합니다.<br><br><publishedDate>2018-09-17T02:17:09Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Nm3asIAB"><br>======================<br><b>생성계정 : Shin, Jake Jaewook</b><br><b>생성날짜 : 2018-09-17T01:23:05Z</b><br><b>마지막 답변자 : Shin, Jake Jaewook</b><br><b>마지막 수정 일자 : 2018-09-17T01:23:05Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는<br>Senior Technical Support Engineer 신재욱입니다.<br><br>현재 올려주신 문의내용에 대해 확인 중이며<br>관련 내용을 업데이트드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-09-17T01:23:05Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>문제가 된 작업은 18년 3월 25일이고(yum history ID : 24) , 9월 16일에 패키지 업데이트 작업(yum history ID :25) 하면서 아래와 같은 결과가 확인되었습니다.<br>duplicate 메시지가 출력되었고, 실제 서버에서 rpm -qa |grep 으로 확인한 결과 해당 패키지들이 2개씩 확인되었습니다.<br><br>update 명령으로 작업을 하였는데, install 된 원인과 <br>운영중에 이전버전을 삭제해도 서비스에 영향이 없는지, 그리고 올바른 삭제 방법 가이드 부탁드립니다.<br><br>해당 서버 sosreport 는 드롭박스에 첨부하였습니다.<br>확인 부탁드립니다.  <br>감사합니다.<br> (파일명 : sosreport-SLQEAIAL01-20180916143913.tar.xz)<br>======================<br>root@SLQEAIAL01 /root # yum history<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>ID     | Command line             | Date and time    | Action(s)      | Altered<br>-------------------------------------------------------------------------------<br>    25 | -d 2 -y update           | 2018-09-16 10:13 | I, U           |    3 PP<br>    24 | -d 2 -y update           | 2018-03-25 09:04 | I, U           |   65 *&lt;<br>    23 | install syslinux         | 2017-08-14 14:18 | Install        |    1 &gt;&lt;<br>    22 | update                   | 2017-07-08 22:10 | E, I, U        |   13 &gt;&lt;<br>    21 | remove java-1.7.0*       | 2017-06-12 14:35 | Erase          |   19 &gt;&lt;<br>    20 | update                   | 2017-01-24 09:44 | I, U           |   38 &gt;&lt;<br>    19 | update                   | 2016-05-21 20:19 | Update         |   19 &gt;E<br>    18 | remove PackageKit-comman | 2016-05-16 14:02 | Erase          |    1 P&lt;<br>    17 | update                   | 2016-03-20 19:12 | Update         |    9 &gt;<br>    16 | update                   | 2016-03-20 18:44 | I, O, U        |  896 E&lt;<br>    15 | install open-vm-tools*   | 2015-11-06 21:33 | Install        |    2 &gt;<br>    14 | remove open-vm-tools*    | 2015-11-06 21:21 | Erase          |    2<br>    13 | install telnet.x86_64    | 2015-10-21 10:16 | Install        |    1 P&lt;<br>    12 | localinstall ./libuser-0 | 2015-07-29 10:39 | I, U           |    4 &gt;<br>    11 | install sapconf          | 2015-07-21 13:36 | Install        |    2<br>    10 | install compat-locales-s | 2015-07-21 13:35 | Install        |    2<br>     9 | install sysfsutils uuidd | 2015-07-21 11:08 | Install        |    9<br>     8 | install libaio libaio-de | 2015-07-21 11:07 | Install        |    2<br>     7 | install xinetd           | 2015-07-21 11:04 | Install        |    1<br>     6 | localinstall ./ntp-4.2.6 | 2015-07-21 10:21 | Update         |    2<br>history list<br>root@SLQEAIAL01 /root #<br>root@SLQEAIAL01 /root # yum history info 25<br>Loaded plugins: langpacks, product-id, search-disabled-repos, subscription-manager<br>This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.<br>Transaction ID : 25<br>Begin time     : Sun Sep 16 10:13:38 2018<br>Begin rpmdb    : 1691:47e48afcd43d642a0a4dd66824d66bf96dc78eb8<br>End time       :                           (0 seconds)<br>End rpmdb      : 1692:98acc44c854b50b99be5e2d26d370099ec9847ce<br>User           : root &lt;root&gt;<br>Return-Code    : Success<br>Command Line   : -d 2 -y update<br>Transaction performed with:<br>    Installed     rpm-4.11.3-17.el7.x86_64                  @rhel7.2_update<br>    Installed     subscription-manager-1.15.9-15.el7.x86_64 @rhel7.2_update<br>    Installed     yum-3.4.3-132.el7.noarch                  @rhel7.2_update<br>Packages Altered:<br>    Dep-Install libfastjson-0.99.4-2.el7.x86_64              @pm<br>    Updated     rsyslog-7.4.7-12.el7.x86_64                  @rhel7.2_update<br>    Update              8.24.0-16.el7_5.4.x86_64             @pm<br>    Updated     rsyslog-mmjsonparse-7.4.7-12.el7.x86_64      @rhel7.2_update<br>    Update                          8.24.0-16.el7_5.4.x86_64 @pm<br>Rpmdb Problems:<br>    requires: redcastle-4.0.3-1.x86_64 has missing requires of librcs2o.so()(64bit)<br>        Installed     redcastle-4.0.3-1.x86_64 installed<br>    duplicate: 32:bind-libs-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-libs-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-libs-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: 32:bind-libs-lite-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-libs-lite-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-libs-lite-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: 32:bind-license-9.9.4-51.el7_4.2.noarch is a duplicate with 32:bind-license-9.9.4-29.el7_2.4.noarch<br>        Installed     32:bind-license-9.9.4-51.el7_4.2.noarch installed<br>    duplicate: 32:bind-pkcs11-libs-9.9.4-51.el7_4.2.x86_64 is a duplicate with 32:bind-pkcs11-libs-9.9.4-29.el7_2.4.x86_64<br>        Installed     32:bind-pkcs11-libs-9.9.4-51.el7_4.2.x86_64 installed<br>    duplicate: device-mapper-multipath-libs-0.4.9-111.el7_4.2.x86_64 is a duplicate with device-mapper-multipath-libs-0.4.9-85.el7_2.6.x86_64<br>        Installed     device-mapper-multipath-libs-0.4.9-111.el7_4.2.x86_64 installed<br>    duplicate: dracut-033-502.el7_4.1.x86_64 is a duplicate with dracut-033-359.el7.x86_64<br>        Installed     dracut-033-502.el7_4.1.x86_64 installed<br>    duplicate: dracut-config-rescue-033-502.el7_4.1.x86_64 is a duplicate with dracut-config-rescue-033-359.el7.x86_64<br>        Installed     dracut-config-rescue-033-502.el7_4.1.x86_64 installed<br>    duplicate: dracut-network-033-502.el7_4.1.x86_64 is a duplicate with dracut-network-033-359.el7.x86_64<br>        Installed     dracut-network-033-502.el7_4.1.x86_64 installed<br>    duplicate: 1:java-1.8.0-openjdk-1.8.0.111-1.b15.el7_2.x86_64 is a duplicate with 1:java-1.8.0-openjdk-1.8.0.65-3.b17.el7.x86_64<br>        Installed     1:java-1.8.0-openjdk-1.8.0.111-1.b15.el7_2.x86_64 installed<br>    duplicate: 1:java-1.8.0-openjdk-headless-1.8.0.111-1.b15.el7_2.x86_64 is a duplicate with 1:java-1.8.0-openjdk-headless-1.8.0.65-3.b17.el7.x86_64<br>        Installed     1:java-1.8.0-openjdk-headless-1.8.0.111-1.b15.el7_2.x86_64 installed<br>    duplicate: kmod-20-15.el7_4.7.x86_64 is a duplicate with kmod-20-8.el7_2.x86_64<br>        Installed     kmod-20-15.el7_4.7.x86_64 installed<br>    duplicate: kpartx-0.4.9-111.el7_4.2.x86_64 is a duplicate with kpartx-0.4.9-85.el7_2.6.x86_64<br>        Installed     kpartx-0.4.9-111.el7_4.2.x86_64 installed<br>    duplicate: krb5-libs-1.15.1-8.el7.x86_64 is a duplicate with krb5-libs-1.13.2-10.el7.x86_64<br>        Installed     krb5-libs-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-pkinit-1.15.1-8.el7.x86_64 is a duplicate with krb5-pkinit-1.13.2-10.el7.x86_64<br>        Installed     krb5-pkinit-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-server-1.15.1-8.el7.x86_64 is a duplicate with krb5-server-1.13.2-10.el7.x86_64<br>        Installed     krb5-server-1.15.1-8.el7.x86_64 installed<br>    duplicate: krb5-workstation-1.15.1-8.el7.x86_64 is a duplicate with krb5-workstation-1.13.2-10.el7.x86_64<br>        Installed     krb5-workstation-1.15.1-8.el7.x86_64 installed<br>    duplicate: libcollection-0.6.2-27.el7.x86_64 is a duplicate with libcollection-0.6.2-25.el7.x86_64<br>        Installed     libcollection-0.6.2-27.el7.x86_64 installed<br>    duplicate: libgudev1-219-42.el7_4.7.x86_64 is a duplicate with libgudev1-219-19.el7_2.20.x86_64<br>        Installed     libgudev1-219-42.el7_4.7.x86_64 installed<br>    duplicate: libini_config-1.3.0-27.el7.x86_64 is a duplicate with libini_config-1.2.0-25.el7.x86_64<br>        Installed     libini_config-1.3.0-27.el7.x86_64 installed<br>    duplicate: libselinux-2.5-11.el7.x86_64 is a duplicate with libselinux-2.2.2-6.el7.x86_64<br>        Installed     libselinux-2.5-11.el7.x86_64 installed<br>    duplicate: libselinux-python-2.5-11.el7.x86_64 is a duplicate with libselinux-python-2.2.2-6.el7.x86_64<br>        Installed     libselinux-python-2.5-11.el7.x86_64 installed<br>    duplicate: libselinux-utils-2.5-11.el7.x86_64 is a duplicate with libselinux-utils-2.2.2-6.el7.x86_64<br>        Installed     libselinux-utils-2.5-11.el7.x86_64 installed<br>    duplicate: libsemanage-2.5-8.el7.x86_64 is a duplicate with libsemanage-2.1.10-18.el7.x86_64<br>        Installed     libsemanage-2.5-8.el7.x86_64 installed<br>    duplicate: libsemanage-python-2.5-8.el7.x86_64 is a duplicate with libsemanage-python-2.1.10-18.el7.x86_64<br>        Installed     libsemanage-python-2.5-8.el7.x86_64 installed<br>    duplicate: libsepol-2.5-6.el7.x86_64 is a duplicate with libsepol-2.1.9-3.el7.x86_64<br>        Installed     libsepol-2.5-6.el7.x86_64 installed<br>    duplicate: libtirpc-0.2.4-0.10.el7.x86_64 is a duplicate with libtirpc-0.2.4-0.6.el7.x86_64<br>        Installed     libtirpc-0.2.4-0.10.el7.x86_64 installed<br>    duplicate: linux-firmware-20170606-58.gitc990aae.el7_4.noarch is a duplicate with linux-firmware-20150904-43.git6ebf5d5.el7.noarch<br>        Installed     linux-firmware-20170606-58.gitc990aae.el7_4.noarch installed<br>    duplicate: nspr-4.13.1-1.0.el7_3.x86_64 is a duplicate with nspr-4.11.0-1.el7_2.x86_64<br>        Installed     nspr-4.13.1-1.0.el7_3.x86_64 installed<br>    duplicate: nss-softokn-freebl-3.28.3-8.el7_4.i686 is a duplicate with nss-softokn-freebl-3.16.2.3-13.el7_1.x86_64<br>        Installed     nss-softokn-freebl-3.28.3-8.el7_4.i686 installed<br>    duplicate: nss-util-3.28.4-3.el7.x86_64 is a duplicate with nss-util-3.21.4-1.el7_2.x86_64<br>        Installed     nss-util-3.28.4-3.el7.x86_64 installed<br>    duplicate: ntp-4.2.6p5-25.el7_3.2.x86_64 is a duplicate with ntp-4.2.6p5-22.el7_2.2.x86_64<br>        Installed     ntp-4.2.6p5-25.el7_3.2.x86_64 installed<br>    duplicate: ntpdate-4.2.6p5-25.el7_3.2.x86_64 is a duplicate with ntpdate-4.2.6p5-22.el7_2.2.x86_64<br>        Installed     ntpdate-4.2.6p5-25.el7_3.2.x86_64 installed<br>    duplicate: openssh-7.4p1-13.el7_4.x86_64 is a duplicate with openssh-6.6.1p1-25.el7_2.x86_64<br>        Installed     openssh-7.4p1-13.el7_4.x86_64 installed<br>    duplicate: openssh-clients-7.4p1-13.el7_4.x86_64 is a duplicate with openssh-clients-6.6.1p1-25.el7_2.x86_64<br>        Installed     openssh-clients-7.4p1-13.el7_4.x86_64 installed<br>    duplicate: 1:openssl-1.0.2k-8.el7.x86_64 is a duplicate with 1:openssl-1.0.1e-51.el7_2.7.x86_64<br>        Installed     1:openssl-1.0.2k-8.el7.x86_64 installed<br>    duplicate: 1:openssl-libs-1.0.2k-8.el7.x86_64 is a duplicate with 1:openssl-libs-1.0.1e-51.el7_2.7.x86_64<br>        Installed     1:openssl-libs-1.0.2k-8.el7.x86_64 installed<br>    duplicate: policycoreutils-2.5-17.1.el7.x86_64 is a duplicate with policycoreutils-2.2.5-20.el7.x86_64<br>        Installed     policycoreutils-2.5-17.1.el7.x86_64 installed<br>    duplicate: rpcbind-0.2.0-42.el7.x86_64 is a duplicate with rpcbind-0.2.0-32.el7.x86_64<br>        Installed     rpcbind-0.2.0-42.el7.x86_64 installed<br>    duplicate: selinux-policy-3.13.1-166.el7_4.7.noarch is a duplicate with selinux-policy-3.13.1-60.el7.noarch<br>        Installed     selinux-policy-3.13.1-166.el7_4.7.noarch installed<br>    duplicate: setools-libs-3.3.8-1.1.el7.x86_64 is a duplicate with setools-libs-3.3.7-46.el7.x86_64<br>        Installed     setools-libs-3.3.8-1.1.el7.x86_64 installed<br>    duplicate: sudo-1.8.19p2-11.el7_4.x86_64 is a duplicate with sudo-1.8.6p7-16.el7.x86_64<br>        Installed     sudo-1.8.19p2-11.el7_4.x86_64 installed<br>    duplicate: syslinux-4.05-13.el7.x86_64 is a duplicate with syslinux-4.05-12.el7.x86_64<br>        Installed     syslinux-4.05-13.el7.x86_64 installed<br>    duplicate: systemd-219-42.el7_4.7.x86_64 is a duplicate with systemd-219-19.el7_2.20.x86_64<br>        Installed     systemd-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-libs-219-42.el7_4.7.x86_64 is a duplicate with systemd-libs-219-19.el7_2.20.x86_64<br>        Installed     systemd-libs-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-python-219-42.el7_4.7.x86_64 is a duplicate with systemd-python-219-19.el7_2.20.x86_64<br>        Installed     systemd-python-219-42.el7_4.7.x86_64 installed<br>    duplicate: systemd-sysv-219-42.el7_4.7.x86_64 is a duplicate with systemd-sysv-219-19.el7_2.20.x86_64<br>        Installed     systemd-sysv-219-42.el7_4.7.x86_64 installed<br>    conflicts: libselinux-2.5-11.el7.x86_64 has installed conflicts systemd &lt; ('0', '219', '20'): systemd-219-19.el7_2.20.x86_64<br>        Installed     libselinux-2.5-11.el7.x86_64   installed<br>        Installed     systemd-219-19.el7_2.20.x86_64 @patch<br>    conflicts: openssh-7.4p1-13.el7_4.x86_64 has installed conflicts selinux-policy &lt; ('0', '3.13.1', '92'): selinux-policy-3.13.1-60.el7.noarch<br>        Installed     openssh-7.4p1-13.el7_4.x86_64       installed<br>        Installed     selinux-policy-3.13.1-60.el7.noarch @rhel7.2_update<br>    conflicts: systemd-219-42.el7_4.7.x86_64 has installed conflicts dracut &lt; ('0', '033', '499'): dracut-033-359.el7.x86_64<br>        Installed     dracut-033-359.el7.x86_64     @rhel7.2_update<br>        Installed     systemd-219-42.el7_4.7.x86_64 installed<br>history info</issue><cep>false</cep></case>