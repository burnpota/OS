======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-09-13T01:32:00Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-09-30T10:12:29Z</b><br><b>id : 500A000000by8ahIAA</b><br>======================<br><br><b><font size=15>
제목  : NFS로 마운트 되어 있는 화일 삭제 실패
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요?<br>NFS로 마운트 되어있는 디랙토리 안의 특정 디랙토리를 삭제하고자 하였으나 <br>아래와 같은 형식의 에러 메시지를 생성하며 삭제되지 않습니다.<br>rm: cannot lstat `/vvip/xxx/xxx': Input/output error<br><br>삭제되지 않는 디렉토리에 진입 후 ls -al 커맨드를 적용하면<br>퍼미션과 그룹 소유주가 정상적으로 나오지 않고 ?로 표시됩니다.<br><br>이 디렉토리는 다른 시스템과도 공유되어 사용되고 있습니다.<br>해당 디렉토리를 강제적으로 삭제 할수 있는 방법이 있는지 문의 드립니다.<br>감사합니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 5.6</b><br><b>타입  : Other</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br><hostname>vvip-ap01</hostname><br><br><br><comment id="a0aA000000Nlgy0IAB"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-09-14T04:55:40Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-09-14T04:55:40Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service를 이용해 주셔서 감사합니다.<br><br>input / output error 뿐만 아니라 ls -l 의 결과에서 물음표도 발생한다고 전달 받았습니다.<br>따라서 먼저 영향도가 적은 퍼미션 관련 조치사항을 안내드렸었습니다.<br>이미 알고계신 내용이겠지만 지금 부터는 아래와 같은 항목에 대한 확인 결과가 필요합니다.<br><br> 1. 상위 디렉토리에 해당 유저의 실행 퍼미션 (+x) 이 있는지 확인해보시기 바랍니다.<br><br> 2. /vvip-nas 디렉토리를 umount 하고 마운트포인트를 제거한 뒤 디렉토리 생성 후 다시 마운트 해보시기 바랍니다.<br><br> 3. vvip-ap01 는 클라이언트이기 때문에 실제 볼륨의 문제를 제가 예상하기는 어렵습니다만<br>저희 KCS 에 따르면 파일시스템의 문제일 가능성이 있으니 NAS 쪽에서 실제로 문제가 없는지 확인하고 파일시스템 체크를 해보면 좋을것 같습니다.<br><br>위의 항목을 확인 하신 다음 결과 공유 부탁드립니다.<br><br>감사합니ㅏ.<br><br><publishedDate>2018-09-14T04:55:40Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NlQw5IAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-13T09:16:17Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-13T09:16:17Z</b><br><br>보내주신 내용 잘 보았습니다.<br>허나 보내주신 링크의 메시지는 <br>ls: cannot access /tmp/test/subdir: Permission denied<br><br>위와 같이 퍼미션 관련 메시지고 저희쪽 같은 경우는 <br>rm: cannot lstat `/vvip-nas/xxx/xxx': Input/output error <br><br>위와 같은 메시지입니다. <br>그리하여 권한에 관련된 문제는 아닌것 같습니다.<br><br>그리하여 파일시스템의 손상으로 판단되는데<br> umount 후 해당 nas측에서 파일시스템체크(fsck)를 수행하면 되는것인지요?<br>확인 부탁드립니다.<br>감사합니다.<br><br><publishedDate>2018-09-13T09:16:17Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NlQWvIAN"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-09-13T08:48:51Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-09-13T08:48:51Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>빠른 회신 감사드립니다.<br>보내주신 KCS 를 저도 확인해보았습니다만, 그 KCS 보다 아래 첨부문서 [1] 을 먼저 참조해보시면 좋을것 같습니다.<br><br>[1] &quot;ls output returns question marks instead of file permission information&quot;<br>https://access.redhat.com/solutions/379773<br><br>감사합니다.<br><br><publishedDate>2018-09-13T08:48:51Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NlPvdIAF"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-09-13T08:12:40Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-09-13T08:12:39Z</b><br><br>제가 오타가 있었습니다.<br>/vvip-nas 디렉토리 하부 디렉토리에 대한 메시지가 맞습니다.<br>로컬볼륨이 아님을 분명히 말씀드립니다.<br>nas에 연결되어 있는 디렉토리이고 특정 일부 디렉토리를 삭제했을때 아래와 같은  형식입니다.<br>rm: cannot lstat `/vvip-nas/xxx/xxx': Input/output error<br><br>제가 찾아본 결과 아래와 같은 링크를 확인하였으며<br>https://access.redhat.com/solutions/58023<br><br>이 문서의 절차대로 해도 되는건지 문의 드립니다.<br>감사합니다.<br><br><publishedDate>2018-09-13T08:12:39Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000NlP9lIAF"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-09-13T07:12:44Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-09-13T07:31:49Z</b><br><br>// internal<br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>sosreport 를 확인해본 결과 /vvip/xxx/xxx 는 로컬 볼륨으로 확인되며 다른시스템과 공유하여 사용하실 수 없습니다.<br><br>~~~<br>$ cat etc/fstab | grep vvip<br>...<br>/dev/vg1/vvip           /vvip                   ext3    defaults        0 0   &lt;&lt;<br>SLPNASN01:/vvipnas     /vvip-nas               nfs     rw,tcp,bg,intr,rsize=8192,wsize=8192,timeo=15,nosuid,_netdev 0 0<br>...<br><br>$ cat proc/mounts | grep vvip<br>...<br>/dev/vg1/vvip /vvip ext3 rw,data=ordered 0 0   &lt;&lt;<br>SLPNASN01:/vvipnas /vvip-nas nfs rw,nosuid,vers=3,rsize=8192,wsize=8192,hard,intr,proto=tcp,timeo=15,retrans=2,sec=sys,addr=SLPNASN01 0 0<br>...<br>~~~<br><br>케이스 설명에서는 /vvip/xxx/xxx 디렉토리로 접근 시도를 하신것으로 보이며, 공유되는 영역은 SLPNASN01:/vvipnas 에 마운트 된 /vvip-nas 디렉토리 입니다.<br>만약 /vvip 볼륨을 다른 시스템과 해당 영역을 공유하여 사용하신다면 어떤 방식으로 파일시스템을 공유하고 있으신지 정보 전달 부탁드립니다.<br><br>추가적으로 ls 결과 ?? 발생하는 증상에 대한 KCS 를 첨부하여 드립니다.<br><br>&quot;ls output returns question marks instead of file permission information&quot;<br>https://access.redhat.com/solutions/379773<br><br>마지막으로 RHEL 5 제품은 라이프 사이클 기준으로 End of Extended Life Phase 단계에 해당합니다.<br>Extended Life Phase의 제품 버전의 경우, Red Hat은 제한된 기술 지원을 제공 할 것입니다.<br>이 단계에서 버그 수정, 보안 픽스, 하드웨어 지원 또는 근본 원인 분석을 사용할 수 없으며 기존 설치에서만 지원이 제공됩니다.<br>현재 해당 계정에는 ELS 서브스크립션을 가지고 계시지 않으므로 문제 발생시에 원인 분석이나 기술지원이 어려운 부분 양해부탁드립니다.<br>RHEL 라이프 사이클에 대하여 아래의 URL을 확인 부탁드립니다.<br><br>Red Hat Enterprise Linux Life Cycle<br>https://access.redhat.com/support/policy/updates/errata/<br><br>감사합니다.<br><br><publishedDate>2018-09-13T07:12:44Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NlNiaIAF"><br>======================<br><b>생성계정 : Park, HyunYick</b><br><b>생성날짜 : 2018-09-13T04:49:56Z</b><br><b>마지막 답변자 : Park, HyunYick</b><br><b>마지막 수정 일자 : 2018-09-13T04:49:56Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>Platform Support 를 담당하고 있는 Technical Support Engineer 박현익 입니다.<br>올려주신 문의내용은 현재 자세히 살펴보고 있는중이며, 확인 되는대로 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-09-13T04:49:56Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>