======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2018-09-06T07:54:46Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-09-22T10:10:52Z</b><br><b>id : 500A000000bxEo0IAE</b><br>======================<br><br><b><font size=15>
제목  : keepalived 서비스 no-failback 설정
</font></b><br><br>======================<br><b>사전문의<br></b><br>안녕하세요,<br>keepalived 서비스로 서버 이중화 설정을 해놓은 두 서버에서 <br>Active 서버의 vip가 Backup 서버로 failover된 상태로 계속 유지할 수 있는 옵션값이 있는지 문의드립니다. <br><br>현재 설정값은 <br>&lt;서버 A&gt;<br>  ! Configuration File for keepalived<br>   vrrp_instance VI_1 {<br>   state BACKUP<br>   nopreempt<br>   interface eth0<br>   virtual_router_id 1<br>   priority 50<br>   advert_int 1<br>   virtual_ipaddress {<br>    192.168.1.2/24<br>    } <br>  }<br><br>&lt;서버B&gt;<br>  ! Configuration File for keepalived<br>   vrrp_instance VI_1 {<br>   state BACKUP<br>   nopreempt<br>   interface eth0<br>   virtual_router_id 1<br>   priority 50<br>   advert_int 1<br>   virtual_ipaddress {<br>     192.168.1.2/24<br>   }<br><br>로 동일하게 설정 되어있습니다.<br>위 설정에서 테스트 결과 vip를 소유한 서버 A가 셧다운될 시 서버B로 failover가 되고<br>서버A가 부팅되면 서버B에 있는 vip가 서버A에 자동으로 failback 됩니다.<br><br>vip 소유권이 자동으로 failback 되지 않기 위한 방법 가이드 부탁드립니다.<br><br>또, 현재 Active 상태인(vip의 소유권을 가지고 있는) 서버가 어떤 서버인지 확인할 수 있는 방법이 있는지 확인 부탁드립니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.3</b><br><b>타입  : Other</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000NXVSeIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-09-07T01:26:30Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-09-07T01:26:29Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>요청하신 기능은 /etc/keepalived/keepalived.conf 설정파일내에 nopreempt 파라미터로 구현이 가능할 것입니다.<br>자세한 예제와 설명은 아래의 참고문서[1]을 활용하십시오.<br><br>[ 참고문서 ]<br><br>[1] How to prevent keepalived vip being taken over by higher priority node when it comes back online?<br>- https://access.redhat.com/solutions/3159251<br><br>감사합니다.<br><br><publishedDate>2018-09-07T01:26:29Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000NXVQiIAP"><br>======================<br><b>생성계정 : Moon, Jack, Jong Young</b><br><b>생성날짜 : 2018-09-07T01:22:45Z</b><br><b>마지막 답변자 : Moon, Jack, Jong Young</b><br><b>마지막 수정 일자 : 2018-09-07T01:22:44Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Service 를 이용해주셔서 감사합니다.<br><br>저는 Platform Support 를 담당하고 있는 Senior Technical Support Engineer 문종영 입니다.<br>올려주신 문의내용은 현재 자세히 살펴보고 있는중이며, 관련된 내용이 확인이 되는대로 업데이트 드리도록 하겠습니다.<br><br>감사합니다.<br><br><publishedDate>2018-09-07T01:22:44Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>