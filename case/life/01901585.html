======================<br><b>생성계정 : 타임게이트 (주)</b><br><b>생성날짜 : 2017-08-01T02:47:39Z</b><br><b>마지막 답변자 : 타임게이트 (주)</b><br><b>마지막 수정 일자 : 2017-08-03T01:49:54Z</b><br><b>id : 500A000000Y4sk1IAB</b><br>======================<br><br><b><font size=15>
제목  : 고객정보(담당자:이태우/연락처:010-7575-3596) , 지원엔지니어(담당자:이민옥/연락처:010-3942-2220) , 아파치와 파이썬 연동 후 아파치 서버 기동 시 실패
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>1. 아파치 설정에서 하기 명령어를 적용하면 응답이 돌아오지 않음<br><br>WSGIProcessGroup slot  &lt;-- 이옵션을 넣으면 기동 안됨<br><br> <br><br>2. 해당 행을 제외하고 실행하면 실행은 되지만,<br><br>아파치 서버 최초 실행시 모듈 초기화가 되지 않는 것으로 추정됨.<br><br> <br><br>3. 2와 같은 상황에서 Postman 등을 이용하여 API를 호출하여 초기화를 시켜준 후,<br><br>접속하면 정상적으로 서비스가 되는 것으로 판단됨<br><br>어디서 문제가 발생했습니까? 어떤 환경에서 발생했습니까?<br><br>redhat linux 7.2 bundle apache 2.4.6 에서 anacoda python 3.5 연동 mod_wsgi.so 사용<br><br>언제 문제가 발생했습니까? 이러한 문제가 자주 발생합니까? 반복적으로 발생합니까? 특정 시간에 발생합니까?<br><br>WSGIProcessGroup slot  옵션만 넣으면 발생.<br><br>해결 기간이나 업무에 미치는 영향에 대한 정보를 제공해 주시겠습니까?<br><br>서비스와 연관되어 빠른 가이드 부탁 드립니다.<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 7.2</b><br><b>타입  : Configuration issue</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 2 (High)</b><br><enhancedSLA>false</enhancedSLA><contactIsPartner>false</contactIsPartner><tags/><br><br><comment id="a0aA000000K6pctIAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-08-01T07:13:23Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-08-01T07:13:23Z</b><br><br>안녕하세요,<br><br>&quot;초기에 해당 모듈을 사용하려 하였으나, Anaconda Python을 이용하다 보니, 그 것에 맞추어 별도 소스를 받아서 컴파일 하였습니다.&quot;<br><br>-&gt;<br>말씀드렸다시피, 아래의 조합 외에 Red Hat에서 제공되지 않는 3rd-party 모듈은 support 가 되지 않습니다.<br><br>1) RHEL httpd + python-2.7.5-48 + mod_wsgi from 'yum install'<br>2) RHSCL httpd24-httpd + (python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi)<br><br>죄송하지만 Anaconda Python 3.5, 별도의 mod_wsgi 에 대한 오류는 Red Hat에서 support 해드릴 수가 없습니다.<br><br>감사합니다.<br><br><publishedDate>2017-08-01T07:13:23Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000K6pSGIAZ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-08-01T06:55:21Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-08-01T06:55:20Z</b><br><br>안녕하세요.<br>빠른 대응 감사합니다.<br><br>알려주신 방법은 &quot;anaconda python 3.5&quot;과 <br>RHEL에서 제공하는 httpd &amp; mod_wsgi를 사용하시거나, 또는 RHSCL(Red Hat Software Collection) repo에서 제공하는 python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi를  연동시에 테스트 해보라는 건지요?<br><br><br>(Park, Min Woo에 회신)<br>&gt; 안녕하세요, <br>&gt; <br>&gt; 우선 Red Hat에서 제공하는 python &amp; mod_wsgi 를 사용하셔야 support가 가능한데, &quot;anaconda python 3.5&quot;는 Red Hat에서 제공되지 않은 3rd-party python 입니다.<br>&gt; 따라서 &quot;yum install mod_wsgi&quot;을 통해 Red Hat에서 제공되는 mod_wsgi 모듈을 사용하셨다 해도, support가 불가합니다.<br>&gt; <br>&gt; python-2.7.5-48.el7.x86_64이 RHEL 7에서 제공되는 최신 python package 이며,<br>&gt; RHSCL(Red Hat Software Collection) repo에서 제공하는 python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi를 이용하실 수 있습니다.<br>&gt; <br>&gt; KCS &quot;How to create a simple python app with mod_wsgi and Apache httpd or httpd24&quot; [1] 을 참조하시면,<br>&gt; Step 1) 아래와 같이 RHEL에서 제공하는 httpd &amp; mod_wsgi를 사용하시거나, 또는 RHSCL에서 제공하는 httpd24-httpd &amp; (python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi 중 하나)를 사용하실 수 있습니다.<br>&gt; <br>&gt; ~~~~~<br>&gt; Install httpd &amp; mod_wsgi<br>&gt; Or <br>&gt; Install httpd24-httpd and one of python27-mod_wsgi, python33-mod_wsgi, or rh-python34-mod_wsgi<br>&gt; ~~~~~<br>&gt; <br>&gt; KCS [1]을 참조하시어 테스트 및 결과 공유 부탁드립니다.<br>&gt; 여전히 에러가 발생하신다면, debug level의 httpd error_log와 더불어 KCS [2]를 참조하여 sosreport를 수집하여 업로드 부탁드립니다.<br>&gt; <br>&gt; Regards,  <br>&gt; Minwoo Park <br>&gt; <br>&gt; <br>&gt; [1] https://access.redhat.com/solutions/220405<br><br><publishedDate>2017-08-01T06:55:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000K6pOPIAZ"><br>======================<br><b>생성계정 : (주), 타임게이트</b><br><b>생성날짜 : 2017-08-01T06:50:02Z</b><br><b>마지막 답변자 : (주), 타임게이트</b><br><b>마지막 수정 일자 : 2017-08-01T06:50:02Z</b><br><br>안녕하세요.<br>요청하신 부분에 대해 고객이 확인 내용을 전달합니다.<br><br>1. &quot;slot&quot;이라는 group이 OS 상에 정의가 되어 있고, 이용 가능한 group 인가요?<br>=&gt; process group으로 os 상의 그룹과는 다른 것으로 알고 있습니다.<br>=&gt; 예제들을 보아도 daemon process의 이름을 적는 것으로 되어 있습니다.<br><br>2. mod_wsgi.so 모듈은 &quot;yum install mod_wsgi&quot; 릍 통해 받으신 모듈을 이용하시는 건가요?<br>=&gt; 초기에 해당 모듈을 사용하려 하였으나, Anaconda Python을 이용하다 보니, 그 것에 맞추어 별도 소스를 받아서 컴파일 하였습니다.<br><br>3. 위 옵션 추가 후 기동이 되지 않을때의 apache error_log 나 기타 에러 메시지가 있으면 업로드 부탁드립니다.<br>=&gt; 파일 첨부합니다.<br>=&gt; 에러 로그에서 두 번 호출. 두 번째 호출 시, 프로세스 id가 바뀜<br>=&gt; PID 78134, 78162, 78213 참조<br><br> 4. &quot;해당 행을 제외하고 실행하면 실행은 되지만, 아파치 서버 최초 실행시 모듈 초기화가 되지 않는 것으로 추정됨.&quot; =&gt; 확인을 위해 loglevel을 debug로 설정 후에 아파치 구동 후 error_log를 업로드 부탁드립니다.<br>=&gt; 3, 4번의 경우 Debug 모드로 바꾼 후 발생한 로그 전달드립니다.<br>=&gt; slot_api에서 faq_api를 호출(post 요청) 하는 부분에서 계속 프로세스가 죽는 것으로 추정됩니다.<br>     (프로세스 id가 매호출마다 바뀜 / 죽고 새로 뜨는 것으로 추정)<br><br>(Park, Min Woo에 회신)<br>&gt; 안녕하세요,<br>&gt; <br>&gt; WSGIProcessGroup slot  <br>&gt; <br>&gt; WSGIProcessGroup 의 정의는 다음과 같습니다.<br>&gt; ~~~~~<br>&gt; Description:<br>Sets which process group WSGI application is assigned to.<br>&gt; ~~~~~<br>&gt; <br>&gt; 1. &quot;slot&quot;이라는 group이 OS 상에 정의가 되어 있고, 이용 가능한 group 인가요?<br>&gt; 2. mod_wsgi.so 모듈은 &quot;yum install mod_wsgi&quot; 릍 통해 받으신 모듈을 이용하시는 건가요?<br>&gt; 3. 위 옵션 추가 후 기동이 되지 않을때의 apache error_log 나 기타 에러 메시지가 있으면 업로드 부탁드립니다.<br>&gt; 4. &quot;해당 행을 제외하고 실행하면 실행은 되지만, 아파치 서버 최초 실행시 모듈 초기화가 되지 않는 것으로 추정됨.&quot; =&gt; 확인을 위해 loglevel을 debug로 설정 후에 아파치 구동 후 error_log를 업로드 부탁드립니다.<br>&gt; <br>&gt; 감사합니다.<br><br><publishedDate>2017-08-01T06:50:02Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000K6p0vIAB"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-08-01T06:08:07Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-08-01T06:08:07Z</b><br><br>안녕하세요, <br><br>우선 Red Hat에서 제공하는 python &amp; mod_wsgi 를 사용하셔야 support가 가능한데, &quot;anaconda python 3.5&quot;는 Red Hat에서 제공되지 않은 3rd-party python 입니다.<br>따라서 &quot;yum install mod_wsgi&quot;을 통해 Red Hat에서 제공되는 mod_wsgi 모듈을 사용하셨다 해도, support가 불가합니다.<br><br>python-2.7.5-48.el7.x86_64이 RHEL 7에서 제공되는 최신 python package 이며,<br>RHSCL(Red Hat Software Collection) repo에서 제공하는 python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi를 이용하실 수 있습니다.<br><br>KCS &quot;How to create a simple python app with mod_wsgi and Apache httpd or httpd24&quot; [1] 을 참조하시면,<br>Step 1) 아래와 같이 RHEL에서 제공하는 httpd &amp; mod_wsgi를 사용하시거나, 또는 RHSCL에서 제공하는 httpd24-httpd &amp; (python27-mod_wsgi, python33-mod_wsgi, rh-python34-mod_wsgi 중 하나)를 사용하실 수 있습니다.<br><br>~~~~~<br>Install httpd &amp; mod_wsgi<br>Or <br>Install httpd24-httpd and one of python27-mod_wsgi, python33-mod_wsgi, or rh-python34-mod_wsgi<br>~~~~~<br><br>KCS [1]을 참조하시어 테스트 및 결과 공유 부탁드립니다.<br>여전히 에러가 발생하신다면, debug level의 httpd error_log와 더불어 KCS [2]를 참조하여 sosreport를 수집하여 업로드 부탁드립니다.<br><br>Regards,  <br>Minwoo Park <br><br><br>[1] https://access.redhat.com/solutions/2204051 - How to create a simple python app with mod_wsgi and Apache httpd or httpd24<br>[2] https://access.redhat.com/knowledge/ko/solutions/82033 - sosreport란 무엇인가?<br><br><publishedDate>2017-08-01T06:08:07Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000K6oeKIAR"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-08-01T05:20:46Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-08-01T05:20:46Z</b><br><br>안녕하세요,<br><br>WSGIProcessGroup slot  <br><br>WSGIProcessGroup 의 정의는 다음과 같습니다.<br>~~~~~<br>Description:<br>Sets which process group WSGI application is assigned to.<br>~~~~~<br><br>1. &quot;slot&quot;이라는 group이 OS 상에 정의가 되어 있고, 이용 가능한 group 인가요?<br>2. mod_wsgi.so 모듈은 &quot;yum install mod_wsgi&quot; 릍 통해 받으신 모듈을 이용하시는 건가요?<br>3. 위 옵션 추가 후 기동이 되지 않을때의 apache error_log 나 기타 에러 메시지가 있으면 업로드 부탁드립니다.<br>4. &quot;해당 행을 제외하고 실행하면 실행은 되지만, 아파치 서버 최초 실행시 모듈 초기화가 되지 않는 것으로 추정됨.&quot; =&gt; 확인을 위해 loglevel을 debug로 설정 후에 아파치 구동 후 error_log를 업로드 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2017-08-01T05:20:46Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000K6oWrIAJ"><br>======================<br><b>생성계정 : Park, Min Woo</b><br><b>생성날짜 : 2017-08-01T05:03:16Z</b><br><b>마지막 답변자 : Park, Min Woo</b><br><b>마지막 수정 일자 : 2017-08-01T05:03:15Z</b><br><br>안녕하세요,  <br>  <br>Red Hat Global Support Services를 이용해주셔서 감사합니다.  <br><br>현재 이 케이스의 내용을 자세히 살펴보는 중이며, 곧 업데이트 하도록 하겠습니다.<br>  <br>감사합니다. <br>Minwoo Park  <br>Senior Technical Support Engineer  <br>Customer Experience and Engagement (CEE)<br><br><publishedDate>2017-08-01T05:03:15Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>WSGIProcessGroup slot  &lt;-- 이옵션을 넣으면 기동 안됨<br><br> <br><br>2. 해당 행을 제외하고 실행하면 실행은 되지만,<br><br>아파치 서버 최초 실행시 모듈 초기화가 되지 않는 것으로 추정됨.<br><br> <br><br>3. 2와 같은 상황에서 Postman 등을 이용하여 API를 호출하여 초기화를 시켜준 후,<br><br>접속하면 정상적으로 서비스가 되는 것으로 판단됨</issue><environment>redhat linux 7.2 bundle apache 2.4.6 에서 anacoda python 3.5 연동 mod_wsgi.so 사용</environment><periodicityOfIssue>WSGIProcessGroup slot  옵션만 넣으면 발생.</periodicityOfIssue><timeFramesAndUrgency>서비스와 연관되어 빠른 가이드 부탁 드립니다.</timeFramesAndUrgency><cep>false</cep></case>