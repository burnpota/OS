======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2017-01-04T02:05:49Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2017-01-22T11:14:12Z</b><br><b>id : 500A000000W8BDWIA3</b><br>======================<br><br><b><font size=15>
제목  : [기술문의] 특정유저 ssh 접속불가
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br><br>dataftp 유저로 ssh 접속이 안되는 현상이 발생하며 다른 유저로는 <br><br>접속이 원활한 상태입니다. root 로 접속후 su - dataftp 실행시 쉘 프롬프트 도 <br><br>나오지 않으며 아무런 반응이 없습니다. sosreport 첨부 하였습니다. 감사합니다.<br><br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: Accepted publickey for dataftp from 100.253.110.11 port 33554 ssh2<br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: pam_unix(sshd:session): session opened for user dataftp by (uid=0)<br>Jan  3 16:09:01 cl-rmms10 sshd[6236]: Accepted publickey for dataftp from 100.252.147.131 port 46912 ssh2<br>Jan  3 16:09:01 cl-rmms10 sshd[6236]: pam_unix(sshd:session): session opened for user dataftp by (uid=0)<br>Jan  3 16:09:01 cl-rmms10 sshd[6242]: Received disconnect from 100.253.110.11: 11: disconnected by user<br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: pam_unix(sshd:session): session closed for user dataftp<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>=========================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 신두철 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-3867-5067 <br>- 메일주소 : 신두처 &lt;dc27.shin@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com''<br>=========================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 5.6</b><br><b>타입  : Other</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000IcL0TIAV"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-01-05T05:36:26Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-01-05T05:36:26Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br><br>ssh -vvv 출력 결과에서 보면 ssh session이 연결이 되었다가 바로 종료 <br>된 것으로 보입니다. <br><br>debug2: channel 0: rcvd eof                 &lt;===<br>debug2: channel 0: output open -&gt; drain<br>debug2: channel 0: obuf empty<br>debug2: channel 0: close_write<br>debug2: channel 0: output drain -&gt; closed<br><br><br>해당 유저에서 사용 하는 shell이 ksh로 보이며 혹시 다른 shell (bash)<br>로 변경 하셨을때는 문제가 해소 되는지 확인 부탁드립니다. <br><br>dataftp:x:111:100::/data/FTP_DATA:/bin/bash<br>======================<br>감사합니다. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-01-05T05:36:26Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000Ic4DbIAJ"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2017-01-04T06:19:38Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2017-01-04T06:19:38Z</b><br><br>안녕하세요. 디버깅 값 파일 첨부합니다.<br><br>[root@cl-rmms10 /root]# cat /etc/passwd | grep dataftp<br>dataftp:x:111:100::/data/FTP_DATA:/bin/ksh<br><br><publishedDate>2017-01-04T06:19:38Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Ic34BIAR"><br>======================<br><b>생성계정 : Zheng, Meiyan</b><br><b>생성날짜 : 2017-01-04T02:31:53Z</b><br><b>마지막 답변자 : Zheng, Meiyan</b><br><b>마지막 수정 일자 : 2017-01-04T02:31:53Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용 해 주셔서 감사합니다. <br><br><br>아래의 명령어 출력물을 추가적으로 보내 주시기 바랍니다. <br><br>1)<br># ssh dataftp@cl-rmms10 -vvv 2&gt; /tmp/ssh_vvv.txt<br><br>2)<br># cat /etc/passwd | grep dataftp<br><br><br>감사합니다. <br><br>Red Hat GSS<br>정미연 드림<br><br><publishedDate>2017-01-04T02:31:53Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br><br>dataftp 유저로 ssh 접속이 안되는 현상이 발생하며 다른 유저로는 <br><br>접속이 원활한 상태입니다. root 로 접속후 su - dataftp 실행시 쉘 프롬프트 도 <br><br>나오지 않으며 아무런 반응이 없습니다. sosreport 첨부 하였습니다. 감사합니다.<br><br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: Accepted publickey for dataftp from 100.253.110.11 port 33554 ssh2<br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: pam_unix(sshd:session): session opened for user dataftp by (uid=0)<br>Jan  3 16:09:01 cl-rmms10 sshd[6236]: Accepted publickey for dataftp from 100.252.147.131 port 46912 ssh2<br>Jan  3 16:09:01 cl-rmms10 sshd[6236]: pam_unix(sshd:session): session opened for user dataftp by (uid=0)<br>Jan  3 16:09:01 cl-rmms10 sshd[6242]: Received disconnect from 100.253.110.11: 11: disconnected by user<br>Jan  3 16:09:01 cl-rmms10 sshd[6173]: pam_unix(sshd:session): session closed for user dataftp</issue><timeFramesAndUrgency>=========================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 신두철 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  82-10-3867-5067 <br>- 메일주소 : 신두처 &lt;dc27.shin@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 진성민(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01076761313<br>- 메일주소 : sm.jin@time-gate.com''<br>=========================================================</timeFramesAndUrgency><cep>false</cep></case>