======================<br><b>생성계정 : 타임게이트 타임게이트</b><br><b>생성날짜 : 2016-04-21T13:40:19Z</b><br><b>마지막 답변자 : GSS Tools</b><br><b>마지막 수정 일자 : 2018-02-24T11:00:17Z</b><br><b>id : 500A000000U3D2WIAV</b><br>======================<br><br><b><font size=15>
제목  : [기술문의]pam_tally.so 관
</font></b><br><br>======================<br><b>사전문의<br></b><br>어떤 문제/오류/결함이 발생했습니까? 기대하시는 결과는 무엇입니까?<br><br>안녕하세요.<br>금융결제원에서 계정정책에<br>auth required /lib/security/pam_tally.so deny=5 unlock_time=120 no_magic_root<br>account required /lib/security/pam_tally.so no_magic_root reset<br>위의 내용을 system-auth 에 추가하라는 메일을  내려와 문의드립니다.<br><br><br>현재 작업을<br>RHEL5<br><br>[root@rhel5 ~]# vi /etc/pam.d/system-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally.so deny=5 unlock_time=120 no_magic_root  &lt;-- 추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>account     required      pam_tally.so no_magic_root reset  &lt;--추가<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>RHEL6<br>[root@rhel6 pam.d]# vi /etc/pam.d/system-auth<br><br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_fprintd.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120 no_magic_root &lt;-- 추가<br><br>account     required      pam_unix.so<br>account     required      pam_tally2.so no_magic_root reset &lt;-- 추가<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>[root@rhel6 pam.d]# vi /etc/pam.d/password-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120 no_magic_root &lt;-- 추가<br><br>account     required      pam_unix.so<br>account     required      pam_tally2.so no_magic_root reset &lt;-- 추가<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>위의 작업이 정확한지 확인 부탁드립니다. <br>감사합니다.<br><br>문제 해결 기간 및  긴급도와 관련된 정보를 제공해 주시겠습니까?<br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김경희 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-3049-1440 <br>- 메일주소 : 김경희 &lt;khsds.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br>=======================<br><b>상태 : Closed</b><br><b>제품명  : Red Hat Enterprise Linux</b><br><b>버젼  : 6.5</b><br><b>계정 번호  : 1648604</b><br><b>심각도  : 3 (Normal)</b><br>======================<br><comment id="a0aA000000LaPFyIAN"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2018-02-07T07:30:34Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2018-02-07T07:30:33Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>account 부분 설정은 일부 서비스가 제대로 카운터 리셋 작업을 진행하지 못하는것을 대비하여 추가하게 됩니다.<br>해당 pam 설정을 사용하는 서비스들이 전부 pam_setcred를 정상적으로 콜 할수 있는것으로 확인될시에는 추가하지 않으셔도<br>문제가 없습니다. 다만 어떤 서비스가 정상 리셋을 진행하지 못하는지를 확인하기 어려워 이와 같은 서비스가 있을 경우를 대비하여 <br>해당 설정을 추가하시는것을 권장 드립니다.<br><br>ACCOUNT OPTIONS<br>   Account phase resets attempts counter if the user is not magic root. This phase can be used optionally for services which don´t call pam_setcred(3) correctly or if the reset should be done regardless of the failure of the account phase of other modules.<br><br>감사합니다.<br><br><publishedDate>2018-02-07T07:30:33Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LaNWZIA3"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-02-07T04:22:41Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-02-07T04:22:41Z</b><br><br>답변 매우감사합니다.<br>3월안정화 작업부터 전 서버에대해서 보안설정을 통일하고자 해서 아래와 같은 케이스를 오픈 진행중에 있는점 양해 부탁드립니다.<br>한가지 더 질문드리겠습니다.<br><br>password-auth에 <br>auth        required      pam_tally2.so deny=2 unlock_time=120&lt;--추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>..(생략)..<br>account     required      pam_tally2.so &lt;--추가<br>account     required      pam_unix.so<br>넣었는데요.<br><br>account     required      pam_tally2.so 의 경우는 없어도 정책은 동일하게 적용이 되는데요.<br>account     required      pam_tally2.so부분을 제거해도 되는건가요??<br>아니면 반드시 한쌍으로 반드시 존재해야 되는건가요?<br><br><publishedDate>2018-02-07T04:22:41Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000La5JnIAJ"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2018-02-06T07:41:08Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2018-02-06T07:41:08Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>저희 기술지원팀은 시스템 진단을 지원하고 있습니다. 시스템에 어떤 이슈가 있으신지 알려주시면 원인 분석 및 솔루션을 안내해 드리도록 하겠습니다.<br><br>아래의 문의사항은 관련 문서를 찾아보았습니다. 참고 하시기 바랍니다.<br><br>1. auth와 account의  차이점이 어떻게 되나요?<br>auth는 인증의 부분으로 뒤에 옵션을 보면 의미를 알겠습니다. 그런데 <br>account는 어떠한 역할인지 찾아보면 &quot;계정은 사용자가 해당 서비스에 접근이 허용되었는지, 패스워드가 기간이 만료가 되었는지를 결정한다&quot;  정확히 이해가 되지 않습니다. 예를들어 설명을 부탁드려도될까요?<br>==&gt;<br>man 페이지가 아닌 다른 문서에서 설명한바에 의하면 아래와 같습니다. 도움이 되시기 바랍니다.<br>auth<br>The 'auth' realm (I call it a realm - the docs refer to it as a<br>'management group' or 'facility') is responsible for checking that<br>the user is who they say. The modules that can be listed in this<br>area generally support prompting for a password.<br>account<br>This area is responsible for a wide array of possible account<br>verification functionality. There are many modules available for<br>this facility. Constraints to the use of a service based on checking<br>group membership, time of day, whether a user account is local or<br>remote, etc., are generally enforced by modules which support this<br>facility.<br><br>2. 현재 센터내에서 어떠한 서버는 pam_tally2.so가 sufficient 로 어떠한 서버는 required 등록이 되어있는데요.<br>의미를 찾아보면 sufficient 는 &quot;비록 이전에 요청되어진 모듈이 실패하더라도 이 모듈에 의해서 인증이 성공할 경우, PAM은 인증을 승인한다&quot;<br> required 는 &quot;인증이 거부되기 전에 비록 PAM이 이 서비스에 등록된 다른 모든 모듈들을 요구함에도 불구하고 실패할 경우 인증을 거부하도록 한다.&quot; 인데<br>이것이 타입에 하나씩적용되는 부분인가요?<br>==&gt;<br>아래의 설명을 보시면 알겠지만 required는 실패된 경우 모든 stack된 모듈을 실행한후 PAM-API에 failure를 리턴하게 되며<br>sufficient는 해당 모듈이 성공하였고 이전에 실행된 required 모듈도 전부 성공하였다면 해당 operation이 성공한것으로<br>판단되며 아래에 설정된 모듈은 invoke하지 않습니다. 다만 해당 sufficient 모듈전 required 모듈이 실패되면 해당 성공이 ignore 됩니다.<br><br>required<br><br>    failure of such a PAM will ultimately lead to the PAM-API returning failure<br>    but only after the remaining stacked modules (for this service and type)<br>    have been invoked.<br><br>requisite<br><br>    like required, however, in the case that such a module returns a failure,<br>    control is directly returned to the application. The return value is that<br>    associated with the first required or requisite module to fail. Note, this<br>    flag can be used to protect against the possibility of a user getting the<br>    opportunity to enter a password over an unsafe medium. It is conceivable<br>    that such behavior might inform an attacker of valid accounts on a system.<br>    This possibility should be weighed against the not insignificant concerns<br>    of exposing a sensitive password in a hostile environment.<br><br>sufficient<br><br>    success of such a module is enough to satisfy the authentication<br>    requirements of the stack of modules (if a prior required module has failed<br>    the success of this one is ignored). A failure of this module is not deemed<br>    as fatal to satisfying the application that this type has succeeded. If the<br>    module succeeds the PAM framework returns success to the application<br>    immediately without trying any other modules.<br><br>optional<br><br>    the success or failure of this module is only important if it is the only<br>    module in the stack associated with this service+type.<br><br>예를들면 account sufficient 하나 auth sufficient하나 존재한다면 둘중에 하나만 참이라면 성공하는 것인지 아니면 각 타입마다 개별적으로 적용되는 부분인지 혼동이되네요. 마찬가지로 required  동일한게 타입마다 개별적용인지 아니면 전체에서 하나만 실패면 거짓이 되는것인지 궁금합니다.<br>==&gt;<br>서버에서 필요에 따라 account 혹은 auth에 설정된 모듈들을 순차적으로 실행하게 됩니다.<br>required, requisite, sufficient, optional 성공, 실패 조건은 상기 설명 확인해 보시기 바랍니다.<br><br>로그에서 실시간으로 확인이 되는지.. 예를들어서 설명 부탁드립니다.<br>==&gt;<br>pam 로그는 에러가 발생시에 로깅이 되며 모든 로그가 기록되는것은 아닙니다.<br><br><br>account     required      pam_unix.so reset &lt;--reset이 설정되어있음<br>==&gt;<br>관련 문서 확인시 reset 옵션이 존재하지 않습니다. 이는 디폴트 설정 이신지요? <br>버전이 어떻게 되는지 확인 부탁 드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-06T07:41:08Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000La3mKIAR"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-02-06T04:58:42Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-02-06T04:58:42Z</b><br><br>추가 질문드립니다<br>현재 RHEL5의경우<br>account     required      pam_unix.so reset &lt;--reset이 설정되어있음<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>위에서 보듯이  reset이 추가 되어있는데요.<br>reset을 없어도 되는 건가요??<br><br>또한 역할이 어떤지 알고싶습니다.<br><br><publishedDate>2018-02-06T04:58:42Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LZn01IAD"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-02-05T08:23:20Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-02-05T08:23:20Z</b><br><br>답변감사합니다.<br>제가 좀 혼동이 되서 그러는데요.<br>pam 의 타입의 경우 auth account password session 이 있고<br>컨트롤의 경우 required requisite sufficient optional 있는데요.<br><br>1. auth와 account의  차이점이 어떻게 되나요?<br>auth는 인증의 부분으로 뒤에 옵션을 보면 의미를 알겠습니다. 그런데 <br>account는 어떠한 역할인지 찾아보면 &quot;계정은 사용자가 해당 서비스에 접근이 허용되었는지, 패스워드가 기간이 만료가 되었는지를 결정한다&quot;  정확히 이해가 되지 않습니다. 예를들어 설명을 부탁드려도될까요?<br><br>2. 현재 센터내에서 어떠한 서버는 pam_tally2.so가 sufficient 로 어떠한 서버는 required 등록이 되어있는데요.<br>의미를 찾아보면 sufficient 는 &quot;비록 이전에 요청되어진 모듈이 실패하더라도 이 모듈에 의해서 인증이 성공할 경우, PAM은 인증을 승인한다&quot;<br> required 는 &quot;인증이 거부되기 전에 비록 PAM이 이 서비스에 등록된 다른 모든 모듈들을 요구함에도 불구하고 실패할 경우 인증을 거부하도록 한다.&quot; 인데<br>이것이 타입에 하나씩적용되는 부분인가요?<br><br>예를들면 account sufficient 하나 auth sufficient하나 존재한다면 둘중에 하나만 참이라면 성공하는 것인지 아니면 각 타입마다 개별적으로 적용되는 부분인지 혼동이되네요. 마찬가지로 required  동일한게 타입마다 개별적용인지 아니면 전체에서 하나만 실패면 거짓이 되는것인지 궁금합니다.<br><br>다소 장황하게 설명드렸는데요.<br>결론적으로 auth, account, sufficient, required 가 문서를 읽어서는 정확히 이해가 되지 않습니다.<br>로그에서 실시간으로 확인이 되는지.. 예를들어서 설명 부탁드립니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-05T08:23:20Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000LZk4sIAD"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2018-02-05T02:27:36Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2018-02-05T02:27:36Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services를 이용해주셔서 감사합니다.<br><br>문의주신 질문에 대한 답변은 아래와 같습니다. 참고 하시기 바랍니다.<br><br>1. pam_tally2.so의 경우 타입에 관계없이(예를들면 auth, account , password) pam_unix.so 상당에 넣어야 하는지<br><br>네, 맞습니다. pam_tally2.so는 항상 pam_unix.so 상단에 넣어야 합니다.<br><br>2. system-auth는 local password-auth는 리모트 적용하는 부분으로 알고있는데 아래를 보면 RHEL5의 경우는 system-auth에만 적용하라고 하였는데 <br>system-auth에만 적용하면되는지<br><br>RHEL5의 경우에는 password-auth 파일이 별도로 나뉘어 있지 않기 때문에 system-auth에만 적용하시면 됩니다.<br>password-auth 파일은 RHEL6 부터 추가 되었습니다.<br><br>감사합니다.<br><br><publishedDate>2018-02-05T02:27:36Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000LZim4IAD"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2018-02-05T01:00:21Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2018-02-05T01:00:21Z</b><br><br>안녕하세요. pam 관련해서 이번에 일괄적으로 동일하게 설정을 진행하고자 합니다.<br>전에 알려주신데로 아래와 같이 진행하고 하는데요.<br>두가지 의문점이 있어서 질문드립니다.<br><br>1. pam_tally2.so의 경우 타입에 관계없이(예를들면 auth, account , password) pam_unix.so 상당에 넣어야 하는지<br><br>2. system-auth는 local password-auth는 리모트 적용하는 부분으로 알고있는데 아래를 보면 RHEL5의 경우는 system-auth에만 적용하라고 하였는데 <br>system-auth에만 적용하면되는지<br><br>두가지 부분에서 확인 부탁드립니다.<br><br>감사합니다.<br><br>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김경희 (선임)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-3049-1440 <br>- 메일주소 : 김경희 &lt;khsds.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(책임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================<br><br><publishedDate>2018-02-05T01:00:21Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000H4KDmIAN"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-05-04T03:37:15Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-05-04T03:37:15Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>&gt; 혹시 RHEL3,4버전에서 pam_tally2.so도 RHEL5,6 버전과 마찬가지로 <br>no_magic_root가 디폴트로 들어가있는 건가요??<br><br>RHEL3,4 에서는 pam_tally.so를 사용하며 no_magic_root 옵션을<br>지정해 주셔야만 적용됩니다.<br>참고로 RHEL3,4는 Life Cycle가 지나 저희 기술지원 범위가 아님을 알려드립니다.<br><br>감사합니다.<br><br><publishedDate>2016-05-04T03:37:15Z</publishedDate><createdByType>Associate</createdByType><br>======================<br><comment id="a0aA000000H45oLIAR"><br>======================<br><b>생성계정 : 타임게이트, 타임게이트</b><br><b>생성날짜 : 2016-05-04T01:30:00Z</b><br><b>마지막 답변자 : 타임게이트, 타임게이트</b><br><b>마지막 수정 일자 : 2016-05-04T01:30:00Z</b><br><br>답변감사합니다.<br>혹시 RHEL3,4버전에서 pam_tally2.so도 RHEL5,6 버전과 마찬가지로 <br>no_magic_root가 디폴트로 들어가있는 건가요??<br><br><publishedDate>2016-05-04T01:30:00Z</publishedDate><createdByType>Customer</createdByType><br>======================<br><comment id="a0aA000000Gx3cTIAR"><br>======================<br><b>생성계정 : Huang, Ying</b><br><b>생성날짜 : 2016-04-22T02:57:17Z</b><br><b>마지막 답변자 : Huang, Ying</b><br><b>마지막 수정 일자 : 2016-04-22T02:57:17Z</b><br><br>안녕하세요,<br><br>Red Hat Global Support Services 를 이용해 주셔서 감사합니다.<br><br>RHEL5 버전 이후 pam_tally/pam_tally2 모듈에는 no_magic_root 와 reset 옵션이 <br>존재하지 않으며 디폴트로 이와 같은 작용을 하게 됩니다.<br><br>또한 pam_tally/pam_tally2 설정은 반드시 pam_unix 모듈위에 설정하셔야 됩니다.<br><br>따라서 설정파일을 아래와 같이 설정하실수 있습니다.<br><br>RHEL5<br><br>[root@rhel5 ~]# vi /etc/pam.d/system-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally.so deny=5 unlock_time=120   &lt;-- 추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_tally.so   &lt;--추가<br>account     required      pam_unix.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>RHEL6<br>[root@rhel6 pam.d]# vi /etc/pam.d/system-auth<br><br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_fprintd.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120  &lt;-- 추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_tally2.so   &lt;-- 추가<br>account     required      pam_unix.so<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>[root@rhel6 pam.d]# vi /etc/pam.d/password-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120  &lt;-- 추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_tally2.so  &lt;-- 추가<br>account     required      pam_unix.so<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br>감사합니다.<br><br><publishedDate>2016-04-22T02:57:17Z</publishedDate><createdByType>Associate</createdByType><br>======================<br></comments><br>금융결제원에서 계정정책에<br>auth required /lib/security/pam_tally.so deny=5 unlock_time=120 no_magic_root<br>account required /lib/security/pam_tally.so no_magic_root reset<br>위의 내용을 system-auth 에 추가하라는 메일을  내려와 문의드립니다.<br><br><br>현재 작업을<br>RHEL5<br><br>[root@rhel5 ~]# vi /etc/pam.d/system-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        required      pam_tally.so deny=5 unlock_time=120 no_magic_root  &lt;-- 추가<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br><br>account     required      pam_unix.so<br>account     required      pam_tally.so no_magic_root reset  &lt;--추가<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>RHEL6<br>[root@rhel6 pam.d]# vi /etc/pam.d/system-auth<br><br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_fprintd.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120 no_magic_root &lt;-- 추가<br><br>account     required      pam_unix.so<br>account     required      pam_tally2.so no_magic_root reset &lt;-- 추가<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>[root@rhel6 pam.d]# vi /etc/pam.d/password-auth<br>#%PAM-1.0<br># This file is auto-generated.<br># User changes will be destroyed the next time authconfig is run.<br>auth        required      pam_env.so<br>auth        sufficient    pam_unix.so nullok try_first_pass<br>auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet<br>auth        required      pam_deny.so<br>auth        required      pam_tally2.so deny=5 unlock_time=120 no_magic_root &lt;-- 추가<br><br>account     required      pam_unix.so<br>account     required      pam_tally2.so no_magic_root reset &lt;-- 추가<br>account     sufficient    pam_localuser.so<br>account     sufficient    pam_succeed_if.so uid &lt; 500 quiet<br>account     required      pam_permit.so<br><br>password    requisite     pam_cracklib.so try_first_pass retry=3 type=<br>password    sufficient    pam_unix.so md5 shadow nullok try_first_pass use_authtok<br>password    required      pam_deny.so<br><br>session     optional      pam_keyinit.so revoke<br>session     required      pam_limits.so<br>session     [success=1 default=ignore] pam_succeed_if.so service in crond quiet use_uid<br>session     required      pam_unix.so<br><br><br>위의 작업이 정확한지 확인 부탁드립니다. <br>감사합니다.</issue><timeFramesAndUrgency>==============================================================================<br>* 고객 정보 (필수) - 실제 레드햇 서브스크립션을 소유하고 시스템에 사용 중인 엔드 유저<br>- 성함(직급) : 김경희 (사원)<br>- 회사명(부서명) : 삼성SDS<br>- 전화번호 :  +82-10-3049-1440 <br>- 메일주소 : 김경희 &lt;khsds.kim@samsung.com&gt;<br><br>* 파트너 정보 (옵션) - 실제 고객의 시스템을 유지보수하는 업체<br>- 성함(직급) : 송기호(선임)<br>- 회사명(부서명) : 타임게이트(오픈소스팀)<br>- 전화번호 : 01036209917<br>- 메일주소 : kh.song@time-gate.com<br>==============================================================================</timeFramesAndUrgency><cep>false</cep></case>